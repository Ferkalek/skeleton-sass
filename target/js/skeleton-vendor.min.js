!function(t,e,i,s){function o(e,i){this.element=e,this.options=t.extend({},r,i),this._defaults=r,this._name=n,this.init()}var n="stellar",r={scrollProperty:"scroll",positionProperty:"position",horizontalScrolling:!0,verticalScrolling:!0,horizontalOffset:0,verticalOffset:0,responsive:!1,parallaxBackgrounds:!0,parallaxElements:!0,hideDistantElements:!0,hideElement:function(t){t.hide()},showElement:function(t){t.show()}},a={scroll:{getLeft:function(t){return t.scrollLeft()},setLeft:function(t,e){t.scrollLeft(e)},getTop:function(t){return t.scrollTop()},setTop:function(t,e){t.scrollTop(e)}},position:{getLeft:function(t){return parseInt(t.css("left"),10)*-1},getTop:function(t){return parseInt(t.css("top"),10)*-1}},margin:{getLeft:function(t){return parseInt(t.css("margin-left"),10)*-1},getTop:function(t){return parseInt(t.css("margin-top"),10)*-1}},transform:{getLeft:function(t){var e=getComputedStyle(t[0])[c];return"none"!==e?parseInt(e.match(/(-?[0-9]+)/g)[4],10)*-1:0},getTop:function(t){var e=getComputedStyle(t[0])[c];return"none"!==e?parseInt(e.match(/(-?[0-9]+)/g)[5],10)*-1:0}}},l={position:{setLeft:function(t,e){t.css("left",e)},setTop:function(t,e){t.css("top",e)}},transform:{setPosition:function(t,e,i,s,o){t[0].style[c]="translate3d("+(e-i)+"px, "+(s-o)+"px, 0)"}}},f=function(){var e,i=/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,s=t("script")[0].style,o="";for(e in s)if(i.test(e)){o=e.match(i)[0];break}return"WebkitOpacity"in s&&(o="Webkit"),"KhtmlOpacity"in s&&(o="Khtml"),function(t){return o+(o.length>0?t.charAt(0).toUpperCase()+t.slice(1):t)}}(),c=f("transform"),h=t("<div />",{style:"background:#fff"}).css("background-position-x")!==s,p=h?function(t,e,i){t.css({"background-position-x":e,"background-position-y":i})}:function(t,e,i){t.css("background-position",e+" "+i)},d=h?function(t){return[t.css("background-position-x"),t.css("background-position-y")]}:function(t){return t.css("background-position").split(" ")},u=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)};o.prototype={init:function(){this.options.name=n+"_"+Math.floor(1e9*Math.random()),this._defineElements(),this._defineGetters(),this._defineSetters(),this._handleWindowLoadAndResize(),this._detectViewport(),this.refresh({firstLoad:!0}),"scroll"===this.options.scrollProperty?this._handleScrollEvent():this._startAnimationLoop()},_defineElements:function(){this.element===i.body&&(this.element=e),this.$scrollElement=t(this.element),this.$element=this.element===e?t("body"):this.$scrollElement,this.$viewportElement=this.options.viewportElement!==s?t(this.options.viewportElement):this.$scrollElement[0]===e||"scroll"===this.options.scrollProperty?this.$scrollElement:this.$scrollElement.parent()},_defineGetters:function(){var t=this,e=a[t.options.scrollProperty];this._getScrollLeft=function(){return e.getLeft(t.$scrollElement)},this._getScrollTop=function(){return e.getTop(t.$scrollElement)}},_defineSetters:function(){var e=this,i=a[e.options.scrollProperty],s=l[e.options.positionProperty],o=i.setLeft,n=i.setTop;this._setScrollLeft="function"==typeof o?function(t){o(e.$scrollElement,t)}:t.noop,this._setScrollTop="function"==typeof n?function(t){n(e.$scrollElement,t)}:t.noop,this._setPosition=s.setPosition||function(t,i,o,n,r){e.options.horizontalScrolling&&s.setLeft(t,i,o),e.options.verticalScrolling&&s.setTop(t,n,r)}},_handleWindowLoadAndResize:function(){var i=this,s=t(e);i.options.responsive&&s.bind("load."+this.name,function(){i.refresh()}),s.bind("resize."+this.name,function(){i._detectViewport(),i.options.responsive&&i.refresh()})},refresh:function(i){var s=this,o=s._getScrollLeft(),n=s._getScrollTop();i&&i.firstLoad||this._reset(),this._setScrollLeft(0),this._setScrollTop(0),this._setOffsets(),this._findParticles(),this._findBackgrounds(),i&&i.firstLoad&&/WebKit/.test(navigator.userAgent)&&t(e).load(function(){var t=s._getScrollLeft(),e=s._getScrollTop();s._setScrollLeft(t+1),s._setScrollTop(e+1),s._setScrollLeft(t),s._setScrollTop(e)}),this._setScrollLeft(o),this._setScrollTop(n)},_detectViewport:function(){var t=this.$viewportElement.offset(),e=null!==t&&t!==s;this.viewportWidth=this.$viewportElement.width(),this.viewportHeight=this.$viewportElement.height(),this.viewportOffsetTop=e?t.top:0,this.viewportOffsetLeft=e?t.left:0},_findParticles:function(){var e=this;this._getScrollLeft(),this._getScrollTop();if(this.particles!==s)for(var i=this.particles.length-1;i>=0;i--)this.particles[i].$element.data("stellar-elementIsActive",s);this.particles=[],this.options.parallaxElements&&this.$element.find("[data-stellar-ratio]").each(function(i){var o,n,r,a,l,f,c,h,p,d=t(this),u=0,g=0,m=0,v=0;if(d.data("stellar-elementIsActive")){if(d.data("stellar-elementIsActive")!==this)return}else d.data("stellar-elementIsActive",this);e.options.showElement(d),d.data("stellar-startingLeft")?(d.css("left",d.data("stellar-startingLeft")),d.css("top",d.data("stellar-startingTop"))):(d.data("stellar-startingLeft",d.css("left")),d.data("stellar-startingTop",d.css("top"))),r=d.position().left,a=d.position().top,l="auto"===d.css("margin-left")?0:parseInt(d.css("margin-left"),10),f="auto"===d.css("margin-top")?0:parseInt(d.css("margin-top"),10),h=d.offset().left-l,p=d.offset().top-f,d.parents().each(function(){var e=t(this);return e.data("stellar-offset-parent")===!0?(u=m,g=v,c=e,!1):(m+=e.position().left,void(v+=e.position().top))}),o=d.data("stellar-horizontal-offset")!==s?d.data("stellar-horizontal-offset"):c!==s&&c.data("stellar-horizontal-offset")!==s?c.data("stellar-horizontal-offset"):e.horizontalOffset,n=d.data("stellar-vertical-offset")!==s?d.data("stellar-vertical-offset"):c!==s&&c.data("stellar-vertical-offset")!==s?c.data("stellar-vertical-offset"):e.verticalOffset,e.particles.push({$element:d,$offsetParent:c,isFixed:"fixed"===d.css("position"),horizontalOffset:o,verticalOffset:n,startingPositionLeft:r,startingPositionTop:a,startingOffsetLeft:h,startingOffsetTop:p,parentOffsetLeft:u,parentOffsetTop:g,stellarRatio:d.data("stellar-ratio")!==s?d.data("stellar-ratio"):1,width:d.outerWidth(!0),height:d.outerHeight(!0),isHidden:!1})})},_findBackgrounds:function(){var e,i=this,o=this._getScrollLeft(),n=this._getScrollTop();this.backgrounds=[],this.options.parallaxBackgrounds&&(e=this.$element.find("[data-stellar-background-ratio]"),this.$element.data("stellar-background-ratio")&&(e=e.add(this.$element)),e.each(function(){var e,r,a,l,f,c,h,u=t(this),g=d(u),m=0,v=0,L=0,_=0;if(u.data("stellar-backgroundIsActive")){if(u.data("stellar-backgroundIsActive")!==this)return}else u.data("stellar-backgroundIsActive",this);u.data("stellar-backgroundStartingLeft")?p(u,u.data("stellar-backgroundStartingLeft"),u.data("stellar-backgroundStartingTop")):(u.data("stellar-backgroundStartingLeft",g[0]),u.data("stellar-backgroundStartingTop",g[1])),a="auto"===u.css("margin-left")?0:parseInt(u.css("margin-left"),10),l="auto"===u.css("margin-top")?0:parseInt(u.css("margin-top"),10),f=u.offset().left-a-o,c=u.offset().top-l-n,u.parents().each(function(){var e=t(this);return e.data("stellar-offset-parent")===!0?(m=L,v=_,h=e,!1):(L+=e.position().left,void(_+=e.position().top))}),e=u.data("stellar-horizontal-offset")!==s?u.data("stellar-horizontal-offset"):h!==s&&h.data("stellar-horizontal-offset")!==s?h.data("stellar-horizontal-offset"):i.horizontalOffset,r=u.data("stellar-vertical-offset")!==s?u.data("stellar-vertical-offset"):h!==s&&h.data("stellar-vertical-offset")!==s?h.data("stellar-vertical-offset"):i.verticalOffset,i.backgrounds.push({$element:u,$offsetParent:h,isFixed:"fixed"===u.css("background-attachment"),horizontalOffset:e,verticalOffset:r,startingValueLeft:g[0],startingValueTop:g[1],startingBackgroundPositionLeft:isNaN(parseInt(g[0],10))?0:parseInt(g[0],10),startingBackgroundPositionTop:isNaN(parseInt(g[1],10))?0:parseInt(g[1],10),startingPositionLeft:u.position().left,startingPositionTop:u.position().top,startingOffsetLeft:f,startingOffsetTop:c,parentOffsetLeft:m,parentOffsetTop:v,stellarRatio:u.data("stellar-background-ratio")===s?1:u.data("stellar-background-ratio")})}))},_reset:function(){var t,e,i,s,o;for(o=this.particles.length-1;o>=0;o--)t=this.particles[o],e=t.$element.data("stellar-startingLeft"),i=t.$element.data("stellar-startingTop"),this._setPosition(t.$element,e,e,i,i),this.options.showElement(t.$element),t.$element.data("stellar-startingLeft",null).data("stellar-elementIsActive",null).data("stellar-backgroundIsActive",null);for(o=this.backgrounds.length-1;o>=0;o--)s=this.backgrounds[o],s.$element.data("stellar-backgroundStartingLeft",null).data("stellar-backgroundStartingTop",null),p(s.$element,s.startingValueLeft,s.startingValueTop)},destroy:function(){this._reset(),this.$scrollElement.unbind("resize."+this.name).unbind("scroll."+this.name),this._animationLoop=t.noop,t(e).unbind("load."+this.name).unbind("resize."+this.name)},_setOffsets:function(){var i=this,s=t(e);s.unbind("resize.horizontal-"+this.name).unbind("resize.vertical-"+this.name),"function"==typeof this.options.horizontalOffset?(this.horizontalOffset=this.options.horizontalOffset(),s.bind("resize.horizontal-"+this.name,function(){i.horizontalOffset=i.options.horizontalOffset()})):this.horizontalOffset=this.options.horizontalOffset,"function"==typeof this.options.verticalOffset?(this.verticalOffset=this.options.verticalOffset(),s.bind("resize.vertical-"+this.name,function(){i.verticalOffset=i.options.verticalOffset()})):this.verticalOffset=this.options.verticalOffset},_repositionElements:function(){var t,e,i,s,o,n,r,a,l,f,c=this._getScrollLeft(),h=this._getScrollTop(),d=!0,u=!0;if(this.currentScrollLeft!==c||this.currentScrollTop!==h||this.currentWidth!==this.viewportWidth||this.currentHeight!==this.viewportHeight){for(this.currentScrollLeft=c,this.currentScrollTop=h,this.currentWidth=this.viewportWidth,this.currentHeight=this.viewportHeight,f=this.particles.length-1;f>=0;f--)t=this.particles[f],e=t.isFixed?1:0,this.options.horizontalScrolling?(n=(c+t.horizontalOffset+this.viewportOffsetLeft+t.startingPositionLeft-t.startingOffsetLeft+t.parentOffsetLeft)*-(t.stellarRatio+e-1)+t.startingPositionLeft,a=n-t.startingPositionLeft+t.startingOffsetLeft):(n=t.startingPositionLeft,a=t.startingOffsetLeft),this.options.verticalScrolling?(r=(h+t.verticalOffset+this.viewportOffsetTop+t.startingPositionTop-t.startingOffsetTop+t.parentOffsetTop)*-(t.stellarRatio+e-1)+t.startingPositionTop,l=r-t.startingPositionTop+t.startingOffsetTop):(r=t.startingPositionTop,l=t.startingOffsetTop),this.options.hideDistantElements&&(u=!this.options.horizontalScrolling||a+t.width>(t.isFixed?0:c)&&a<(t.isFixed?0:c)+this.viewportWidth+this.viewportOffsetLeft,d=!this.options.verticalScrolling||l+t.height>(t.isFixed?0:h)&&l<(t.isFixed?0:h)+this.viewportHeight+this.viewportOffsetTop),u&&d?(t.isHidden&&(this.options.showElement(t.$element),t.isHidden=!1),this._setPosition(t.$element,n,t.startingPositionLeft,r,t.startingPositionTop)):t.isHidden||(this.options.hideElement(t.$element),t.isHidden=!0);for(f=this.backgrounds.length-1;f>=0;f--)i=this.backgrounds[f],e=i.isFixed?0:1,s=this.options.horizontalScrolling?(c+i.horizontalOffset-this.viewportOffsetLeft-i.startingOffsetLeft+i.parentOffsetLeft-i.startingBackgroundPositionLeft)*(e-i.stellarRatio)+"px":i.startingValueLeft,o=this.options.verticalScrolling?(h+i.verticalOffset-this.viewportOffsetTop-i.startingOffsetTop+i.parentOffsetTop-i.startingBackgroundPositionTop)*(e-i.stellarRatio)+"px":i.startingValueTop,p(i.$element,s,o)}},_handleScrollEvent:function(){var t=this,e=!1,i=function(){t._repositionElements(),e=!1},s=function(){e||(u(i),e=!0)};this.$scrollElement.bind("scroll."+this.name,s),s()},_startAnimationLoop:function(){var t=this;this._animationLoop=function(){u(t._animationLoop),t._repositionElements()},this._animationLoop()}},t.fn[n]=function(e){var i=arguments;return e===s||"object"==typeof e?this.each(function(){t.data(this,"plugin_"+n)||t.data(this,"plugin_"+n,new o(this,e))}):"string"==typeof e&&"_"!==e[0]&&"init"!==e?this.each(function(){var s=t.data(this,"plugin_"+n);s instanceof o&&"function"==typeof s[e]&&s[e].apply(s,Array.prototype.slice.call(i,1)),"destroy"===e&&t.data(this,"plugin_"+n,null)}):void 0},t[n]=function(i){var s=t(e);return s.stellar.apply(s,Array.prototype.slice.call(arguments,0))},t[n].scrollProperty=a,t[n].positionProperty=l,e.Stellar=o}(jQuery,this,document);
!function(e,t){"function"==typeof define&&define.amd?define([],t(e)):"object"==typeof exports?module.exports=t(e):e.smoothScroll=t(e)}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";var t,n,o,r,a,i,c,l={},u="querySelector"in document&&"addEventListener"in e,s={selector:"[data-scroll]",selectorHeader:null,speed:500,easing:"easeInOutCubic",offset:0,callback:function(){}},f=function(){var e={},t=!1,n=0,o=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],n++);for(var r=function(n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t&&"[object Object]"===Object.prototype.toString.call(n[o])?e[o]=f(!0,e[o],n[o]):e[o]=n[o])};n<o;n++){var a=arguments[n];r(a)}return e},d=function(e){return Math.max(e.scrollHeight,e.offsetHeight,e.clientHeight)},h=function(e,t){var n,o,r=t.charAt(0),a="classList"in document.documentElement;for("["===r&&(t=t.substr(1,t.length-2),n=t.split("="),n.length>1&&(o=!0,n[1]=n[1].replace(/"/g,"").replace(/'/g,"")));e&&e!==document&&1===e.nodeType;e=e.parentNode){if("."===r)if(a){if(e.classList.contains(t.substr(1)))return e}else if(new RegExp("(^|\\s)"+t.substr(1)+"(\\s|$)").test(e.className))return e;if("#"===r&&e.id===t.substr(1))return e;if("["===r&&e.hasAttribute(n[0])){if(!o)return e;if(e.getAttribute(n[0])===n[1])return e}if(e.tagName.toLowerCase()===t)return e}return null},m=function(e){"#"===e.charAt(0)&&(e=e.substr(1));for(var t,n=String(e),o=n.length,r=-1,a="",i=n.charCodeAt(0);++r<o;){if(t=n.charCodeAt(r),0===t)throw new InvalidCharacterError("Invalid character: the input contains U+0000.");a+=t>=1&&t<=31||127==t||0===r&&t>=48&&t<=57||1===r&&t>=48&&t<=57&&45===i?"\\"+t.toString(16)+" ":t>=128||45===t||95===t||t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122?n.charAt(r):"\\"+n.charAt(r)}return"#"+a},g=function(e,t){var n;return"easeInQuad"===e&&(n=t*t),"easeOutQuad"===e&&(n=t*(2-t)),"easeInOutQuad"===e&&(n=t<.5?2*t*t:-1+(4-2*t)*t),"easeInCubic"===e&&(n=t*t*t),"easeOutCubic"===e&&(n=--t*t*t+1),"easeInOutCubic"===e&&(n=t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1),"easeInQuart"===e&&(n=t*t*t*t),"easeOutQuart"===e&&(n=1- --t*t*t*t),"easeInOutQuart"===e&&(n=t<.5?8*t*t*t*t:1-8*--t*t*t*t),"easeInQuint"===e&&(n=t*t*t*t*t),"easeOutQuint"===e&&(n=1+--t*t*t*t*t),"easeInOutQuint"===e&&(n=t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t),n||t},p=function(e,t,n){var o=0;if(e.offsetParent)do o+=e.offsetTop,e=e.offsetParent;while(e);return o=Math.max(o-t-n,0),Math.min(o,v()-b())},b=function(){return Math.max(document.documentElement.clientHeight,e.innerHeight||0)},v=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)},y=function(e){return e&&"object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(e):{}},O=function(e){return null===e?0:d(e)+e.offsetTop},H=function(t,n,o){o||(t.focus(),document.activeElement.id!==t.id&&(t.setAttribute("tabindex","-1"),t.focus(),t.style.outline="none"),e.scrollTo(0,n))};l.animateScroll=function(n,o,i){var l=y(o?o.getAttribute("data-options"):null),u=f(t||s,i||{},l),d="[object Number]"===Object.prototype.toString.call(n),h=d||!n.tagName?null:n;if(d||h){var m=e.pageYOffset;u.selectorHeader&&!r&&(r=document.querySelector(u.selectorHeader)),a||(a=O(r));var b,I,S=d?n:p(h,a,parseInt(u.offset,10)),E=S-m,A=v(),j=0,L=function(t,r,a){var i=e.pageYOffset;(t==r||i==r||e.innerHeight+i>=A)&&(clearInterval(a),H(n,r,d),u.callback(n,o))},w=function(){j+=16,b=j/parseInt(u.speed,10),b=b>1?1:b,I=m+E*g(u.easing,b),e.scrollTo(0,Math.floor(I)),L(I,S,c)},C=function(){clearInterval(c),c=setInterval(w,16)};0===e.pageYOffset&&e.scrollTo(0,0),C()}};var I=function(t){e.location.hash;n&&(n.id=n.getAttribute("data-scroll-id"),l.animateScroll(n,o),n=null,o=null)},S=function(r){if(0===r.button&&!r.metaKey&&!r.ctrlKey&&(o=h(r.target,t.selector),o&&"a"===o.tagName.toLowerCase()&&o.hostname===e.location.hostname&&o.pathname===e.location.pathname&&/#/.test(o.href))){var a=m(o.hash);if("#"===a){r.preventDefault(),n=document.body;var i=n.id?n.id:"smooth-scroll-top";return n.setAttribute("data-scroll-id",i),n.id="",void(e.location.hash.substring(1)===i?I():e.location.hash=i)}n=document.querySelector(a),n&&(n.setAttribute("data-scroll-id",n.id),n.id="",o.hash===e.location.hash&&(r.preventDefault(),I()))}},E=function(e){i||(i=setTimeout(function(){i=null,a=O(r)},66))};return l.destroy=function(){t&&(document.removeEventListener("click",S,!1),e.removeEventListener("resize",E,!1),t=null,n=null,o=null,r=null,a=null,i=null,c=null)},l.init=function(n){u&&(l.destroy(),t=f(s,n||{}),r=t.selectorHeader?document.querySelector(t.selectorHeader):null,a=O(r),document.addEventListener("click",S,!1),e.addEventListener("hashchange",I,!1),r&&e.addEventListener("resize",E,!1))},l});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5zdGVsbGFyLmpzIiwic21vb3RoLXNjcm9sbC5qcyJdLCJuYW1lcyI6WyIkIiwid2luZG93IiwiZG9jdW1lbnQiLCJ1bmRlZmluZWQiLCJQbHVnaW4iLCJlbGVtZW50Iiwib3B0aW9ucyIsInRoaXMiLCJleHRlbmQiLCJkZWZhdWx0cyIsIl9kZWZhdWx0cyIsIl9uYW1lIiwicGx1Z2luTmFtZSIsImluaXQiLCJzY3JvbGxQcm9wZXJ0eSIsInBvc2l0aW9uUHJvcGVydHkiLCJob3Jpem9udGFsU2Nyb2xsaW5nIiwidmVydGljYWxTY3JvbGxpbmciLCJob3Jpem9udGFsT2Zmc2V0IiwidmVydGljYWxPZmZzZXQiLCJyZXNwb25zaXZlIiwicGFyYWxsYXhCYWNrZ3JvdW5kcyIsInBhcmFsbGF4RWxlbWVudHMiLCJoaWRlRGlzdGFudEVsZW1lbnRzIiwiaGlkZUVsZW1lbnQiLCIkZWxlbSIsImhpZGUiLCJzaG93RWxlbWVudCIsInNob3ciLCJzY3JvbGwiLCJnZXRMZWZ0Iiwic2Nyb2xsTGVmdCIsInNldExlZnQiLCJ2YWwiLCJnZXRUb3AiLCJzY3JvbGxUb3AiLCJzZXRUb3AiLCJwb3NpdGlvbiIsInBhcnNlSW50IiwiY3NzIiwibWFyZ2luIiwidHJhbnNmb3JtIiwiY29tcHV0ZWRUcmFuc2Zvcm0iLCJnZXRDb21wdXRlZFN0eWxlIiwicHJlZml4ZWRUcmFuc2Zvcm0iLCJtYXRjaCIsImxlZnQiLCJ0b3AiLCJzZXRQb3NpdGlvbiIsInN0YXJ0aW5nTGVmdCIsInN0YXJ0aW5nVG9wIiwic3R5bGUiLCJ2ZW5kb3JQcmVmaXgiLCJwcm9wIiwicHJlZml4ZXMiLCJwcmVmaXgiLCJ0ZXN0IiwicHJvcGVydHkiLCJsZW5ndGgiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwic3VwcG9ydHNCYWNrZ3JvdW5kUG9zaXRpb25YWSIsInNldEJhY2tncm91bmRQb3NpdGlvbiIsIngiLCJ5IiwiYmFja2dyb3VuZC1wb3NpdGlvbi14IiwiYmFja2dyb3VuZC1wb3NpdGlvbi15IiwiZ2V0QmFja2dyb3VuZFBvc2l0aW9uIiwic3BsaXQiLCJyZXF1ZXN0QW5pbUZyYW1lIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwid2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwib1JlcXVlc3RBbmltYXRpb25GcmFtZSIsIm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY2FsbGJhY2siLCJzZXRUaW1lb3V0IiwicHJvdG90eXBlIiwibmFtZSIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsIl9kZWZpbmVFbGVtZW50cyIsIl9kZWZpbmVHZXR0ZXJzIiwiX2RlZmluZVNldHRlcnMiLCJfaGFuZGxlV2luZG93TG9hZEFuZFJlc2l6ZSIsIl9kZXRlY3RWaWV3cG9ydCIsInJlZnJlc2giLCJmaXJzdExvYWQiLCJfaGFuZGxlU2Nyb2xsRXZlbnQiLCJfc3RhcnRBbmltYXRpb25Mb29wIiwiYm9keSIsIiRzY3JvbGxFbGVtZW50IiwiJGVsZW1lbnQiLCIkdmlld3BvcnRFbGVtZW50Iiwidmlld3BvcnRFbGVtZW50IiwicGFyZW50Iiwic2VsZiIsInNjcm9sbFByb3BlcnR5QWRhcHRlciIsIl9nZXRTY3JvbGxMZWZ0IiwiX2dldFNjcm9sbFRvcCIsInBvc2l0aW9uUHJvcGVydHlBZGFwdGVyIiwic2V0U2Nyb2xsTGVmdCIsInNldFNjcm9sbFRvcCIsIl9zZXRTY3JvbGxMZWZ0Iiwibm9vcCIsIl9zZXRTY3JvbGxUb3AiLCJfc2V0UG9zaXRpb24iLCIkd2luZG93IiwiYmluZCIsIm9sZExlZnQiLCJvbGRUb3AiLCJfcmVzZXQiLCJfc2V0T2Zmc2V0cyIsIl9maW5kUGFydGljbGVzIiwiX2ZpbmRCYWNrZ3JvdW5kcyIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImxvYWQiLCJ2aWV3cG9ydE9mZnNldHMiLCJvZmZzZXQiLCJoYXNPZmZzZXRzIiwidmlld3BvcnRXaWR0aCIsIndpZHRoIiwidmlld3BvcnRIZWlnaHQiLCJoZWlnaHQiLCJ2aWV3cG9ydE9mZnNldFRvcCIsInZpZXdwb3J0T2Zmc2V0TGVmdCIsInBhcnRpY2xlcyIsImkiLCJkYXRhIiwiZmluZCIsImVhY2giLCJwb3NpdGlvbkxlZnQiLCJwb3NpdGlvblRvcCIsIm1hcmdpbkxlZnQiLCJtYXJnaW5Ub3AiLCIkb2Zmc2V0UGFyZW50Iiwib2Zmc2V0TGVmdCIsIm9mZnNldFRvcCIsIiR0aGlzIiwicGFyZW50T2Zmc2V0TGVmdCIsInBhcmVudE9mZnNldFRvcCIsInRlbXBQYXJlbnRPZmZzZXRMZWZ0IiwidGVtcFBhcmVudE9mZnNldFRvcCIsInBhcmVudHMiLCJwdXNoIiwiaXNGaXhlZCIsInN0YXJ0aW5nUG9zaXRpb25MZWZ0Iiwic3RhcnRpbmdQb3NpdGlvblRvcCIsInN0YXJ0aW5nT2Zmc2V0TGVmdCIsInN0YXJ0aW5nT2Zmc2V0VG9wIiwic3RlbGxhclJhdGlvIiwib3V0ZXJXaWR0aCIsIm91dGVySGVpZ2h0IiwiaXNIaWRkZW4iLCIkYmFja2dyb3VuZEVsZW1lbnRzIiwiYmFja2dyb3VuZHMiLCJhZGQiLCJiYWNrZ3JvdW5kUG9zaXRpb24iLCJzdGFydGluZ1ZhbHVlTGVmdCIsInN0YXJ0aW5nVmFsdWVUb3AiLCJzdGFydGluZ0JhY2tncm91bmRQb3NpdGlvbkxlZnQiLCJpc05hTiIsInN0YXJ0aW5nQmFja2dyb3VuZFBvc2l0aW9uVG9wIiwicGFydGljbGUiLCJiYWNrZ3JvdW5kIiwiZGVzdHJveSIsInVuYmluZCIsIl9hbmltYXRpb25Mb29wIiwiX3JlcG9zaXRpb25FbGVtZW50cyIsImZpeGVkUmF0aW9PZmZzZXQiLCJiZ0xlZnQiLCJiZ1RvcCIsIm5ld1Bvc2l0aW9uTGVmdCIsIm5ld1Bvc2l0aW9uVG9wIiwibmV3T2Zmc2V0TGVmdCIsIm5ld09mZnNldFRvcCIsImlzVmlzaWJsZVZlcnRpY2FsIiwiaXNWaXNpYmxlSG9yaXpvbnRhbCIsImN1cnJlbnRTY3JvbGxMZWZ0IiwiY3VycmVudFNjcm9sbFRvcCIsImN1cnJlbnRXaWR0aCIsImN1cnJlbnRIZWlnaHQiLCJ0aWNraW5nIiwidXBkYXRlIiwicmVxdWVzdFRpY2siLCJmbiIsImFyZ3MiLCJhcmd1bWVudHMiLCJpbnN0YW5jZSIsImFwcGx5IiwiQXJyYXkiLCJjYWxsIiwic3RlbGxhciIsIlN0ZWxsYXIiLCJqUXVlcnkiLCJyb290IiwiZmFjdG9yeSIsImRlZmluZSIsImFtZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJzbW9vdGhTY3JvbGwiLCJnbG9iYWwiLCJzZXR0aW5ncyIsImFuY2hvciIsInRvZ2dsZSIsImZpeGVkSGVhZGVyIiwiaGVhZGVySGVpZ2h0IiwiZXZlbnRUaW1lb3V0IiwiYW5pbWF0aW9uSW50ZXJ2YWwiLCJzdXBwb3J0cyIsInNlbGVjdG9yIiwic2VsZWN0b3JIZWFkZXIiLCJzcGVlZCIsImVhc2luZyIsImV4dGVuZGVkIiwiZGVlcCIsIk9iamVjdCIsInRvU3RyaW5nIiwibWVyZ2UiLCJvYmoiLCJoYXNPd25Qcm9wZXJ0eSIsImdldEhlaWdodCIsImVsZW0iLCJtYXgiLCJzY3JvbGxIZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJnZXRDbG9zZXN0IiwiYXR0cmlidXRlIiwidmFsdWUiLCJmaXJzdENoYXIiLCJkb2N1bWVudEVsZW1lbnQiLCJzdWJzdHIiLCJyZXBsYWNlIiwibm9kZVR5cGUiLCJwYXJlbnROb2RlIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJSZWdFeHAiLCJjbGFzc05hbWUiLCJpZCIsImhhc0F0dHJpYnV0ZSIsImdldEF0dHJpYnV0ZSIsInRhZ05hbWUiLCJ0b0xvd2VyQ2FzZSIsImVzY2FwZUNoYXJhY3RlcnMiLCJjb2RlVW5pdCIsInN0cmluZyIsIlN0cmluZyIsImluZGV4IiwicmVzdWx0IiwiZmlyc3RDb2RlVW5pdCIsImNoYXJDb2RlQXQiLCJJbnZhbGlkQ2hhcmFjdGVyRXJyb3IiLCJlYXNpbmdQYXR0ZXJuIiwidHlwZSIsInRpbWUiLCJwYXR0ZXJuIiwiZ2V0RW5kTG9jYXRpb24iLCJsb2NhdGlvbiIsIm9mZnNldFBhcmVudCIsIm1pbiIsImdldERvY3VtZW50SGVpZ2h0IiwiZ2V0Vmlld3BvcnRIZWlnaHQiLCJpbm5lckhlaWdodCIsImdldERhdGFPcHRpb25zIiwiSlNPTiIsInBhcnNlIiwiZ2V0SGVhZGVySGVpZ2h0IiwiaGVhZGVyIiwiYWRqdXN0Rm9jdXMiLCJlbmRMb2NhdGlvbiIsImlzTnVtIiwiZm9jdXMiLCJhY3RpdmVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwib3V0bGluZSIsInNjcm9sbFRvIiwiYW5pbWF0ZVNjcm9sbCIsIm92ZXJyaWRlcyIsImFuaW1hdGVTZXR0aW5ncyIsImFuY2hvckVsZW0iLCJzdGFydExvY2F0aW9uIiwicGFnZVlPZmZzZXQiLCJxdWVyeVNlbGVjdG9yIiwicGVyY2VudGFnZSIsImRpc3RhbmNlIiwiZG9jdW1lbnRIZWlnaHQiLCJ0aW1lTGFwc2VkIiwic3RvcEFuaW1hdGVTY3JvbGwiLCJjdXJyZW50TG9jYXRpb24iLCJjbGVhckludGVydmFsIiwibG9vcEFuaW1hdGVTY3JvbGwiLCJzdGFydEFuaW1hdGVTY3JvbGwiLCJzZXRJbnRlcnZhbCIsImhhc2hDaGFuZ2VIYW5kbGVyIiwiZXZlbnQiLCJoYXNoIiwiY2xpY2tIYW5kbGVyIiwiYnV0dG9uIiwibWV0YUtleSIsImN0cmxLZXkiLCJ0YXJnZXQiLCJob3N0bmFtZSIsInBhdGhuYW1lIiwiaHJlZiIsInByZXZlbnREZWZhdWx0Iiwic3Vic3RyaW5nIiwicmVzaXplVGhyb3R0bGVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImFkZEV2ZW50TGlzdGVuZXIiXSwibWFwcGluZ3MiOiJDQVNFLFNBQVNBLEVBQUdDLEVBQVFDLEVBQVVDLEdBdUgvQixRQUFTQyxHQUFPQyxFQUFTQyxHQUN4QkMsS0FBS0YsUUFBVUEsRUFDZkUsS0FBS0QsUUFBVU4sRUFBRVEsVUFBV0MsRUFBVUgsR0FFdENDLEtBQUtHLFVBQVlELEVBQ2pCRixLQUFLSSxNQUFRQyxFQUViTCxLQUFLTSxPQTVITixHQUFJRCxHQUFhLFVBQ2hCSCxHQUNDSyxlQUFnQixTQUNoQkMsaUJB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VVosR0FDekJ6RixJQUNMQSxFQUFldEksV0FBVyxXQUN6QnNJLEVBQWUsS0FDZkQsRUFBZThELEVBQWlCL0QsSUFDOUIsS0ErREwsT0F2REFMLEdBQWFwQyxRQUFVLFdBR2hCc0MsSUFHTjVNLFNBQVN1VCxvQkFBcUIsUUFBU1gsR0FBYyxHQUNyRHhHLEVBQUttSCxvQkFBcUIsU0FBVUQsR0FBaUIsR0FHckQxRyxFQUFXLEtBQ1hDLEVBQVMsS0FDVEMsRUFBUyxLQUNUQyxFQUFjLEtBQ2RDLEVBQWUsS0FDZkMsRUFBZSxLQUNmQyxFQUFvQixPQVFyQlIsRUFBYS9MLEtBQU8sU0FBV1AsR0FHeEIrTSxJQUdOVCxFQUFhcEMsVUFHYnNDLEVBQVd0TSxFQUFRQyxFQUFVSCxPQUM3QjJNLEVBQWNILEVBQVNTLGVBQWlCck4sU0FBUzhSLGNBQWVsRixFQUFTUyxnQkFBbUIsS0FDNUZMLEVBQWU4RCxFQUFpQi9ELEdBR2hDL00sU0FBU3dULGlCQUFrQixRQUFTWixHQUFjLEdBR2xEeEcsRUFBS29ILGlCQUFpQixhQUFjZixHQUFtQixHQUdsRDFGLEdBQ0pYLEVBQUtvSCxpQkFBa0IsU0FBVUYsR0FBaUIsS0FVN0M1RyIsImZpbGUiOiJza2VsZXRvbi12ZW5kb3IubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBTdGVsbGFyLmpzIHYwLjYuMlxuICogaHR0cDovL21hcmtkYWxnbGVpc2guY29tL3Byb2plY3RzL3N0ZWxsYXIuanNcbiAqIFxuICogQ29weXJpZ2h0IDIwMTMsIE1hcmsgRGFsZ2xlaXNoXG4gKiBUaGlzIGNvbnRlbnQgaXMgcmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKiBodHRwOi8vbWFya2RhbGdsZWlzaC5taXQtbGljZW5zZS5vcmdcbiAqL1xuXG47KGZ1bmN0aW9uKCQsIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xuXG5cdHZhciBwbHVnaW5OYW1lID0gJ3N0ZWxsYXInLFxuXHRcdGRlZmF1bHRzID0ge1xuXHRcdFx0c2Nyb2xsUHJvcGVydHk6ICdzY3JvbGwnLFxuXHRcdFx0cG9zaXRpb25Qcm9wZXJ0eTogJ3Bvc2l0aW9uJyxcblx0XHRcdGhvcml6b250YWxTY3JvbGxpbmc6IHRydWUsXG5cdFx0XHR2ZXJ0aWNhbFNjcm9sbGluZzogdHJ1ZSxcblx0XHRcdGhvcml6b250YWxPZmZzZXQ6IDAsXG5cdFx0XHR2ZXJ0aWNhbE9mZnNldDogMCxcblx0XHRcdHJlc3BvbnNpdmU6IGZhbHNlLFxuXHRcdFx0cGFyYWxsYXhCYWNrZ3JvdW5kczogdHJ1ZSxcblx0XHRcdHBhcmFsbGF4RWxlbWVudHM6IHRydWUsXG5cdFx0XHRoaWRlRGlzdGFudEVsZW1lbnRzOiB0cnVlLFxuXHRcdFx0aGlkZUVsZW1lbnQ6IGZ1bmN0aW9uKCRlbGVtKSB7ICRlbGVtLmhpZGUoKTsgfSxcblx0XHRcdHNob3dFbGVtZW50OiBmdW5jdGlvbigkZWxlbSkgeyAkZWxlbS5zaG93KCk7IH1cblx0XHR9LFxuXG5cdFx0c2Nyb2xsUHJvcGVydHkgPSB7XG5cdFx0XHRzY3JvbGw6IHtcblx0XHRcdFx0Z2V0TGVmdDogZnVuY3Rpb24oJGVsZW0pIHsgcmV0dXJuICRlbGVtLnNjcm9sbExlZnQoKTsgfSxcblx0XHRcdFx0c2V0TGVmdDogZnVuY3Rpb24oJGVsZW0sIHZhbCkgeyAkZWxlbS5zY3JvbGxMZWZ0KHZhbCk7IH0sXG5cblx0XHRcdFx0Z2V0VG9wOiBmdW5jdGlvbigkZWxlbSkgeyByZXR1cm4gJGVsZW0uc2Nyb2xsVG9wKCk7XHR9LFxuXHRcdFx0XHRzZXRUb3A6IGZ1bmN0aW9uKCRlbGVtLCB2YWwpIHsgJGVsZW0uc2Nyb2xsVG9wKHZhbCk7IH1cblx0XHRcdH0sXG5cdFx0XHRwb3NpdGlvbjoge1xuXHRcdFx0XHRnZXRMZWZ0OiBmdW5jdGlvbigkZWxlbSkgeyByZXR1cm4gcGFyc2VJbnQoJGVsZW0uY3NzKCdsZWZ0JyksIDEwKSAqIC0xOyB9LFxuXHRcdFx0XHRnZXRUb3A6IGZ1bmN0aW9uKCRlbGVtKSB7IHJldHVybiBwYXJzZUludCgkZWxlbS5jc3MoJ3RvcCcpLCAxMCkgKiAtMTsgfVxuXHRcdFx0fSxcblx0XHRcdG1hcmdpbjoge1xuXHRcdFx0XHRnZXRMZWZ0OiBmdW5jdGlvbigkZWxlbSkgeyByZXR1cm4gcGFyc2VJbnQoJGVsZW0uY3NzKCdtYXJnaW4tbGVmdCcpLCAxMCkgKiAtMTsgfSxcblx0XHRcdFx0Z2V0VG9wOiBmdW5jdGlvbigkZWxlbSkgeyByZXR1cm4gcGFyc2VJbnQoJGVsZW0uY3NzKCdtYXJnaW4tdG9wJyksIDEwKSAqIC0xOyB9XG5cdFx0XHR9LFxuXHRcdFx0dHJhbnNmb3JtOiB7XG5cdFx0XHRcdGdldExlZnQ6IGZ1bmN0aW9uKCRlbGVtKSB7XG5cdFx0XHRcdFx0dmFyIGNvbXB1dGVkVHJhbnNmb3JtID0gZ2V0Q29tcHV0ZWRTdHlsZSgkZWxlbVswXSlbcHJlZml4ZWRUcmFuc2Zvcm1dO1xuXHRcdFx0XHRcdHJldHVybiAoY29tcHV0ZWRUcmFuc2Zvcm0gIT09ICdub25lJyA/IHBhcnNlSW50KGNvbXB1dGVkVHJhbnNmb3JtLm1hdGNoKC8oLT9bMC05XSspL2cpWzRdLCAxMCkgKiAtMSA6IDApO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRnZXRUb3A6IGZ1bmN0aW9uKCRlbGVtKSB7XG5cdFx0XHRcdFx0dmFyIGNvbXB1dGVkVHJhbnNmb3JtID0gZ2V0Q29tcHV0ZWRTdHlsZSgkZWxlbVswXSlbcHJlZml4ZWRUcmFuc2Zvcm1dO1xuXHRcdFx0XHRcdHJldHVybiAoY29tcHV0ZWRUcmFuc2Zvcm0gIT09ICdub25lJyA/IHBhcnNlSW50KGNvbXB1dGVkVHJhbnNmb3JtLm1hdGNoKC8oLT9bMC05XSspL2cpWzVdLCAxMCkgKiAtMSA6IDApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdHBvc2l0aW9uUHJvcGVydHkgPSB7XG5cdFx0XHRwb3NpdGlvbjoge1xuXHRcdFx0XHRzZXRMZWZ0OiBmdW5jdGlvbigkZWxlbSwgbGVmdCkgeyAkZWxlbS5jc3MoJ2xlZnQnLCBsZWZ0KTsgfSxcblx0XHRcdFx0c2V0VG9wOiBmdW5jdGlvbigkZWxlbSwgdG9wKSB7ICRlbGVtLmNzcygndG9wJywgdG9wKTsgfVxuXHRcdFx0fSxcblx0XHRcdHRyYW5zZm9ybToge1xuXHRcdFx0XHRzZXRQb3NpdGlvbjogZnVuY3Rpb24oJGVsZW0sIGxlZnQsIHN0YXJ0aW5nTGVmdCwgdG9wLCBzdGFydGluZ1RvcCkge1xuXHRcdFx0XHRcdCRlbGVtWzBdLnN0eWxlW3ByZWZpeGVkVHJhbnNmb3JtXSA9ICd0cmFuc2xhdGUzZCgnICsgKGxlZnQgLSBzdGFydGluZ0xlZnQpICsgJ3B4LCAnICsgKHRvcCAtIHN0YXJ0aW5nVG9wKSArICdweCwgMCknO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdC8vIFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCBhZGRzIGEgdmVuZG9yIHByZWZpeCB0byBhbnkgQ1NTIHByb3BlcnR5IG5hbWVcblx0XHR2ZW5kb3JQcmVmaXggPSAoZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgcHJlZml4ZXMgPSAvXihNb3p8V2Via2l0fEtodG1sfE98bXN8SWNhYikoPz1bQS1aXSkvLFxuXHRcdFx0XHRzdHlsZSA9ICQoJ3NjcmlwdCcpWzBdLnN0eWxlLFxuXHRcdFx0XHRwcmVmaXggPSAnJyxcblx0XHRcdFx0cHJvcDtcblxuXHRcdFx0Zm9yIChwcm9wIGluIHN0eWxlKSB7XG5cdFx0XHRcdGlmIChwcmVmaXhlcy50ZXN0KHByb3ApKSB7XG5cdFx0XHRcdFx0cHJlZml4ID0gcHJvcC5tYXRjaChwcmVmaXhlcylbMF07XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKCdXZWJraXRPcGFjaXR5JyBpbiBzdHlsZSkgeyBwcmVmaXggPSAnV2Via2l0JzsgfVxuXHRcdFx0aWYgKCdLaHRtbE9wYWNpdHknIGluIHN0eWxlKSB7IHByZWZpeCA9ICdLaHRtbCc7IH1cblxuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKHByb3BlcnR5KSB7XG5cdFx0XHRcdHJldHVybiBwcmVmaXggKyAocHJlZml4Lmxlbmd0aCA+IDAgPyBwcm9wZXJ0eS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHByb3BlcnR5LnNsaWNlKDEpIDogcHJvcGVydHkpO1xuXHRcdFx0fTtcblx0XHR9KCkpLFxuXG5cdFx0cHJlZml4ZWRUcmFuc2Zvcm0gPSB2ZW5kb3JQcmVmaXgoJ3RyYW5zZm9ybScpLFxuXG5cdFx0c3VwcG9ydHNCYWNrZ3JvdW5kUG9zaXRpb25YWSA9ICQoJzxkaXYgLz4nLCB7IHN0eWxlOiAnYmFja2dyb3VuZDojZmZmJyB9KS5jc3MoJ2JhY2tncm91bmQtcG9zaXRpb24teCcpICE9PSB1bmRlZmluZWQsXG5cblx0XHRzZXRCYWNrZ3JvdW5kUG9zaXRpb24gPSAoc3VwcG9ydHNCYWNrZ3JvdW5kUG9zaXRpb25YWSA/XG5cdFx0XHRmdW5jdGlvbigkZWxlbSwgeCwgeSkge1xuXHRcdFx0XHQkZWxlbS5jc3Moe1xuXHRcdFx0XHRcdCdiYWNrZ3JvdW5kLXBvc2l0aW9uLXgnOiB4LFxuXHRcdFx0XHRcdCdiYWNrZ3JvdW5kLXBvc2l0aW9uLXknOiB5XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSA6XG5cdFx0XHRmdW5jdGlvbigkZWxlbSwgeCwgeSkge1xuXHRcdFx0XHQkZWxlbS5jc3MoJ2JhY2tncm91bmQtcG9zaXRpb24nLCB4ICsgJyAnICsgeSk7XG5cdFx0XHR9XG5cdFx0KSxcblxuXHRcdGdldEJhY2tncm91bmRQb3NpdGlvbiA9IChzdXBwb3J0c0JhY2tncm91bmRQb3NpdGlvblhZID9cblx0XHRcdGZ1bmN0aW9uKCRlbGVtKSB7XG5cdFx0XHRcdHJldHVybiBbXG5cdFx0XHRcdFx0JGVsZW0uY3NzKCdiYWNrZ3JvdW5kLXBvc2l0aW9uLXgnKSxcblx0XHRcdFx0XHQkZWxlbS5jc3MoJ2JhY2tncm91bmQtcG9zaXRpb24teScpXG5cdFx0XHRcdF07XG5cdFx0XHR9IDpcblx0XHRcdGZ1bmN0aW9uKCRlbGVtKSB7XG5cdFx0XHRcdHJldHVybiAkZWxlbS5jc3MoJ2JhY2tncm91bmQtcG9zaXRpb24nKS5zcGxpdCgnICcpO1xuXHRcdFx0fVxuXHRcdCksXG5cblx0XHRyZXF1ZXN0QW5pbUZyYW1lID0gKFxuXHRcdFx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSAgICAgICB8fFxuXHRcdFx0d2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuXHRcdFx0d2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSAgICB8fFxuXHRcdFx0d2luZG93Lm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWUgICAgICB8fFxuXHRcdFx0d2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lICAgICB8fFxuXHRcdFx0ZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0XHRcdFx0c2V0VGltZW91dChjYWxsYmFjaywgMTAwMCAvIDYwKTtcblx0XHRcdH1cblx0XHQpO1xuXG5cdGZ1bmN0aW9uIFBsdWdpbihlbGVtZW50LCBvcHRpb25zKSB7XG5cdFx0dGhpcy5lbGVtZW50ID0gZWxlbWVudDtcblx0XHR0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG5cdFx0dGhpcy5fZGVmYXVsdHMgPSBkZWZhdWx0cztcblx0XHR0aGlzLl9uYW1lID0gcGx1Z2luTmFtZTtcblxuXHRcdHRoaXMuaW5pdCgpO1xuXHR9XG5cblx0UGx1Z2luLnByb3RvdHlwZSA9IHtcblx0XHRpbml0OiBmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMub3B0aW9ucy5uYW1lID0gcGx1Z2luTmFtZSArICdfJyArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDFlOSk7XG5cblx0XHRcdHRoaXMuX2RlZmluZUVsZW1lbnRzKCk7XG5cdFx0XHR0aGlzLl9kZWZpbmVHZXR0ZXJzKCk7XG5cdFx0XHR0aGlzLl9kZWZpbmVTZXR0ZXJzKCk7XG5cdFx0XHR0aGlzLl9oYW5kbGVXaW5kb3dMb2FkQW5kUmVzaXplKCk7XG5cdFx0XHR0aGlzLl9kZXRlY3RWaWV3cG9ydCgpO1xuXG5cdFx0XHR0aGlzLnJlZnJlc2goeyBmaXJzdExvYWQ6IHRydWUgfSk7XG5cblx0XHRcdGlmICh0aGlzLm9wdGlvbnMuc2Nyb2xsUHJvcGVydHkgPT09ICdzY3JvbGwnKSB7XG5cdFx0XHRcdHRoaXMuX2hhbmRsZVNjcm9sbEV2ZW50KCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLl9zdGFydEFuaW1hdGlvbkxvb3AoKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdF9kZWZpbmVFbGVtZW50czogZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAodGhpcy5lbGVtZW50ID09PSBkb2N1bWVudC5ib2R5KSB0aGlzLmVsZW1lbnQgPSB3aW5kb3c7XG5cdFx0XHR0aGlzLiRzY3JvbGxFbGVtZW50ID0gJCh0aGlzLmVsZW1lbnQpO1xuXHRcdFx0dGhpcy4kZWxlbWVudCA9ICh0aGlzLmVsZW1lbnQgPT09IHdpbmRvdyA/ICQoJ2JvZHknKSA6IHRoaXMuJHNjcm9sbEVsZW1lbnQpO1xuXHRcdFx0dGhpcy4kdmlld3BvcnRFbGVtZW50ID0gKHRoaXMub3B0aW9ucy52aWV3cG9ydEVsZW1lbnQgIT09IHVuZGVmaW5lZCA/ICQodGhpcy5vcHRpb25zLnZpZXdwb3J0RWxlbWVudCkgOiAodGhpcy4kc2Nyb2xsRWxlbWVudFswXSA9PT0gd2luZG93IHx8IHRoaXMub3B0aW9ucy5zY3JvbGxQcm9wZXJ0eSA9PT0gJ3Njcm9sbCcgPyB0aGlzLiRzY3JvbGxFbGVtZW50IDogdGhpcy4kc2Nyb2xsRWxlbWVudC5wYXJlbnQoKSkgKTtcblx0XHR9LFxuXHRcdF9kZWZpbmVHZXR0ZXJzOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcyxcblx0XHRcdFx0c2Nyb2xsUHJvcGVydHlBZGFwdGVyID0gc2Nyb2xsUHJvcGVydHlbc2VsZi5vcHRpb25zLnNjcm9sbFByb3BlcnR5XTtcblxuXHRcdFx0dGhpcy5fZ2V0U2Nyb2xsTGVmdCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gc2Nyb2xsUHJvcGVydHlBZGFwdGVyLmdldExlZnQoc2VsZi4kc2Nyb2xsRWxlbWVudCk7XG5cdFx0XHR9O1xuXG5cdFx0XHR0aGlzLl9nZXRTY3JvbGxUb3AgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIHNjcm9sbFByb3BlcnR5QWRhcHRlci5nZXRUb3Aoc2VsZi4kc2Nyb2xsRWxlbWVudCk7XG5cdFx0XHR9O1xuXHRcdH0sXG5cdFx0X2RlZmluZVNldHRlcnM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzLFxuXHRcdFx0XHRzY3JvbGxQcm9wZXJ0eUFkYXB0ZXIgPSBzY3JvbGxQcm9wZXJ0eVtzZWxmLm9wdGlvbnMuc2Nyb2xsUHJvcGVydHldLFxuXHRcdFx0XHRwb3NpdGlvblByb3BlcnR5QWRhcHRlciA9IHBvc2l0aW9uUHJvcGVydHlbc2VsZi5vcHRpb25zLnBvc2l0aW9uUHJvcGVydHldLFxuXHRcdFx0XHRzZXRTY3JvbGxMZWZ0ID0gc2Nyb2xsUHJvcGVydHlBZGFwdGVyLnNldExlZnQsXG5cdFx0XHRcdHNldFNjcm9sbFRvcCA9IHNjcm9sbFByb3BlcnR5QWRhcHRlci5zZXRUb3A7XG5cblx0XHRcdHRoaXMuX3NldFNjcm9sbExlZnQgPSAodHlwZW9mIHNldFNjcm9sbExlZnQgPT09ICdmdW5jdGlvbicgPyBmdW5jdGlvbih2YWwpIHtcblx0XHRcdFx0c2V0U2Nyb2xsTGVmdChzZWxmLiRzY3JvbGxFbGVtZW50LCB2YWwpO1xuXHRcdFx0fSA6ICQubm9vcCk7XG5cblx0XHRcdHRoaXMuX3NldFNjcm9sbFRvcCA9ICh0eXBlb2Ygc2V0U2Nyb2xsVG9wID09PSAnZnVuY3Rpb24nID8gZnVuY3Rpb24odmFsKSB7XG5cdFx0XHRcdHNldFNjcm9sbFRvcChzZWxmLiRzY3JvbGxFbGVtZW50LCB2YWwpO1xuXHRcdFx0fSA6ICQubm9vcCk7XG5cblx0XHRcdHRoaXMuX3NldFBvc2l0aW9uID0gcG9zaXRpb25Qcm9wZXJ0eUFkYXB0ZXIuc2V0UG9zaXRpb24gfHxcblx0XHRcdFx0ZnVuY3Rpb24oJGVsZW0sIGxlZnQsIHN0YXJ0aW5nTGVmdCwgdG9wLCBzdGFydGluZ1RvcCkge1xuXHRcdFx0XHRcdGlmIChzZWxmLm9wdGlvbnMuaG9yaXpvbnRhbFNjcm9sbGluZykge1xuXHRcdFx0XHRcdFx0cG9zaXRpb25Qcm9wZXJ0eUFkYXB0ZXIuc2V0TGVmdCgkZWxlbSwgbGVmdCwgc3RhcnRpbmdMZWZ0KTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoc2VsZi5vcHRpb25zLnZlcnRpY2FsU2Nyb2xsaW5nKSB7XG5cdFx0XHRcdFx0XHRwb3NpdGlvblByb3BlcnR5QWRhcHRlci5zZXRUb3AoJGVsZW0sIHRvcCwgc3RhcnRpbmdUb3ApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblx0XHR9LFxuXHRcdF9oYW5kbGVXaW5kb3dMb2FkQW5kUmVzaXplOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcyxcblx0XHRcdFx0JHdpbmRvdyA9ICQod2luZG93KTtcblxuXHRcdFx0aWYgKHNlbGYub3B0aW9ucy5yZXNwb25zaXZlKSB7XG5cdFx0XHRcdCR3aW5kb3cuYmluZCgnbG9hZC4nICsgdGhpcy5uYW1lLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRzZWxmLnJlZnJlc2goKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cblx0XHRcdCR3aW5kb3cuYmluZCgncmVzaXplLicgKyB0aGlzLm5hbWUsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRzZWxmLl9kZXRlY3RWaWV3cG9ydCgpO1xuXG5cdFx0XHRcdGlmIChzZWxmLm9wdGlvbnMucmVzcG9uc2l2ZSkge1xuXHRcdFx0XHRcdHNlbGYucmVmcmVzaCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9LFxuXHRcdHJlZnJlc2g6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcyxcblx0XHRcdFx0b2xkTGVmdCA9IHNlbGYuX2dldFNjcm9sbExlZnQoKSxcblx0XHRcdFx0b2xkVG9wID0gc2VsZi5fZ2V0U2Nyb2xsVG9wKCk7XG5cblx0XHRcdGlmICghb3B0aW9ucyB8fCAhb3B0aW9ucy5maXJzdExvYWQpIHtcblx0XHRcdFx0dGhpcy5fcmVzZXQoKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5fc2V0U2Nyb2xsTGVmdCgwKTtcblx0XHRcdHRoaXMuX3NldFNjcm9sbFRvcCgwKTtcblxuXHRcdFx0dGhpcy5fc2V0T2Zmc2V0cygpO1xuXHRcdFx0dGhpcy5fZmluZFBhcnRpY2xlcygpO1xuXHRcdFx0dGhpcy5fZmluZEJhY2tncm91bmRzKCk7XG5cblx0XHRcdC8vIEZpeCBmb3IgV2ViS2l0IGJhY2tncm91bmQgcmVuZGVyaW5nIGJ1Z1xuXHRcdFx0aWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5maXJzdExvYWQgJiYgL1dlYktpdC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkge1xuXHRcdFx0XHQkKHdpbmRvdykubG9hZChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHR2YXIgb2xkTGVmdCA9IHNlbGYuX2dldFNjcm9sbExlZnQoKSxcblx0XHRcdFx0XHRcdG9sZFRvcCA9IHNlbGYuX2dldFNjcm9sbFRvcCgpO1xuXG5cdFx0XHRcdFx0c2VsZi5fc2V0U2Nyb2xsTGVmdChvbGRMZWZ0ICsgMSk7XG5cdFx0XHRcdFx0c2VsZi5fc2V0U2Nyb2xsVG9wKG9sZFRvcCArIDEpO1xuXG5cdFx0XHRcdFx0c2VsZi5fc2V0U2Nyb2xsTGVmdChvbGRMZWZ0KTtcblx0XHRcdFx0XHRzZWxmLl9zZXRTY3JvbGxUb3Aob2xkVG9wKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuX3NldFNjcm9sbExlZnQob2xkTGVmdCk7XG5cdFx0XHR0aGlzLl9zZXRTY3JvbGxUb3Aob2xkVG9wKTtcblx0XHR9LFxuXHRcdF9kZXRlY3RWaWV3cG9ydDogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgdmlld3BvcnRPZmZzZXRzID0gdGhpcy4kdmlld3BvcnRFbGVtZW50Lm9mZnNldCgpLFxuXHRcdFx0XHRoYXNPZmZzZXRzID0gdmlld3BvcnRPZmZzZXRzICE9PSBudWxsICYmIHZpZXdwb3J0T2Zmc2V0cyAhPT0gdW5kZWZpbmVkO1xuXG5cdFx0XHR0aGlzLnZpZXdwb3J0V2lkdGggPSB0aGlzLiR2aWV3cG9ydEVsZW1lbnQud2lkdGgoKTtcblx0XHRcdHRoaXMudmlld3BvcnRIZWlnaHQgPSB0aGlzLiR2aWV3cG9ydEVsZW1lbnQuaGVpZ2h0KCk7XG5cblx0XHRcdHRoaXMudmlld3BvcnRPZmZzZXRUb3AgPSAoaGFzT2Zmc2V0cyA/IHZpZXdwb3J0T2Zmc2V0cy50b3AgOiAwKTtcblx0XHRcdHRoaXMudmlld3BvcnRPZmZzZXRMZWZ0ID0gKGhhc09mZnNldHMgPyB2aWV3cG9ydE9mZnNldHMubGVmdCA6IDApO1xuXHRcdH0sXG5cdFx0X2ZpbmRQYXJ0aWNsZXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzLFxuXHRcdFx0XHRzY3JvbGxMZWZ0ID0gdGhpcy5fZ2V0U2Nyb2xsTGVmdCgpLFxuXHRcdFx0XHRzY3JvbGxUb3AgPSB0aGlzLl9nZXRTY3JvbGxUb3AoKTtcblxuXHRcdFx0aWYgKHRoaXMucGFydGljbGVzICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Zm9yICh2YXIgaSA9IHRoaXMucGFydGljbGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0XHRcdFx0dGhpcy5wYXJ0aWNsZXNbaV0uJGVsZW1lbnQuZGF0YSgnc3RlbGxhci1lbGVtZW50SXNBY3RpdmUnLCB1bmRlZmluZWQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMucGFydGljbGVzID0gW107XG5cblx0XHRcdGlmICghdGhpcy5vcHRpb25zLnBhcmFsbGF4RWxlbWVudHMpIHJldHVybjtcblxuXHRcdFx0dGhpcy4kZWxlbWVudC5maW5kKCdbZGF0YS1zdGVsbGFyLXJhdGlvXScpLmVhY2goZnVuY3Rpb24oaSkge1xuXHRcdFx0XHR2YXIgJHRoaXMgPSAkKHRoaXMpLFxuXHRcdFx0XHRcdGhvcml6b250YWxPZmZzZXQsXG5cdFx0XHRcdFx0dmVydGljYWxPZmZzZXQsXG5cdFx0XHRcdFx0cG9zaXRpb25MZWZ0LFxuXHRcdFx0XHRcdHBvc2l0aW9uVG9wLFxuXHRcdFx0XHRcdG1hcmdpbkxlZnQsXG5cdFx0XHRcdFx0bWFyZ2luVG9wLFxuXHRcdFx0XHRcdCRvZmZzZXRQYXJlbnQsXG5cdFx0XHRcdFx0b2Zmc2V0TGVmdCxcblx0XHRcdFx0XHRvZmZzZXRUb3AsXG5cdFx0XHRcdFx0cGFyZW50T2Zmc2V0TGVmdCA9IDAsXG5cdFx0XHRcdFx0cGFyZW50T2Zmc2V0VG9wID0gMCxcblx0XHRcdFx0XHR0ZW1wUGFyZW50T2Zmc2V0TGVmdCA9IDAsXG5cdFx0XHRcdFx0dGVtcFBhcmVudE9mZnNldFRvcCA9IDA7XG5cblx0XHRcdFx0Ly8gRW5zdXJlIHRoaXMgZWxlbWVudCBpc24ndCBhbHJlYWR5IHBhcnQgb2YgYW5vdGhlciBzY3JvbGxpbmcgZWxlbWVudFxuXHRcdFx0XHRpZiAoISR0aGlzLmRhdGEoJ3N0ZWxsYXItZWxlbWVudElzQWN0aXZlJykpIHtcblx0XHRcdFx0XHQkdGhpcy5kYXRhKCdzdGVsbGFyLWVsZW1lbnRJc0FjdGl2ZScsIHRoaXMpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKCR0aGlzLmRhdGEoJ3N0ZWxsYXItZWxlbWVudElzQWN0aXZlJykgIT09IHRoaXMpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRzZWxmLm9wdGlvbnMuc2hvd0VsZW1lbnQoJHRoaXMpO1xuXG5cdFx0XHRcdC8vIFNhdmUvcmVzdG9yZSB0aGUgb3JpZ2luYWwgdG9wIGFuZCBsZWZ0IENTUyB2YWx1ZXMgaW4gY2FzZSB3ZSByZWZyZXNoIHRoZSBwYXJ0aWNsZXMgb3IgZGVzdHJveSB0aGUgaW5zdGFuY2Vcblx0XHRcdFx0aWYgKCEkdGhpcy5kYXRhKCdzdGVsbGFyLXN0YXJ0aW5nTGVmdCcpKSB7XG5cdFx0XHRcdFx0JHRoaXMuZGF0YSgnc3RlbGxhci1zdGFydGluZ0xlZnQnLCAkdGhpcy5jc3MoJ2xlZnQnKSk7XG5cdFx0XHRcdFx0JHRoaXMuZGF0YSgnc3RlbGxhci1zdGFydGluZ1RvcCcsICR0aGlzLmNzcygndG9wJykpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdCR0aGlzLmNzcygnbGVmdCcsICR0aGlzLmRhdGEoJ3N0ZWxsYXItc3RhcnRpbmdMZWZ0JykpO1xuXHRcdFx0XHRcdCR0aGlzLmNzcygndG9wJywgJHRoaXMuZGF0YSgnc3RlbGxhci1zdGFydGluZ1RvcCcpKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHBvc2l0aW9uTGVmdCA9ICR0aGlzLnBvc2l0aW9uKCkubGVmdDtcblx0XHRcdFx0cG9zaXRpb25Ub3AgPSAkdGhpcy5wb3NpdGlvbigpLnRvcDtcblxuXHRcdFx0XHQvLyBDYXRjaC1hbGwgZm9yIG1hcmdpbiB0b3AvbGVmdCBwcm9wZXJ0aWVzICh0aGVzZSBldmFsdWF0ZSB0byAnYXV0bycgaW4gSUU3IGFuZCBJRTgpXG5cdFx0XHRcdG1hcmdpbkxlZnQgPSAoJHRoaXMuY3NzKCdtYXJnaW4tbGVmdCcpID09PSAnYXV0bycpID8gMCA6IHBhcnNlSW50KCR0aGlzLmNzcygnbWFyZ2luLWxlZnQnKSwgMTApO1xuXHRcdFx0XHRtYXJnaW5Ub3AgPSAoJHRoaXMuY3NzKCdtYXJnaW4tdG9wJykgPT09ICdhdXRvJykgPyAwIDogcGFyc2VJbnQoJHRoaXMuY3NzKCdtYXJnaW4tdG9wJyksIDEwKTtcblxuXHRcdFx0XHRvZmZzZXRMZWZ0ID0gJHRoaXMub2Zmc2V0KCkubGVmdCAtIG1hcmdpbkxlZnQ7XG5cdFx0XHRcdG9mZnNldFRvcCA9ICR0aGlzLm9mZnNldCgpLnRvcCAtIG1hcmdpblRvcDtcblxuXHRcdFx0XHQvLyBDYWxjdWxhdGUgdGhlIG9mZnNldCBwYXJlbnRcblx0XHRcdFx0JHRoaXMucGFyZW50cygpLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0dmFyICR0aGlzID0gJCh0aGlzKTtcblxuXHRcdFx0XHRcdGlmICgkdGhpcy5kYXRhKCdzdGVsbGFyLW9mZnNldC1wYXJlbnQnKSA9PT0gdHJ1ZSkge1xuXHRcdFx0XHRcdFx0cGFyZW50T2Zmc2V0TGVmdCA9IHRlbXBQYXJlbnRPZmZzZXRMZWZ0O1xuXHRcdFx0XHRcdFx0cGFyZW50T2Zmc2V0VG9wID0gdGVtcFBhcmVudE9mZnNldFRvcDtcblx0XHRcdFx0XHRcdCRvZmZzZXRQYXJlbnQgPSAkdGhpcztcblxuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR0ZW1wUGFyZW50T2Zmc2V0TGVmdCArPSAkdGhpcy5wb3NpdGlvbigpLmxlZnQ7XG5cdFx0XHRcdFx0XHR0ZW1wUGFyZW50T2Zmc2V0VG9wICs9ICR0aGlzLnBvc2l0aW9uKCkudG9wO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0Ly8gRGV0ZWN0IHRoZSBvZmZzZXRzXG5cdFx0XHRcdGhvcml6b250YWxPZmZzZXQgPSAoJHRoaXMuZGF0YSgnc3RlbGxhci1ob3Jpem9udGFsLW9mZnNldCcpICE9PSB1bmRlZmluZWQgPyAkdGhpcy5kYXRhKCdzdGVsbGFyLWhvcml6b250YWwtb2Zmc2V0JykgOiAoJG9mZnNldFBhcmVudCAhPT0gdW5kZWZpbmVkICYmICRvZmZzZXRQYXJlbnQuZGF0YSgnc3RlbGxhci1ob3Jpem9udGFsLW9mZnNldCcpICE9PSB1bmRlZmluZWQgPyAkb2Zmc2V0UGFyZW50LmRhdGEoJ3N0ZWxsYXItaG9yaXpvbnRhbC1vZmZzZXQnKSA6IHNlbGYuaG9yaXpvbnRhbE9mZnNldCkpO1xuXHRcdFx0XHR2ZXJ0aWNhbE9mZnNldCA9ICgkdGhpcy5kYXRhKCdzdGVsbGFyLXZlcnRpY2FsLW9mZnNldCcpICE9PSB1bmRlZmluZWQgPyAkdGhpcy5kYXRhKCdzdGVsbGFyLXZlcnRpY2FsLW9mZnNldCcpIDogKCRvZmZzZXRQYXJlbnQgIT09IHVuZGVmaW5lZCAmJiAkb2Zmc2V0UGFyZW50LmRhdGEoJ3N0ZWxsYXItdmVydGljYWwtb2Zmc2V0JykgIT09IHVuZGVmaW5lZCA/ICRvZmZzZXRQYXJlbnQuZGF0YSgnc3RlbGxhci12ZXJ0aWNhbC1vZmZzZXQnKSA6IHNlbGYudmVydGljYWxPZmZzZXQpKTtcblxuXHRcdFx0XHQvLyBBZGQgb3VyIG9iamVjdCB0byB0aGUgcGFydGljbGVzIGNvbGxlY3Rpb25cblx0XHRcdFx0c2VsZi5wYXJ0aWNsZXMucHVzaCh7XG5cdFx0XHRcdFx0JGVsZW1lbnQ6ICR0aGlzLFxuXHRcdFx0XHRcdCRvZmZzZXRQYXJlbnQ6ICRvZmZzZXRQYXJlbnQsXG5cdFx0XHRcdFx0aXNGaXhlZDogJHRoaXMuY3NzKCdwb3NpdGlvbicpID09PSAnZml4ZWQnLFxuXHRcdFx0XHRcdGhvcml6b250YWxPZmZzZXQ6IGhvcml6b250YWxPZmZzZXQsXG5cdFx0XHRcdFx0dmVydGljYWxPZmZzZXQ6IHZlcnRpY2FsT2Zmc2V0LFxuXHRcdFx0XHRcdHN0YXJ0aW5nUG9zaXRpb25MZWZ0OiBwb3NpdGlvbkxlZnQsXG5cdFx0XHRcdFx0c3RhcnRpbmdQb3NpdGlvblRvcDogcG9zaXRpb25Ub3AsXG5cdFx0XHRcdFx0c3RhcnRpbmdPZmZzZXRMZWZ0OiBvZmZzZXRMZWZ0LFxuXHRcdFx0XHRcdHN0YXJ0aW5nT2Zmc2V0VG9wOiBvZmZzZXRUb3AsXG5cdFx0XHRcdFx0cGFyZW50T2Zmc2V0TGVmdDogcGFyZW50T2Zmc2V0TGVmdCxcblx0XHRcdFx0XHRwYXJlbnRPZmZzZXRUb3A6IHBhcmVudE9mZnNldFRvcCxcblx0XHRcdFx0XHRzdGVsbGFyUmF0aW86ICgkdGhpcy5kYXRhKCdzdGVsbGFyLXJhdGlvJykgIT09IHVuZGVmaW5lZCA/ICR0aGlzLmRhdGEoJ3N0ZWxsYXItcmF0aW8nKSA6IDEpLFxuXHRcdFx0XHRcdHdpZHRoOiAkdGhpcy5vdXRlcldpZHRoKHRydWUpLFxuXHRcdFx0XHRcdGhlaWdodDogJHRoaXMub3V0ZXJIZWlnaHQodHJ1ZSksXG5cdFx0XHRcdFx0aXNIaWRkZW46IGZhbHNlXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0fSxcblx0XHRfZmluZEJhY2tncm91bmRzOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcyxcblx0XHRcdFx0c2Nyb2xsTGVmdCA9IHRoaXMuX2dldFNjcm9sbExlZnQoKSxcblx0XHRcdFx0c2Nyb2xsVG9wID0gdGhpcy5fZ2V0U2Nyb2xsVG9wKCksXG5cdFx0XHRcdCRiYWNrZ3JvdW5kRWxlbWVudHM7XG5cblx0XHRcdHRoaXMuYmFja2dyb3VuZHMgPSBbXTtcblxuXHRcdFx0aWYgKCF0aGlzLm9wdGlvbnMucGFyYWxsYXhCYWNrZ3JvdW5kcykgcmV0dXJuO1xuXG5cdFx0XHQkYmFja2dyb3VuZEVsZW1lbnRzID0gdGhpcy4kZWxlbWVudC5maW5kKCdbZGF0YS1zdGVsbGFyLWJhY2tncm91bmQtcmF0aW9dJyk7XG5cblx0XHRcdGlmICh0aGlzLiRlbGVtZW50LmRhdGEoJ3N0ZWxsYXItYmFja2dyb3VuZC1yYXRpbycpKSB7XG4gICAgICAgICAgICAgICAgJGJhY2tncm91bmRFbGVtZW50cyA9ICRiYWNrZ3JvdW5kRWxlbWVudHMuYWRkKHRoaXMuJGVsZW1lbnQpO1xuXHRcdFx0fVxuXG5cdFx0XHQkYmFja2dyb3VuZEVsZW1lbnRzLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciAkdGhpcyA9ICQodGhpcyksXG5cdFx0XHRcdFx0YmFja2dyb3VuZFBvc2l0aW9uID0gZ2V0QmFja2dyb3VuZFBvc2l0aW9uKCR0aGlzKSxcblx0XHRcdFx0XHRob3Jpem9udGFsT2Zmc2V0LFxuXHRcdFx0XHRcdHZlcnRpY2FsT2Zmc2V0LFxuXHRcdFx0XHRcdHBvc2l0aW9uTGVmdCxcblx0XHRcdFx0XHRwb3NpdGlvblRvcCxcblx0XHRcdFx0XHRtYXJnaW5MZWZ0LFxuXHRcdFx0XHRcdG1hcmdpblRvcCxcblx0XHRcdFx0XHRvZmZzZXRMZWZ0LFxuXHRcdFx0XHRcdG9mZnNldFRvcCxcblx0XHRcdFx0XHQkb2Zmc2V0UGFyZW50LFxuXHRcdFx0XHRcdHBhcmVudE9mZnNldExlZnQgPSAwLFxuXHRcdFx0XHRcdHBhcmVudE9mZnNldFRvcCA9IDAsXG5cdFx0XHRcdFx0dGVtcFBhcmVudE9mZnNldExlZnQgPSAwLFxuXHRcdFx0XHRcdHRlbXBQYXJlbnRPZmZzZXRUb3AgPSAwO1xuXG5cdFx0XHRcdC8vIEVuc3VyZSB0aGlzIGVsZW1lbnQgaXNuJ3QgYWxyZWFkeSBwYXJ0IG9mIGFub3RoZXIgc2Nyb2xsaW5nIGVsZW1lbnRcblx0XHRcdFx0aWYgKCEkdGhpcy5kYXRhKCdzdGVsbGFyLWJhY2tncm91bmRJc0FjdGl2ZScpKSB7XG5cdFx0XHRcdFx0JHRoaXMuZGF0YSgnc3RlbGxhci1iYWNrZ3JvdW5kSXNBY3RpdmUnLCB0aGlzKTtcblx0XHRcdFx0fSBlbHNlIGlmICgkdGhpcy5kYXRhKCdzdGVsbGFyLWJhY2tncm91bmRJc0FjdGl2ZScpICE9PSB0aGlzKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gU2F2ZS9yZXN0b3JlIHRoZSBvcmlnaW5hbCB0b3AgYW5kIGxlZnQgQ1NTIHZhbHVlcyBpbiBjYXNlIHdlIGRlc3Ryb3kgdGhlIGluc3RhbmNlXG5cdFx0XHRcdGlmICghJHRoaXMuZGF0YSgnc3RlbGxhci1iYWNrZ3JvdW5kU3RhcnRpbmdMZWZ0JykpIHtcblx0XHRcdFx0XHQkdGhpcy5kYXRhKCdzdGVsbGFyLWJhY2tncm91bmRTdGFydGluZ0xlZnQnLCBiYWNrZ3JvdW5kUG9zaXRpb25bMF0pO1xuXHRcdFx0XHRcdCR0aGlzLmRhdGEoJ3N0ZWxsYXItYmFja2dyb3VuZFN0YXJ0aW5nVG9wJywgYmFja2dyb3VuZFBvc2l0aW9uWzFdKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzZXRCYWNrZ3JvdW5kUG9zaXRpb24oJHRoaXMsICR0aGlzLmRhdGEoJ3N0ZWxsYXItYmFja2dyb3VuZFN0YXJ0aW5nTGVmdCcpLCAkdGhpcy5kYXRhKCdzdGVsbGFyLWJhY2tncm91bmRTdGFydGluZ1RvcCcpKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIENhdGNoLWFsbCBmb3IgbWFyZ2luIHRvcC9sZWZ0IHByb3BlcnRpZXMgKHRoZXNlIGV2YWx1YXRlIHRvICdhdXRvJyBpbiBJRTcgYW5kIElFOClcblx0XHRcdFx0bWFyZ2luTGVmdCA9ICgkdGhpcy5jc3MoJ21hcmdpbi1sZWZ0JykgPT09ICdhdXRvJykgPyAwIDogcGFyc2VJbnQoJHRoaXMuY3NzKCdtYXJnaW4tbGVmdCcpLCAxMCk7XG5cdFx0XHRcdG1hcmdpblRvcCA9ICgkdGhpcy5jc3MoJ21hcmdpbi10b3AnKSA9PT0gJ2F1dG8nKSA/IDAgOiBwYXJzZUludCgkdGhpcy5jc3MoJ21hcmdpbi10b3AnKSwgMTApO1xuXG5cdFx0XHRcdG9mZnNldExlZnQgPSAkdGhpcy5vZmZzZXQoKS5sZWZ0IC0gbWFyZ2luTGVmdCAtIHNjcm9sbExlZnQ7XG5cdFx0XHRcdG9mZnNldFRvcCA9ICR0aGlzLm9mZnNldCgpLnRvcCAtIG1hcmdpblRvcCAtIHNjcm9sbFRvcDtcblx0XHRcdFx0XG5cdFx0XHRcdC8vIENhbGN1bGF0ZSB0aGUgb2Zmc2V0IHBhcmVudFxuXHRcdFx0XHQkdGhpcy5wYXJlbnRzKCkuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHR2YXIgJHRoaXMgPSAkKHRoaXMpO1xuXG5cdFx0XHRcdFx0aWYgKCR0aGlzLmRhdGEoJ3N0ZWxsYXItb2Zmc2V0LXBhcmVudCcpID09PSB0cnVlKSB7XG5cdFx0XHRcdFx0XHRwYXJlbnRPZmZzZXRMZWZ0ID0gdGVtcFBhcmVudE9mZnNldExlZnQ7XG5cdFx0XHRcdFx0XHRwYXJlbnRPZmZzZXRUb3AgPSB0ZW1wUGFyZW50T2Zmc2V0VG9wO1xuXHRcdFx0XHRcdFx0JG9mZnNldFBhcmVudCA9ICR0aGlzO1xuXG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHRlbXBQYXJlbnRPZmZzZXRMZWZ0ICs9ICR0aGlzLnBvc2l0aW9uKCkubGVmdDtcblx0XHRcdFx0XHRcdHRlbXBQYXJlbnRPZmZzZXRUb3AgKz0gJHRoaXMucG9zaXRpb24oKS50b3A7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHQvLyBEZXRlY3QgdGhlIG9mZnNldHNcblx0XHRcdFx0aG9yaXpvbnRhbE9mZnNldCA9ICgkdGhpcy5kYXRhKCdzdGVsbGFyLWhvcml6b250YWwtb2Zmc2V0JykgIT09IHVuZGVmaW5lZCA/ICR0aGlzLmRhdGEoJ3N0ZWxsYXItaG9yaXpvbnRhbC1vZmZzZXQnKSA6ICgkb2Zmc2V0UGFyZW50ICE9PSB1bmRlZmluZWQgJiYgJG9mZnNldFBhcmVudC5kYXRhKCdzdGVsbGFyLWhvcml6b250YWwtb2Zmc2V0JykgIT09IHVuZGVmaW5lZCA/ICRvZmZzZXRQYXJlbnQuZGF0YSgnc3RlbGxhci1ob3Jpem9udGFsLW9mZnNldCcpIDogc2VsZi5ob3Jpem9udGFsT2Zmc2V0KSk7XG5cdFx0XHRcdHZlcnRpY2FsT2Zmc2V0ID0gKCR0aGlzLmRhdGEoJ3N0ZWxsYXItdmVydGljYWwtb2Zmc2V0JykgIT09IHVuZGVmaW5lZCA/ICR0aGlzLmRhdGEoJ3N0ZWxsYXItdmVydGljYWwtb2Zmc2V0JykgOiAoJG9mZnNldFBhcmVudCAhPT0gdW5kZWZpbmVkICYmICRvZmZzZXRQYXJlbnQuZGF0YSgnc3RlbGxhci12ZXJ0aWNhbC1vZmZzZXQnKSAhPT0gdW5kZWZpbmVkID8gJG9mZnNldFBhcmVudC5kYXRhKCdzdGVsbGFyLXZlcnRpY2FsLW9mZnNldCcpIDogc2VsZi52ZXJ0aWNhbE9mZnNldCkpO1xuXG5cdFx0XHRcdHNlbGYuYmFja2dyb3VuZHMucHVzaCh7XG5cdFx0XHRcdFx0JGVsZW1lbnQ6ICR0aGlzLFxuXHRcdFx0XHRcdCRvZmZzZXRQYXJlbnQ6ICRvZmZzZXRQYXJlbnQsXG5cdFx0XHRcdFx0aXNGaXhlZDogJHRoaXMuY3NzKCdiYWNrZ3JvdW5kLWF0dGFjaG1lbnQnKSA9PT0gJ2ZpeGVkJyxcblx0XHRcdFx0XHRob3Jpem9udGFsT2Zmc2V0OiBob3Jpem9udGFsT2Zmc2V0LFxuXHRcdFx0XHRcdHZlcnRpY2FsT2Zmc2V0OiB2ZXJ0aWNhbE9mZnNldCxcblx0XHRcdFx0XHRzdGFydGluZ1ZhbHVlTGVmdDogYmFja2dyb3VuZFBvc2l0aW9uWzBdLFxuXHRcdFx0XHRcdHN0YXJ0aW5nVmFsdWVUb3A6IGJhY2tncm91bmRQb3NpdGlvblsxXSxcblx0XHRcdFx0XHRzdGFydGluZ0JhY2tncm91bmRQb3NpdGlvbkxlZnQ6IChpc05hTihwYXJzZUludChiYWNrZ3JvdW5kUG9zaXRpb25bMF0sIDEwKSkgPyAwIDogcGFyc2VJbnQoYmFja2dyb3VuZFBvc2l0aW9uWzBdLCAxMCkpLFxuXHRcdFx0XHRcdHN0YXJ0aW5nQmFja2dyb3VuZFBvc2l0aW9uVG9wOiAoaXNOYU4ocGFyc2VJbnQoYmFja2dyb3VuZFBvc2l0aW9uWzFdLCAxMCkpID8gMCA6IHBhcnNlSW50KGJhY2tncm91bmRQb3NpdGlvblsxXSwgMTApKSxcblx0XHRcdFx0XHRzdGFydGluZ1Bvc2l0aW9uTGVmdDogJHRoaXMucG9zaXRpb24oKS5sZWZ0LFxuXHRcdFx0XHRcdHN0YXJ0aW5nUG9zaXRpb25Ub3A6ICR0aGlzLnBvc2l0aW9uKCkudG9wLFxuXHRcdFx0XHRcdHN0YXJ0aW5nT2Zmc2V0TGVmdDogb2Zmc2V0TGVmdCxcblx0XHRcdFx0XHRzdGFydGluZ09mZnNldFRvcDogb2Zmc2V0VG9wLFxuXHRcdFx0XHRcdHBhcmVudE9mZnNldExlZnQ6IHBhcmVudE9mZnNldExlZnQsXG5cdFx0XHRcdFx0cGFyZW50T2Zmc2V0VG9wOiBwYXJlbnRPZmZzZXRUb3AsXG5cdFx0XHRcdFx0c3RlbGxhclJhdGlvOiAoJHRoaXMuZGF0YSgnc3RlbGxhci1iYWNrZ3JvdW5kLXJhdGlvJykgPT09IHVuZGVmaW5lZCA/IDEgOiAkdGhpcy5kYXRhKCdzdGVsbGFyLWJhY2tncm91bmQtcmF0aW8nKSlcblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXHRcdF9yZXNldDogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgcGFydGljbGUsXG5cdFx0XHRcdHN0YXJ0aW5nUG9zaXRpb25MZWZ0LFxuXHRcdFx0XHRzdGFydGluZ1Bvc2l0aW9uVG9wLFxuXHRcdFx0XHRiYWNrZ3JvdW5kLFxuXHRcdFx0XHRpO1xuXG5cdFx0XHRmb3IgKGkgPSB0aGlzLnBhcnRpY2xlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0XHRwYXJ0aWNsZSA9IHRoaXMucGFydGljbGVzW2ldO1xuXHRcdFx0XHRzdGFydGluZ1Bvc2l0aW9uTGVmdCA9IHBhcnRpY2xlLiRlbGVtZW50LmRhdGEoJ3N0ZWxsYXItc3RhcnRpbmdMZWZ0Jyk7XG5cdFx0XHRcdHN0YXJ0aW5nUG9zaXRpb25Ub3AgPSBwYXJ0aWNsZS4kZWxlbWVudC5kYXRhKCdzdGVsbGFyLXN0YXJ0aW5nVG9wJyk7XG5cblx0XHRcdFx0dGhpcy5fc2V0UG9zaXRpb24ocGFydGljbGUuJGVsZW1lbnQsIHN0YXJ0aW5nUG9zaXRpb25MZWZ0LCBzdGFydGluZ1Bvc2l0aW9uTGVmdCwgc3RhcnRpbmdQb3NpdGlvblRvcCwgc3RhcnRpbmdQb3NpdGlvblRvcCk7XG5cblx0XHRcdFx0dGhpcy5vcHRpb25zLnNob3dFbGVtZW50KHBhcnRpY2xlLiRlbGVtZW50KTtcblxuXHRcdFx0XHRwYXJ0aWNsZS4kZWxlbWVudC5kYXRhKCdzdGVsbGFyLXN0YXJ0aW5nTGVmdCcsIG51bGwpLmRhdGEoJ3N0ZWxsYXItZWxlbWVudElzQWN0aXZlJywgbnVsbCkuZGF0YSgnc3RlbGxhci1iYWNrZ3JvdW5kSXNBY3RpdmUnLCBudWxsKTtcblx0XHRcdH1cblxuXHRcdFx0Zm9yIChpID0gdGhpcy5iYWNrZ3JvdW5kcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0XHRiYWNrZ3JvdW5kID0gdGhpcy5iYWNrZ3JvdW5kc1tpXTtcblxuXHRcdFx0XHRiYWNrZ3JvdW5kLiRlbGVtZW50LmRhdGEoJ3N0ZWxsYXItYmFja2dyb3VuZFN0YXJ0aW5nTGVmdCcsIG51bGwpLmRhdGEoJ3N0ZWxsYXItYmFja2dyb3VuZFN0YXJ0aW5nVG9wJywgbnVsbCk7XG5cblx0XHRcdFx0c2V0QmFja2dyb3VuZFBvc2l0aW9uKGJhY2tncm91bmQuJGVsZW1lbnQsIGJhY2tncm91bmQuc3RhcnRpbmdWYWx1ZUxlZnQsIGJhY2tncm91bmQuc3RhcnRpbmdWYWx1ZVRvcCk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRkZXN0cm95OiBmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuX3Jlc2V0KCk7XG5cblx0XHRcdHRoaXMuJHNjcm9sbEVsZW1lbnQudW5iaW5kKCdyZXNpemUuJyArIHRoaXMubmFtZSkudW5iaW5kKCdzY3JvbGwuJyArIHRoaXMubmFtZSk7XG5cdFx0XHR0aGlzLl9hbmltYXRpb25Mb29wID0gJC5ub29wO1xuXG5cdFx0XHQkKHdpbmRvdykudW5iaW5kKCdsb2FkLicgKyB0aGlzLm5hbWUpLnVuYmluZCgncmVzaXplLicgKyB0aGlzLm5hbWUpO1xuXHRcdH0sXG5cdFx0X3NldE9mZnNldHM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzLFxuXHRcdFx0XHQkd2luZG93ID0gJCh3aW5kb3cpO1xuXG5cdFx0XHQkd2luZG93LnVuYmluZCgncmVzaXplLmhvcml6b250YWwtJyArIHRoaXMubmFtZSkudW5iaW5kKCdyZXNpemUudmVydGljYWwtJyArIHRoaXMubmFtZSk7XG5cblx0XHRcdGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLmhvcml6b250YWxPZmZzZXQgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0dGhpcy5ob3Jpem9udGFsT2Zmc2V0ID0gdGhpcy5vcHRpb25zLmhvcml6b250YWxPZmZzZXQoKTtcblx0XHRcdFx0JHdpbmRvdy5iaW5kKCdyZXNpemUuaG9yaXpvbnRhbC0nICsgdGhpcy5uYW1lLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRzZWxmLmhvcml6b250YWxPZmZzZXQgPSBzZWxmLm9wdGlvbnMuaG9yaXpvbnRhbE9mZnNldCgpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuaG9yaXpvbnRhbE9mZnNldCA9IHRoaXMub3B0aW9ucy5ob3Jpem9udGFsT2Zmc2V0O1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodHlwZW9mIHRoaXMub3B0aW9ucy52ZXJ0aWNhbE9mZnNldCA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHR0aGlzLnZlcnRpY2FsT2Zmc2V0ID0gdGhpcy5vcHRpb25zLnZlcnRpY2FsT2Zmc2V0KCk7XG5cdFx0XHRcdCR3aW5kb3cuYmluZCgncmVzaXplLnZlcnRpY2FsLScgKyB0aGlzLm5hbWUsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHNlbGYudmVydGljYWxPZmZzZXQgPSBzZWxmLm9wdGlvbnMudmVydGljYWxPZmZzZXQoKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLnZlcnRpY2FsT2Zmc2V0ID0gdGhpcy5vcHRpb25zLnZlcnRpY2FsT2Zmc2V0O1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0X3JlcG9zaXRpb25FbGVtZW50czogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2Nyb2xsTGVmdCA9IHRoaXMuX2dldFNjcm9sbExlZnQoKSxcblx0XHRcdFx0c2Nyb2xsVG9wID0gdGhpcy5fZ2V0U2Nyb2xsVG9wKCksXG5cdFx0XHRcdGhvcml6b250YWxPZmZzZXQsXG5cdFx0XHRcdHZlcnRpY2FsT2Zmc2V0LFxuXHRcdFx0XHRwYXJ0aWNsZSxcblx0XHRcdFx0Zml4ZWRSYXRpb09mZnNldCxcblx0XHRcdFx0YmFja2dyb3VuZCxcblx0XHRcdFx0YmdMZWZ0LFxuXHRcdFx0XHRiZ1RvcCxcblx0XHRcdFx0aXNWaXNpYmxlVmVydGljYWwgPSB0cnVlLFxuXHRcdFx0XHRpc1Zpc2libGVIb3Jpem9udGFsID0gdHJ1ZSxcblx0XHRcdFx0bmV3UG9zaXRpb25MZWZ0LFxuXHRcdFx0XHRuZXdQb3NpdGlvblRvcCxcblx0XHRcdFx0bmV3T2Zmc2V0TGVmdCxcblx0XHRcdFx0bmV3T2Zmc2V0VG9wLFxuXHRcdFx0XHRpO1xuXG5cdFx0XHQvLyBGaXJzdCBjaGVjayB0aGF0IHRoZSBzY3JvbGwgcG9zaXRpb24gb3IgY29udGFpbmVyIHNpemUgaGFzIGNoYW5nZWRcblx0XHRcdGlmICh0aGlzLmN1cnJlbnRTY3JvbGxMZWZ0ID09PSBzY3JvbGxMZWZ0ICYmIHRoaXMuY3VycmVudFNjcm9sbFRvcCA9PT0gc2Nyb2xsVG9wICYmIHRoaXMuY3VycmVudFdpZHRoID09PSB0aGlzLnZpZXdwb3J0V2lkdGggJiYgdGhpcy5jdXJyZW50SGVpZ2h0ID09PSB0aGlzLnZpZXdwb3J0SGVpZ2h0KSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuY3VycmVudFNjcm9sbExlZnQgPSBzY3JvbGxMZWZ0O1xuXHRcdFx0XHR0aGlzLmN1cnJlbnRTY3JvbGxUb3AgPSBzY3JvbGxUb3A7XG5cdFx0XHRcdHRoaXMuY3VycmVudFdpZHRoID0gdGhpcy52aWV3cG9ydFdpZHRoO1xuXHRcdFx0XHR0aGlzLmN1cnJlbnRIZWlnaHQgPSB0aGlzLnZpZXdwb3J0SGVpZ2h0O1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBSZXBvc2l0aW9uIGVsZW1lbnRzXG5cdFx0XHRmb3IgKGkgPSB0aGlzLnBhcnRpY2xlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0XHRwYXJ0aWNsZSA9IHRoaXMucGFydGljbGVzW2ldO1xuXG5cdFx0XHRcdGZpeGVkUmF0aW9PZmZzZXQgPSAocGFydGljbGUuaXNGaXhlZCA/IDEgOiAwKTtcblxuXHRcdFx0XHQvLyBDYWxjdWxhdGUgcG9zaXRpb24sIHRoZW4gY2FsY3VsYXRlIHdoYXQgdGhlIHBhcnRpY2xlJ3MgbmV3IG9mZnNldCB3aWxsIGJlIChmb3IgdmlzaWJpbGl0eSBjaGVjaylcblx0XHRcdFx0aWYgKHRoaXMub3B0aW9ucy5ob3Jpem9udGFsU2Nyb2xsaW5nKSB7XG5cdFx0XHRcdFx0bmV3UG9zaXRpb25MZWZ0ID0gKHNjcm9sbExlZnQgKyBwYXJ0aWNsZS5ob3Jpem9udGFsT2Zmc2V0ICsgdGhpcy52aWV3cG9ydE9mZnNldExlZnQgKyBwYXJ0aWNsZS5zdGFydGluZ1Bvc2l0aW9uTGVmdCAtIHBhcnRpY2xlLnN0YXJ0aW5nT2Zmc2V0TGVmdCArIHBhcnRpY2xlLnBhcmVudE9mZnNldExlZnQpICogLShwYXJ0aWNsZS5zdGVsbGFyUmF0aW8gKyBmaXhlZFJhdGlvT2Zmc2V0IC0gMSkgKyBwYXJ0aWNsZS5zdGFydGluZ1Bvc2l0aW9uTGVmdDtcblx0XHRcdFx0XHRuZXdPZmZzZXRMZWZ0ID0gbmV3UG9zaXRpb25MZWZ0IC0gcGFydGljbGUuc3RhcnRpbmdQb3NpdGlvbkxlZnQgKyBwYXJ0aWNsZS5zdGFydGluZ09mZnNldExlZnQ7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bmV3UG9zaXRpb25MZWZ0ID0gcGFydGljbGUuc3RhcnRpbmdQb3NpdGlvbkxlZnQ7XG5cdFx0XHRcdFx0bmV3T2Zmc2V0TGVmdCA9IHBhcnRpY2xlLnN0YXJ0aW5nT2Zmc2V0TGVmdDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICh0aGlzLm9wdGlvbnMudmVydGljYWxTY3JvbGxpbmcpIHtcblx0XHRcdFx0XHRuZXdQb3NpdGlvblRvcCA9IChzY3JvbGxUb3AgKyBwYXJ0aWNsZS52ZXJ0aWNhbE9mZnNldCArIHRoaXMudmlld3BvcnRPZmZzZXRUb3AgKyBwYXJ0aWNsZS5zdGFydGluZ1Bvc2l0aW9uVG9wIC0gcGFydGljbGUuc3RhcnRpbmdPZmZzZXRUb3AgKyBwYXJ0aWNsZS5wYXJlbnRPZmZzZXRUb3ApICogLShwYXJ0aWNsZS5zdGVsbGFyUmF0aW8gKyBmaXhlZFJhdGlvT2Zmc2V0IC0gMSkgKyBwYXJ0aWNsZS5zdGFydGluZ1Bvc2l0aW9uVG9wO1xuXHRcdFx0XHRcdG5ld09mZnNldFRvcCA9IG5ld1Bvc2l0aW9uVG9wIC0gcGFydGljbGUuc3RhcnRpbmdQb3NpdGlvblRvcCArIHBhcnRpY2xlLnN0YXJ0aW5nT2Zmc2V0VG9wO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdG5ld1Bvc2l0aW9uVG9wID0gcGFydGljbGUuc3RhcnRpbmdQb3NpdGlvblRvcDtcblx0XHRcdFx0XHRuZXdPZmZzZXRUb3AgPSBwYXJ0aWNsZS5zdGFydGluZ09mZnNldFRvcDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIENoZWNrIHZpc2liaWxpdHlcblx0XHRcdFx0aWYgKHRoaXMub3B0aW9ucy5oaWRlRGlzdGFudEVsZW1lbnRzKSB7XG5cdFx0XHRcdFx0aXNWaXNpYmxlSG9yaXpvbnRhbCA9ICF0aGlzLm9wdGlvbnMuaG9yaXpvbnRhbFNjcm9sbGluZyB8fCBuZXdPZmZzZXRMZWZ0ICsgcGFydGljbGUud2lkdGggPiAocGFydGljbGUuaXNGaXhlZCA/IDAgOiBzY3JvbGxMZWZ0KSAmJiBuZXdPZmZzZXRMZWZ0IDwgKHBhcnRpY2xlLmlzRml4ZWQgPyAwIDogc2Nyb2xsTGVmdCkgKyB0aGlzLnZpZXdwb3J0V2lkdGggKyB0aGlzLnZpZXdwb3J0T2Zmc2V0TGVmdDtcblx0XHRcdFx0XHRpc1Zpc2libGVWZXJ0aWNhbCA9ICF0aGlzLm9wdGlvbnMudmVydGljYWxTY3JvbGxpbmcgfHwgbmV3T2Zmc2V0VG9wICsgcGFydGljbGUuaGVpZ2h0ID4gKHBhcnRpY2xlLmlzRml4ZWQgPyAwIDogc2Nyb2xsVG9wKSAmJiBuZXdPZmZzZXRUb3AgPCAocGFydGljbGUuaXNGaXhlZCA/IDAgOiBzY3JvbGxUb3ApICsgdGhpcy52aWV3cG9ydEhlaWdodCArIHRoaXMudmlld3BvcnRPZmZzZXRUb3A7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoaXNWaXNpYmxlSG9yaXpvbnRhbCAmJiBpc1Zpc2libGVWZXJ0aWNhbCkge1xuXHRcdFx0XHRcdGlmIChwYXJ0aWNsZS5pc0hpZGRlbikge1xuXHRcdFx0XHRcdFx0dGhpcy5vcHRpb25zLnNob3dFbGVtZW50KHBhcnRpY2xlLiRlbGVtZW50KTtcblx0XHRcdFx0XHRcdHBhcnRpY2xlLmlzSGlkZGVuID0gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dGhpcy5fc2V0UG9zaXRpb24ocGFydGljbGUuJGVsZW1lbnQsIG5ld1Bvc2l0aW9uTGVmdCwgcGFydGljbGUuc3RhcnRpbmdQb3NpdGlvbkxlZnQsIG5ld1Bvc2l0aW9uVG9wLCBwYXJ0aWNsZS5zdGFydGluZ1Bvc2l0aW9uVG9wKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZiAoIXBhcnRpY2xlLmlzSGlkZGVuKSB7XG5cdFx0XHRcdFx0XHR0aGlzLm9wdGlvbnMuaGlkZUVsZW1lbnQocGFydGljbGUuJGVsZW1lbnQpO1xuXHRcdFx0XHRcdFx0cGFydGljbGUuaXNIaWRkZW4gPSB0cnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBSZXBvc2l0aW9uIGJhY2tncm91bmRzXG5cdFx0XHRmb3IgKGkgPSB0aGlzLmJhY2tncm91bmRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0XHRcdGJhY2tncm91bmQgPSB0aGlzLmJhY2tncm91bmRzW2ldO1xuXG5cdFx0XHRcdGZpeGVkUmF0aW9PZmZzZXQgPSAoYmFja2dyb3VuZC5pc0ZpeGVkID8gMCA6IDEpO1xuXHRcdFx0XHRiZ0xlZnQgPSAodGhpcy5vcHRpb25zLmhvcml6b250YWxTY3JvbGxpbmcgPyAoc2Nyb2xsTGVmdCArIGJhY2tncm91bmQuaG9yaXpvbnRhbE9mZnNldCAtIHRoaXMudmlld3BvcnRPZmZzZXRMZWZ0IC0gYmFja2dyb3VuZC5zdGFydGluZ09mZnNldExlZnQgKyBiYWNrZ3JvdW5kLnBhcmVudE9mZnNldExlZnQgLSBiYWNrZ3JvdW5kLnN0YXJ0aW5nQmFja2dyb3VuZFBvc2l0aW9uTGVmdCkgKiAoZml4ZWRSYXRpb09mZnNldCAtIGJhY2tncm91bmQuc3RlbGxhclJhdGlvKSArICdweCcgOiBiYWNrZ3JvdW5kLnN0YXJ0aW5nVmFsdWVMZWZ0KTtcblx0XHRcdFx0YmdUb3AgPSAodGhpcy5vcHRpb25zLnZlcnRpY2FsU2Nyb2xsaW5nID8gKHNjcm9sbFRvcCArIGJhY2tncm91bmQudmVydGljYWxPZmZzZXQgLSB0aGlzLnZpZXdwb3J0T2Zmc2V0VG9wIC0gYmFja2dyb3VuZC5zdGFydGluZ09mZnNldFRvcCArIGJhY2tncm91bmQucGFyZW50T2Zmc2V0VG9wIC0gYmFja2dyb3VuZC5zdGFydGluZ0JhY2tncm91bmRQb3NpdGlvblRvcCkgKiAoZml4ZWRSYXRpb09mZnNldCAtIGJhY2tncm91bmQuc3RlbGxhclJhdGlvKSArICdweCcgOiBiYWNrZ3JvdW5kLnN0YXJ0aW5nVmFsdWVUb3ApO1xuXG5cdFx0XHRcdHNldEJhY2tncm91bmRQb3NpdGlvbihiYWNrZ3JvdW5kLiRlbGVtZW50LCBiZ0xlZnQsIGJnVG9wKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdF9oYW5kbGVTY3JvbGxFdmVudDogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXMsXG5cdFx0XHRcdHRpY2tpbmcgPSBmYWxzZTtcblxuXHRcdFx0dmFyIHVwZGF0ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRzZWxmLl9yZXBvc2l0aW9uRWxlbWVudHMoKTtcblx0XHRcdFx0dGlja2luZyA9IGZhbHNlO1xuXHRcdFx0fTtcblxuXHRcdFx0dmFyIHJlcXVlc3RUaWNrID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICghdGlja2luZykge1xuXHRcdFx0XHRcdHJlcXVlc3RBbmltRnJhbWUodXBkYXRlKTtcblx0XHRcdFx0XHR0aWNraW5nID0gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHRcdFxuXHRcdFx0dGhpcy4kc2Nyb2xsRWxlbWVudC5iaW5kKCdzY3JvbGwuJyArIHRoaXMubmFtZSwgcmVxdWVzdFRpY2spO1xuXHRcdFx0cmVxdWVzdFRpY2soKTtcblx0XHR9LFxuXHRcdF9zdGFydEFuaW1hdGlvbkxvb3A6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0XHR0aGlzLl9hbmltYXRpb25Mb29wID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJlcXVlc3RBbmltRnJhbWUoc2VsZi5fYW5pbWF0aW9uTG9vcCk7XG5cdFx0XHRcdHNlbGYuX3JlcG9zaXRpb25FbGVtZW50cygpO1xuXHRcdFx0fTtcblx0XHRcdHRoaXMuX2FuaW1hdGlvbkxvb3AoKTtcblx0XHR9XG5cdH07XG5cblx0JC5mbltwbHVnaW5OYW1lXSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG5cdFx0dmFyIGFyZ3MgPSBhcmd1bWVudHM7XG5cdFx0aWYgKG9wdGlvbnMgPT09IHVuZGVmaW5lZCB8fCB0eXBlb2Ygb3B0aW9ucyA9PT0gJ29iamVjdCcpIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRpZiAoISQuZGF0YSh0aGlzLCAncGx1Z2luXycgKyBwbHVnaW5OYW1lKSkge1xuXHRcdFx0XHRcdCQuZGF0YSh0aGlzLCAncGx1Z2luXycgKyBwbHVnaW5OYW1lLCBuZXcgUGx1Z2luKHRoaXMsIG9wdGlvbnMpKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycgJiYgb3B0aW9uc1swXSAhPT0gJ18nICYmIG9wdGlvbnMgIT09ICdpbml0Jykge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHZhciBpbnN0YW5jZSA9ICQuZGF0YSh0aGlzLCAncGx1Z2luXycgKyBwbHVnaW5OYW1lKTtcblx0XHRcdFx0aWYgKGluc3RhbmNlIGluc3RhbmNlb2YgUGx1Z2luICYmIHR5cGVvZiBpbnN0YW5jZVtvcHRpb25zXSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdGluc3RhbmNlW29wdGlvbnNdLmFwcGx5KGluc3RhbmNlLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmdzLCAxKSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKG9wdGlvbnMgPT09ICdkZXN0cm95Jykge1xuXHRcdFx0XHRcdCQuZGF0YSh0aGlzLCAncGx1Z2luXycgKyBwbHVnaW5OYW1lLCBudWxsKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9O1xuXG5cdCRbcGx1Z2luTmFtZV0gPSBmdW5jdGlvbihvcHRpb25zKSB7XG5cdFx0dmFyICR3aW5kb3cgPSAkKHdpbmRvdyk7XG5cdFx0cmV0dXJuICR3aW5kb3cuc3RlbGxhci5hcHBseSgkd2luZG93LCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApKTtcblx0fTtcblxuXHQvLyBFeHBvc2UgdGhlIHNjcm9sbCBhbmQgcG9zaXRpb24gcHJvcGVydHkgZnVuY3Rpb24gaGFzaGVzIHNvIHRoZXkgY2FuIGJlIGV4dGVuZGVkXG5cdCRbcGx1Z2luTmFtZV0uc2Nyb2xsUHJvcGVydHkgPSBzY3JvbGxQcm9wZXJ0eTtcblx0JFtwbHVnaW5OYW1lXS5wb3NpdGlvblByb3BlcnR5ID0gcG9zaXRpb25Qcm9wZXJ0eTtcblxuXHQvLyBFeHBvc2UgdGhlIHBsdWdpbiBjbGFzcyBzbyBpdCBjYW4gYmUgbW9kaWZpZWRcblx0d2luZG93LlN0ZWxsYXIgPSBQbHVnaW47XG59KGpRdWVyeSwgdGhpcywgZG9jdW1lbnQpKTsiLCIvKiFcbiAqIHNtb290aC1zY3JvbGwgdjEwLjAuMDogQW5pbWF0ZSBzY3JvbGxpbmcgdG8gYW5jaG9yIGxpbmtzXG4gKiAoYykgMjAxNiBDaHJpcyBGZXJkaW5hbmRpXG4gKiBNSVQgTGljZW5zZVxuICogaHR0cDovL2dpdGh1Yi5jb20vY2ZlcmRpbmFuZGkvc21vb3RoLXNjcm9sbFxuICovXG5cbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuXHRpZiAoIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCApIHtcblx0XHRkZWZpbmUoW10sIGZhY3Rvcnkocm9vdCkpO1xuXHR9IGVsc2UgaWYgKCB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgKSB7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJvb3QpO1xuXHR9IGVsc2Uge1xuXHRcdHJvb3Quc21vb3RoU2Nyb2xsID0gZmFjdG9yeShyb290KTtcblx0fVxufSkodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiB0aGlzLndpbmRvdyB8fCB0aGlzLmdsb2JhbCwgZnVuY3Rpb24gKHJvb3QpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0Ly9cblx0Ly8gVmFyaWFibGVzXG5cdC8vXG5cblx0dmFyIHNtb290aFNjcm9sbCA9IHt9OyAvLyBPYmplY3QgZm9yIHB1YmxpYyBBUElzXG5cdHZhciBzdXBwb3J0cyA9ICdxdWVyeVNlbGVjdG9yJyBpbiBkb2N1bWVudCAmJiAnYWRkRXZlbnRMaXN0ZW5lcicgaW4gcm9vdDsgLy8gRmVhdHVyZSB0ZXN0XG5cdHZhciBzZXR0aW5ncywgYW5jaG9yLCB0b2dnbGUsIGZpeGVkSGVhZGVyLCBoZWFkZXJIZWlnaHQsIGV2ZW50VGltZW91dCwgYW5pbWF0aW9uSW50ZXJ2YWw7XG5cblx0Ly8gRGVmYXVsdCBzZXR0aW5nc1xuXHR2YXIgZGVmYXVsdHMgPSB7XG5cdFx0c2VsZWN0b3I6ICdbZGF0YS1zY3JvbGxdJyxcblx0XHRzZWxlY3RvckhlYWRlcjogbnVsbCxcblx0XHRzcGVlZDogNTAwLFxuXHRcdGVhc2luZzogJ2Vhc2VJbk91dEN1YmljJyxcblx0XHRvZmZzZXQ6IDAsXG5cdFx0Y2FsbGJhY2s6IGZ1bmN0aW9uICgpIHt9XG5cdH07XG5cblxuXHQvL1xuXHQvLyBNZXRob2RzXG5cdC8vXG5cblx0LyoqXG5cdCAqIE1lcmdlIHR3byBvciBtb3JlIG9iamVjdHMuIFJldHVybnMgYSBuZXcgb2JqZWN0LlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59ICBkZWVwICAgICBJZiB0cnVlLCBkbyBhIGRlZXAgKG9yIHJlY3Vyc2l2ZSkgbWVyZ2UgW29wdGlvbmFsXVxuXHQgKiBAcGFyYW0ge09iamVjdH0gICBvYmplY3RzICBUaGUgb2JqZWN0cyB0byBtZXJnZSB0b2dldGhlclxuXHQgKiBAcmV0dXJucyB7T2JqZWN0fSAgICAgICAgICBNZXJnZWQgdmFsdWVzIG9mIGRlZmF1bHRzIGFuZCBvcHRpb25zXG5cdCAqL1xuXHR2YXIgZXh0ZW5kID0gZnVuY3Rpb24gKCkge1xuXG5cdFx0Ly8gVmFyaWFibGVzXG5cdFx0dmFyIGV4dGVuZGVkID0ge307XG5cdFx0dmFyIGRlZXAgPSBmYWxzZTtcblx0XHR2YXIgaSA9IDA7XG5cdFx0dmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG5cblx0XHQvLyBDaGVjayBpZiBhIGRlZXAgbWVyZ2Vcblx0XHRpZiAoIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCggYXJndW1lbnRzWzBdICkgPT09ICdbb2JqZWN0IEJvb2xlYW5dJyApIHtcblx0XHRcdGRlZXAgPSBhcmd1bWVudHNbMF07XG5cdFx0XHRpKys7XG5cdFx0fVxuXG5cdFx0Ly8gTWVyZ2UgdGhlIG9iamVjdCBpbnRvIHRoZSBleHRlbmRlZCBvYmplY3Rcblx0XHR2YXIgbWVyZ2UgPSBmdW5jdGlvbiAob2JqKSB7XG5cdFx0XHRmb3IgKCB2YXIgcHJvcCBpbiBvYmogKSB7XG5cdFx0XHRcdGlmICggT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKCBvYmosIHByb3AgKSApIHtcblx0XHRcdFx0XHQvLyBJZiBkZWVwIG1lcmdlIGFuZCBwcm9wZXJ0eSBpcyBhbiBvYmplY3QsIG1lcmdlIHByb3BlcnRpZXNcblx0XHRcdFx0XHRpZiAoIGRlZXAgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9ialtwcm9wXSkgPT09ICdbb2JqZWN0IE9iamVjdF0nICkge1xuXHRcdFx0XHRcdFx0ZXh0ZW5kZWRbcHJvcF0gPSBleHRlbmQoIHRydWUsIGV4dGVuZGVkW3Byb3BdLCBvYmpbcHJvcF0gKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0ZXh0ZW5kZWRbcHJvcF0gPSBvYmpbcHJvcF07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdC8vIExvb3AgdGhyb3VnaCBlYWNoIG9iamVjdCBhbmQgY29uZHVjdCBhIG1lcmdlXG5cdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG5cdFx0XHR2YXIgb2JqID0gYXJndW1lbnRzW2ldO1xuXHRcdFx0bWVyZ2Uob2JqKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZXh0ZW5kZWQ7XG5cblx0fTtcblxuXHQvKipcblx0ICogR2V0IHRoZSBoZWlnaHQgb2YgYW4gZWxlbWVudC5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtICB7Tm9kZX0gZWxlbSBUaGUgZWxlbWVudCB0byBnZXQgdGhlIGhlaWdodCBvZlxuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9ICAgIFRoZSBlbGVtZW50J3MgaGVpZ2h0IGluIHBpeGVsc1xuXHQgKi9cblx0dmFyIGdldEhlaWdodCA9IGZ1bmN0aW9uICggZWxlbSApIHtcblx0XHRyZXR1cm4gTWF0aC5tYXgoIGVsZW0uc2Nyb2xsSGVpZ2h0LCBlbGVtLm9mZnNldEhlaWdodCwgZWxlbS5jbGllbnRIZWlnaHQgKTtcblx0fTtcblxuXHQvKipcblx0ICogR2V0IHRoZSBjbG9zZXN0IG1hdGNoaW5nIGVsZW1lbnQgdXAgdGhlIERPTSB0cmVlLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0gIHtFbGVtZW50fSBlbGVtICAgICBTdGFydGluZyBlbGVtZW50XG5cdCAqIEBwYXJhbSAge1N0cmluZ30gIHNlbGVjdG9yIFNlbGVjdG9yIHRvIG1hdGNoIGFnYWluc3QgKGNsYXNzLCBJRCwgZGF0YSBhdHRyaWJ1dGUsIG9yIHRhZylcblx0ICogQHJldHVybiB7Qm9vbGVhbnxFbGVtZW50fSAgUmV0dXJucyBudWxsIGlmIG5vdCBtYXRjaCBmb3VuZFxuXHQgKi9cblx0dmFyIGdldENsb3Nlc3QgPSBmdW5jdGlvbiAoIGVsZW0sIHNlbGVjdG9yICkge1xuXG5cdFx0Ly8gVmFyaWFibGVzXG5cdFx0dmFyIGZpcnN0Q2hhciA9IHNlbGVjdG9yLmNoYXJBdCgwKTtcblx0XHR2YXIgc3VwcG9ydHMgPSAnY2xhc3NMaXN0JyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cdFx0dmFyIGF0dHJpYnV0ZSwgdmFsdWU7XG5cblx0XHQvLyBJZiBzZWxlY3RvciBpcyBhIGRhdGEgYXR0cmlidXRlLCBzcGxpdCBhdHRyaWJ1dGUgZnJvbSB2YWx1ZVxuXHRcdGlmICggZmlyc3RDaGFyID09PSAnWycgKSB7XG5cdFx0XHRzZWxlY3RvciA9IHNlbGVjdG9yLnN1YnN0cigxLCBzZWxlY3Rvci5sZW5ndGggLSAyKTtcblx0XHRcdGF0dHJpYnV0ZSA9IHNlbGVjdG9yLnNwbGl0KCAnPScgKTtcblxuXHRcdFx0aWYgKCBhdHRyaWJ1dGUubGVuZ3RoID4gMSApIHtcblx0XHRcdFx0dmFsdWUgPSB0cnVlO1xuXHRcdFx0XHRhdHRyaWJ1dGVbMV0gPSBhdHRyaWJ1dGVbMV0ucmVwbGFjZSggL1wiL2csICcnICkucmVwbGFjZSggLycvZywgJycgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBHZXQgY2xvc2VzdCBtYXRjaFxuXHRcdGZvciAoIDsgZWxlbSAmJiBlbGVtICE9PSBkb2N1bWVudCAmJiBlbGVtLm5vZGVUeXBlID09PSAxOyBlbGVtID0gZWxlbS5wYXJlbnROb2RlICkge1xuXG5cdFx0XHQvLyBJZiBzZWxlY3RvciBpcyBhIGNsYXNzXG5cdFx0XHRpZiAoIGZpcnN0Q2hhciA9PT0gJy4nICkge1xuXHRcdFx0XHRpZiAoIHN1cHBvcnRzICkge1xuXHRcdFx0XHRcdGlmICggZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoIHNlbGVjdG9yLnN1YnN0cigxKSApICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGVsZW07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmICggbmV3IFJlZ0V4cCgnKF58XFxcXHMpJyArIHNlbGVjdG9yLnN1YnN0cigxKSArICcoXFxcXHN8JCknKS50ZXN0KCBlbGVtLmNsYXNzTmFtZSApICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGVsZW07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIHNlbGVjdG9yIGlzIGFuIElEXG5cdFx0XHRpZiAoIGZpcnN0Q2hhciA9PT0gJyMnICkge1xuXHRcdFx0XHRpZiAoIGVsZW0uaWQgPT09IHNlbGVjdG9yLnN1YnN0cigxKSApIHtcblx0XHRcdFx0XHRyZXR1cm4gZWxlbTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiBzZWxlY3RvciBpcyBhIGRhdGEgYXR0cmlidXRlXG5cdFx0XHRpZiAoIGZpcnN0Q2hhciA9PT0gJ1snICkge1xuXHRcdFx0XHRpZiAoIGVsZW0uaGFzQXR0cmlidXRlKCBhdHRyaWJ1dGVbMF0gKSApIHtcblx0XHRcdFx0XHRpZiAoIHZhbHVlICkge1xuXHRcdFx0XHRcdFx0aWYgKCBlbGVtLmdldEF0dHJpYnV0ZSggYXR0cmlidXRlWzBdICkgPT09IGF0dHJpYnV0ZVsxXSApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGVsZW07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHJldHVybiBlbGVtO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiBzZWxlY3RvciBpcyBhIHRhZ1xuXHRcdFx0aWYgKCBlbGVtLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gc2VsZWN0b3IgKSB7XG5cdFx0XHRcdHJldHVybiBlbGVtO1xuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIG51bGw7XG5cblx0fTtcblxuXHQvKipcblx0ICogRXNjYXBlIHNwZWNpYWwgY2hhcmFjdGVycyBmb3IgdXNlIHdpdGggcXVlcnlTZWxlY3RvclxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaWQgVGhlIGFuY2hvciBJRCB0byBlc2NhcGVcblx0ICogQGF1dGhvciBNYXRoaWFzIEJ5bmVuc1xuXHQgKiBAbGluayBodHRwczovL2dpdGh1Yi5jb20vbWF0aGlhc2J5bmVucy9DU1MuZXNjYXBlXG5cdCAqL1xuXHR2YXIgZXNjYXBlQ2hhcmFjdGVycyA9IGZ1bmN0aW9uICggaWQgKSB7XG5cblx0XHQvLyBSZW1vdmUgbGVhZGluZyBoYXNoXG5cdFx0aWYgKCBpZC5jaGFyQXQoMCkgPT09ICcjJyApIHtcblx0XHRcdGlkID0gaWQuc3Vic3RyKDEpO1xuXHRcdH1cblxuXHRcdHZhciBzdHJpbmcgPSBTdHJpbmcoaWQpO1xuXHRcdHZhciBsZW5ndGggPSBzdHJpbmcubGVuZ3RoO1xuXHRcdHZhciBpbmRleCA9IC0xO1xuXHRcdHZhciBjb2RlVW5pdDtcblx0XHR2YXIgcmVzdWx0ID0gJyc7XG5cdFx0dmFyIGZpcnN0Q29kZVVuaXQgPSBzdHJpbmcuY2hhckNvZGVBdCgwKTtcblx0XHR3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuXHRcdFx0Y29kZVVuaXQgPSBzdHJpbmcuY2hhckNvZGVBdChpbmRleCk7XG5cdFx0XHQvLyBOb3RlOiB0aGVyZeKAmXMgbm8gbmVlZCB0byBzcGVjaWFsLWNhc2UgYXN0cmFsIHN5bWJvbHMsIHN1cnJvZ2F0ZVxuXHRcdFx0Ly8gcGFpcnMsIG9yIGxvbmUgc3Vycm9nYXRlcy5cblxuXHRcdFx0Ly8gSWYgdGhlIGNoYXJhY3RlciBpcyBOVUxMIChVKzAwMDApLCB0aGVuIHRocm93IGFuXG5cdFx0XHQvLyBgSW52YWxpZENoYXJhY3RlckVycm9yYCBleGNlcHRpb24gYW5kIHRlcm1pbmF0ZSB0aGVzZSBzdGVwcy5cblx0XHRcdGlmIChjb2RlVW5pdCA9PT0gMHgwMDAwKSB7XG5cdFx0XHRcdHRocm93IG5ldyBJbnZhbGlkQ2hhcmFjdGVyRXJyb3IoXG5cdFx0XHRcdFx0J0ludmFsaWQgY2hhcmFjdGVyOiB0aGUgaW5wdXQgY29udGFpbnMgVSswMDAwLidcblx0XHRcdFx0KTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKFxuXHRcdFx0XHQvLyBJZiB0aGUgY2hhcmFjdGVyIGlzIGluIHRoZSByYW5nZSBbXFwxLVxcMUZdIChVKzAwMDEgdG8gVSswMDFGKSBvciBpc1xuXHRcdFx0XHQvLyBVKzAwN0YsIFvigKZdXG5cdFx0XHRcdChjb2RlVW5pdCA+PSAweDAwMDEgJiYgY29kZVVuaXQgPD0gMHgwMDFGKSB8fCBjb2RlVW5pdCA9PSAweDAwN0YgfHxcblx0XHRcdFx0Ly8gSWYgdGhlIGNoYXJhY3RlciBpcyB0aGUgZmlyc3QgY2hhcmFjdGVyIGFuZCBpcyBpbiB0aGUgcmFuZ2UgWzAtOV1cblx0XHRcdFx0Ly8gKFUrMDAzMCB0byBVKzAwMzkpLCBb4oCmXVxuXHRcdFx0XHQoaW5kZXggPT09IDAgJiYgY29kZVVuaXQgPj0gMHgwMDMwICYmIGNvZGVVbml0IDw9IDB4MDAzOSkgfHxcblx0XHRcdFx0Ly8gSWYgdGhlIGNoYXJhY3RlciBpcyB0aGUgc2Vjb25kIGNoYXJhY3RlciBhbmQgaXMgaW4gdGhlIHJhbmdlIFswLTldXG5cdFx0XHRcdC8vIChVKzAwMzAgdG8gVSswMDM5KSBhbmQgdGhlIGZpcnN0IGNoYXJhY3RlciBpcyBhIGAtYCAoVSswMDJEKSwgW+KApl1cblx0XHRcdFx0KFxuXHRcdFx0XHRcdGluZGV4ID09PSAxICYmXG5cdFx0XHRcdFx0Y29kZVVuaXQgPj0gMHgwMDMwICYmIGNvZGVVbml0IDw9IDB4MDAzOSAmJlxuXHRcdFx0XHRcdGZpcnN0Q29kZVVuaXQgPT09IDB4MDAyRFxuXHRcdFx0XHQpXG5cdFx0XHQpIHtcblx0XHRcdFx0Ly8gaHR0cDovL2Rldi53My5vcmcvY3Nzd2cvY3Nzb20vI2VzY2FwZS1hLWNoYXJhY3Rlci1hcy1jb2RlLXBvaW50XG5cdFx0XHRcdHJlc3VsdCArPSAnXFxcXCcgKyBjb2RlVW5pdC50b1N0cmluZygxNikgKyAnICc7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiB0aGUgY2hhcmFjdGVyIGlzIG5vdCBoYW5kbGVkIGJ5IG9uZSBvZiB0aGUgYWJvdmUgcnVsZXMgYW5kIGlzXG5cdFx0XHQvLyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gVSswMDgwLCBpcyBgLWAgKFUrMDAyRCkgb3IgYF9gIChVKzAwNUYpLCBvclxuXHRcdFx0Ly8gaXMgaW4gb25lIG9mIHRoZSByYW5nZXMgWzAtOV0gKFUrMDAzMCB0byBVKzAwMzkpLCBbQS1aXSAoVSswMDQxIHRvXG5cdFx0XHQvLyBVKzAwNUEpLCBvciBbYS16XSAoVSswMDYxIHRvIFUrMDA3QSksIFvigKZdXG5cdFx0XHRpZiAoXG5cdFx0XHRcdGNvZGVVbml0ID49IDB4MDA4MCB8fFxuXHRcdFx0XHRjb2RlVW5pdCA9PT0gMHgwMDJEIHx8XG5cdFx0XHRcdGNvZGVVbml0ID09PSAweDAwNUYgfHxcblx0XHRcdFx0Y29kZVVuaXQgPj0gMHgwMDMwICYmIGNvZGVVbml0IDw9IDB4MDAzOSB8fFxuXHRcdFx0XHRjb2RlVW5pdCA+PSAweDAwNDEgJiYgY29kZVVuaXQgPD0gMHgwMDVBIHx8XG5cdFx0XHRcdGNvZGVVbml0ID49IDB4MDA2MSAmJiBjb2RlVW5pdCA8PSAweDAwN0Fcblx0XHRcdCkge1xuXHRcdFx0XHQvLyB0aGUgY2hhcmFjdGVyIGl0c2VsZlxuXHRcdFx0XHRyZXN1bHQgKz0gc3RyaW5nLmNoYXJBdChpbmRleCk7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBPdGhlcndpc2UsIHRoZSBlc2NhcGVkIGNoYXJhY3Rlci5cblx0XHRcdC8vIGh0dHA6Ly9kZXYudzMub3JnL2Nzc3dnL2Nzc29tLyNlc2NhcGUtYS1jaGFyYWN0ZXJcblx0XHRcdHJlc3VsdCArPSAnXFxcXCcgKyBzdHJpbmcuY2hhckF0KGluZGV4KTtcblxuXHRcdH1cblxuXHRcdHJldHVybiAnIycgKyByZXN1bHQ7XG5cblx0fTtcblxuXHQvKipcblx0ICogQ2FsY3VsYXRlIHRoZSBlYXNpbmcgcGF0dGVyblxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAbGluayBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9ncmUvMTY1MDI5NFxuXHQgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBFYXNpbmcgcGF0dGVyblxuXHQgKiBAcGFyYW0ge051bWJlcn0gdGltZSBUaW1lIGFuaW1hdGlvbiBzaG91bGQgdGFrZSB0byBjb21wbGV0ZVxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfVxuXHQgKi9cblx0dmFyIGVhc2luZ1BhdHRlcm4gPSBmdW5jdGlvbiAoIHR5cGUsIHRpbWUgKSB7XG5cdFx0dmFyIHBhdHRlcm47XG5cdFx0aWYgKCB0eXBlID09PSAnZWFzZUluUXVhZCcgKSBwYXR0ZXJuID0gdGltZSAqIHRpbWU7IC8vIGFjY2VsZXJhdGluZyBmcm9tIHplcm8gdmVsb2NpdHlcblx0XHRpZiAoIHR5cGUgPT09ICdlYXNlT3V0UXVhZCcgKSBwYXR0ZXJuID0gdGltZSAqICgyIC0gdGltZSk7IC8vIGRlY2VsZXJhdGluZyB0byB6ZXJvIHZlbG9jaXR5XG5cdFx0aWYgKCB0eXBlID09PSAnZWFzZUluT3V0UXVhZCcgKSBwYXR0ZXJuID0gdGltZSA8IDAuNSA/IDIgKiB0aW1lICogdGltZSA6IC0xICsgKDQgLSAyICogdGltZSkgKiB0aW1lOyAvLyBhY2NlbGVyYXRpb24gdW50aWwgaGFsZndheSwgdGhlbiBkZWNlbGVyYXRpb25cblx0XHRpZiAoIHR5cGUgPT09ICdlYXNlSW5DdWJpYycgKSBwYXR0ZXJuID0gdGltZSAqIHRpbWUgKiB0aW1lOyAvLyBhY2NlbGVyYXRpbmcgZnJvbSB6ZXJvIHZlbG9jaXR5XG5cdFx0aWYgKCB0eXBlID09PSAnZWFzZU91dEN1YmljJyApIHBhdHRlcm4gPSAoLS10aW1lKSAqIHRpbWUgKiB0aW1lICsgMTsgLy8gZGVjZWxlcmF0aW5nIHRvIHplcm8gdmVsb2NpdHlcblx0XHRpZiAoIHR5cGUgPT09ICdlYXNlSW5PdXRDdWJpYycgKSBwYXR0ZXJuID0gdGltZSA8IDAuNSA/IDQgKiB0aW1lICogdGltZSAqIHRpbWUgOiAodGltZSAtIDEpICogKDIgKiB0aW1lIC0gMikgKiAoMiAqIHRpbWUgLSAyKSArIDE7IC8vIGFjY2VsZXJhdGlvbiB1bnRpbCBoYWxmd2F5LCB0aGVuIGRlY2VsZXJhdGlvblxuXHRcdGlmICggdHlwZSA9PT0gJ2Vhc2VJblF1YXJ0JyApIHBhdHRlcm4gPSB0aW1lICogdGltZSAqIHRpbWUgKiB0aW1lOyAvLyBhY2NlbGVyYXRpbmcgZnJvbSB6ZXJvIHZlbG9jaXR5XG5cdFx0aWYgKCB0eXBlID09PSAnZWFzZU91dFF1YXJ0JyApIHBhdHRlcm4gPSAxIC0gKC0tdGltZSkgKiB0aW1lICogdGltZSAqIHRpbWU7IC8vIGRlY2VsZXJhdGluZyB0byB6ZXJvIHZlbG9jaXR5XG5cdFx0aWYgKCB0eXBlID09PSAnZWFzZUluT3V0UXVhcnQnICkgcGF0dGVybiA9IHRpbWUgPCAwLjUgPyA4ICogdGltZSAqIHRpbWUgKiB0aW1lICogdGltZSA6IDEgLSA4ICogKC0tdGltZSkgKiB0aW1lICogdGltZSAqIHRpbWU7IC8vIGFjY2VsZXJhdGlvbiB1bnRpbCBoYWxmd2F5LCB0aGVuIGRlY2VsZXJhdGlvblxuXHRcdGlmICggdHlwZSA9PT0gJ2Vhc2VJblF1aW50JyApIHBhdHRlcm4gPSB0aW1lICogdGltZSAqIHRpbWUgKiB0aW1lICogdGltZTsgLy8gYWNjZWxlcmF0aW5nIGZyb20gemVybyB2ZWxvY2l0eVxuXHRcdGlmICggdHlwZSA9PT0gJ2Vhc2VPdXRRdWludCcgKSBwYXR0ZXJuID0gMSArICgtLXRpbWUpICogdGltZSAqIHRpbWUgKiB0aW1lICogdGltZTsgLy8gZGVjZWxlcmF0aW5nIHRvIHplcm8gdmVsb2NpdHlcblx0XHRpZiAoIHR5cGUgPT09ICdlYXNlSW5PdXRRdWludCcgKSBwYXR0ZXJuID0gdGltZSA8IDAuNSA/IDE2ICogdGltZSAqIHRpbWUgKiB0aW1lICogdGltZSAqIHRpbWUgOiAxICsgMTYgKiAoLS10aW1lKSAqIHRpbWUgKiB0aW1lICogdGltZSAqIHRpbWU7IC8vIGFjY2VsZXJhdGlvbiB1bnRpbCBoYWxmd2F5LCB0aGVuIGRlY2VsZXJhdGlvblxuXHRcdHJldHVybiBwYXR0ZXJuIHx8IHRpbWU7IC8vIG5vIGVhc2luZywgbm8gYWNjZWxlcmF0aW9uXG5cdH07XG5cblx0LyoqXG5cdCAqIENhbGN1bGF0ZSBob3cgZmFyIHRvIHNjcm9sbFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge0VsZW1lbnR9IGFuY2hvciBUaGUgYW5jaG9yIGVsZW1lbnQgdG8gc2Nyb2xsIHRvXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBoZWFkZXJIZWlnaHQgSGVpZ2h0IG9mIGEgZml4ZWQgaGVhZGVyLCBpZiBhbnlcblx0ICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldCBOdW1iZXIgb2YgcGl4ZWxzIGJ5IHdoaWNoIHRvIG9mZnNldCBzY3JvbGxcblx0ICogQHJldHVybnMge051bWJlcn1cblx0ICovXG5cdHZhciBnZXRFbmRMb2NhdGlvbiA9IGZ1bmN0aW9uICggYW5jaG9yLCBoZWFkZXJIZWlnaHQsIG9mZnNldCApIHtcblx0XHR2YXIgbG9jYXRpb24gPSAwO1xuXHRcdGlmIChhbmNob3Iub2Zmc2V0UGFyZW50KSB7XG5cdFx0XHRkbyB7XG5cdFx0XHRcdGxvY2F0aW9uICs9IGFuY2hvci5vZmZzZXRUb3A7XG5cdFx0XHRcdGFuY2hvciA9IGFuY2hvci5vZmZzZXRQYXJlbnQ7XG5cdFx0XHR9IHdoaWxlIChhbmNob3IpO1xuXHRcdH1cblx0XHRsb2NhdGlvbiA9IE1hdGgubWF4KGxvY2F0aW9uIC0gaGVhZGVySGVpZ2h0IC0gb2Zmc2V0LCAwKTtcblx0XHRyZXR1cm4gTWF0aC5taW4obG9jYXRpb24sIGdldERvY3VtZW50SGVpZ2h0KCkgLSBnZXRWaWV3cG9ydEhlaWdodCgpKTtcblx0fTtcblxuXHQvKipcblx0ICogRGV0ZXJtaW5lIHRoZSB2aWV3cG9ydCdzIGhlaWdodFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfVxuXHQgKi9cblx0dmFyIGdldFZpZXdwb3J0SGVpZ2h0ID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIE1hdGgubWF4KCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0LCByb290LmlubmVySGVpZ2h0IHx8IDAgKTtcblx0fTtcblxuXHQvKipcblx0ICogRGV0ZXJtaW5lIHRoZSBkb2N1bWVudCdzIGhlaWdodFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfVxuXHQgKi9cblx0dmFyIGdldERvY3VtZW50SGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiBNYXRoLm1heChcblx0XHRcdGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0LCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0LFxuXHRcdFx0ZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQsIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vZmZzZXRIZWlnaHQsXG5cdFx0XHRkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodFxuXHRcdCk7XG5cdH07XG5cblx0LyoqXG5cdCAqIENvbnZlcnQgZGF0YS1vcHRpb25zIGF0dHJpYnV0ZSBpbnRvIGFuIG9iamVjdCBvZiBrZXkvdmFsdWUgcGFpcnNcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IG9wdGlvbnMgTGluay1zcGVjaWZpYyBvcHRpb25zIGFzIGEgZGF0YSBhdHRyaWJ1dGUgc3RyaW5nXG5cdCAqIEByZXR1cm5zIHtPYmplY3R9XG5cdCAqL1xuXHR2YXIgZ2V0RGF0YU9wdGlvbnMgPSBmdW5jdGlvbiAoIG9wdGlvbnMgKSB7XG5cdFx0cmV0dXJuICFvcHRpb25zIHx8ICEodHlwZW9mIEpTT04gPT09ICdvYmplY3QnICYmIHR5cGVvZiBKU09OLnBhcnNlID09PSAnZnVuY3Rpb24nKSA/IHt9IDogSlNPTi5wYXJzZSggb3B0aW9ucyApO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBHZXQgdGhlIGhlaWdodCBvZiB0aGUgZml4ZWQgaGVhZGVyXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSAge05vZGV9ICAgaGVhZGVyIFRoZSBoZWFkZXJcblx0ICogQHJldHVybiB7TnVtYmVyfSAgICAgICAgVGhlIGhlaWdodCBvZiB0aGUgaGVhZGVyXG5cdCAqL1xuXHR2YXIgZ2V0SGVhZGVySGVpZ2h0ID0gZnVuY3Rpb24gKCBoZWFkZXIgKSB7XG5cdFx0cmV0dXJuIGhlYWRlciA9PT0gbnVsbCA/IDAgOiAoIGdldEhlaWdodCggaGVhZGVyICkgKyBoZWFkZXIub2Zmc2V0VG9wICk7XG5cdH07XG5cblx0LyoqXG5cdCAqIEJyaW5nIHRoZSBhbmNob3JlZCBlbGVtZW50IGludG8gZm9jdXNcblx0ICogQHByaXZhdGVcblx0ICovXG5cdHZhciBhZGp1c3RGb2N1cyA9IGZ1bmN0aW9uICggYW5jaG9yLCBlbmRMb2NhdGlvbiwgaXNOdW0gKSB7XG5cblx0XHQvLyBEb24ndCBydW4gaWYgc2Nyb2xsaW5nIHRvIGEgbnVtYmVyIG9uIHRoZSBwYWdlXG5cdFx0aWYgKCBpc051bSApIHJldHVybjtcblxuXHRcdC8vIE90aGVyd2lzZSwgYnJpbmcgYW5jaG9yIGVsZW1lbnQgaW50byBmb2N1c1xuXHRcdGFuY2hvci5mb2N1cygpO1xuXHRcdGlmICggZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5pZCAhPT0gYW5jaG9yLmlkICkge1xuXHRcdFx0YW5jaG9yLnNldEF0dHJpYnV0ZSggJ3RhYmluZGV4JywgJy0xJyApO1xuXHRcdFx0YW5jaG9yLmZvY3VzKCk7XG5cdFx0XHRhbmNob3Iuc3R5bGUub3V0bGluZSA9ICdub25lJztcblx0XHR9XG5cdFx0cm9vdC5zY3JvbGxUbyggMCAsIGVuZExvY2F0aW9uICk7XG5cblx0fTtcblxuXHQvKipcblx0ICogU3RhcnQvc3RvcCB0aGUgc2Nyb2xsaW5nIGFuaW1hdGlvblxuXHQgKiBAcHVibGljXG5cdCAqIEBwYXJhbSB7Tm9kZXxOdW1iZXJ9IGFuY2hvciAgVGhlIGVsZW1lbnQgb3IgcG9zaXRpb24gdG8gc2Nyb2xsIHRvXG5cdCAqIEBwYXJhbSB7RWxlbWVudH0gICAgIHRvZ2dsZSAgVGhlIGVsZW1lbnQgdGhhdCB0b2dnbGVkIHRoZSBzY3JvbGwgZXZlbnRcblx0ICogQHBhcmFtIHtPYmplY3R9ICAgICAgb3B0aW9uc1xuXHQgKi9cblx0c21vb3RoU2Nyb2xsLmFuaW1hdGVTY3JvbGwgPSBmdW5jdGlvbiAoIGFuY2hvciwgdG9nZ2xlLCBvcHRpb25zICkge1xuXG5cdFx0Ly8gT3B0aW9ucyBhbmQgb3ZlcnJpZGVzXG5cdFx0dmFyIG92ZXJyaWRlcyA9IGdldERhdGFPcHRpb25zKCB0b2dnbGUgPyB0b2dnbGUuZ2V0QXR0cmlidXRlKCdkYXRhLW9wdGlvbnMnKSA6IG51bGwgKTtcblx0XHR2YXIgYW5pbWF0ZVNldHRpbmdzID0gZXh0ZW5kKCBzZXR0aW5ncyB8fCBkZWZhdWx0cywgb3B0aW9ucyB8fCB7fSwgb3ZlcnJpZGVzICk7IC8vIE1lcmdlIHVzZXIgb3B0aW9ucyB3aXRoIGRlZmF1bHRzXG5cblx0XHQvLyBTZWxlY3RvcnMgYW5kIHZhcmlhYmxlc1xuXHRcdHZhciBpc051bSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCggYW5jaG9yICkgPT09ICdbb2JqZWN0IE51bWJlcl0nID8gdHJ1ZSA6IGZhbHNlO1xuXHRcdHZhciBhbmNob3JFbGVtID0gaXNOdW0gfHwgIWFuY2hvci50YWdOYW1lID8gbnVsbCA6IGFuY2hvcjtcblx0XHRpZiAoICFpc051bSAmJiAhYW5jaG9yRWxlbSApIHJldHVybjtcblx0XHR2YXIgc3RhcnRMb2NhdGlvbiA9IHJvb3QucGFnZVlPZmZzZXQ7IC8vIEN1cnJlbnQgbG9jYXRpb24gb24gdGhlIHBhZ2Vcblx0XHRpZiAoIGFuaW1hdGVTZXR0aW5ncy5zZWxlY3RvckhlYWRlciAmJiAhZml4ZWRIZWFkZXIgKSB7XG5cdFx0XHQvLyBHZXQgdGhlIGZpeGVkIGhlYWRlciBpZiBub3QgYWxyZWFkeSBzZXRcblx0XHRcdGZpeGVkSGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciggYW5pbWF0ZVNldHRpbmdzLnNlbGVjdG9ySGVhZGVyICk7XG5cdFx0fVxuXHRcdGlmICggIWhlYWRlckhlaWdodCApIHtcblx0XHRcdC8vIEdldCB0aGUgaGVpZ2h0IG9mIGEgZml4ZWQgaGVhZGVyIGlmIG9uZSBleGlzdHMgYW5kIG5vdCBhbHJlYWR5IHNldFxuXHRcdFx0aGVhZGVySGVpZ2h0ID0gZ2V0SGVhZGVySGVpZ2h0KCBmaXhlZEhlYWRlciApO1xuXHRcdH1cblx0XHR2YXIgZW5kTG9jYXRpb24gPSBpc051bSA/IGFuY2hvciA6IGdldEVuZExvY2F0aW9uKCBhbmNob3JFbGVtLCBoZWFkZXJIZWlnaHQsIHBhcnNlSW50KGFuaW1hdGVTZXR0aW5ncy5vZmZzZXQsIDEwKSApOyAvLyBMb2NhdGlvbiB0byBzY3JvbGwgdG9cblx0XHR2YXIgZGlzdGFuY2UgPSBlbmRMb2NhdGlvbiAtIHN0YXJ0TG9jYXRpb247IC8vIGRpc3RhbmNlIHRvIHRyYXZlbFxuXHRcdHZhciBkb2N1bWVudEhlaWdodCA9IGdldERvY3VtZW50SGVpZ2h0KCk7XG5cdFx0dmFyIHRpbWVMYXBzZWQgPSAwO1xuXHRcdHZhciBwZXJjZW50YWdlLCBwb3NpdGlvbjtcblxuXHRcdC8qKlxuXHRcdCAqIFN0b3AgdGhlIHNjcm9sbCBhbmltYXRpb24gd2hlbiBpdCByZWFjaGVzIGl0cyB0YXJnZXQgKG9yIHRoZSBib3R0b20vdG9wIG9mIHBhZ2UpXG5cdFx0ICogQHByaXZhdGVcblx0XHQgKiBAcGFyYW0ge051bWJlcn0gcG9zaXRpb24gQ3VycmVudCBwb3NpdGlvbiBvbiB0aGUgcGFnZVxuXHRcdCAqIEBwYXJhbSB7TnVtYmVyfSBlbmRMb2NhdGlvbiBTY3JvbGwgdG8gbG9jYXRpb25cblx0XHQgKiBAcGFyYW0ge051bWJlcn0gYW5pbWF0aW9uSW50ZXJ2YWwgSG93IG11Y2ggdG8gc2Nyb2xsIG9uIHRoaXMgbG9vcFxuXHRcdCAqL1xuXHRcdHZhciBzdG9wQW5pbWF0ZVNjcm9sbCA9IGZ1bmN0aW9uICggcG9zaXRpb24sIGVuZExvY2F0aW9uLCBhbmltYXRpb25JbnRlcnZhbCApIHtcblx0XHRcdHZhciBjdXJyZW50TG9jYXRpb24gPSByb290LnBhZ2VZT2Zmc2V0O1xuXHRcdFx0aWYgKCBwb3NpdGlvbiA9PSBlbmRMb2NhdGlvbiB8fCBjdXJyZW50TG9jYXRpb24gPT0gZW5kTG9jYXRpb24gfHwgKCAocm9vdC5pbm5lckhlaWdodCArIGN1cnJlbnRMb2NhdGlvbikgPj0gZG9jdW1lbnRIZWlnaHQgKSApIHtcblxuXHRcdFx0XHQvLyBDbGVhciB0aGUgYW5pbWF0aW9uIHRpbWVyXG5cdFx0XHRcdGNsZWFySW50ZXJ2YWwoYW5pbWF0aW9uSW50ZXJ2YWwpO1xuXG5cdFx0XHRcdC8vIEJyaW5nIHRoZSBhbmNob3JlZCBlbGVtZW50IGludG8gZm9jdXNcblx0XHRcdFx0YWRqdXN0Rm9jdXMoIGFuY2hvciwgZW5kTG9jYXRpb24sIGlzTnVtICk7XG5cblx0XHRcdFx0Ly8gUnVuIGNhbGxiYWNrIGFmdGVyIGFuaW1hdGlvbiBjb21wbGV0ZVxuXHRcdFx0XHRhbmltYXRlU2V0dGluZ3MuY2FsbGJhY2soIGFuY2hvciwgdG9nZ2xlICk7XG5cblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogTG9vcCBzY3JvbGxpbmcgYW5pbWF0aW9uXG5cdFx0ICogQHByaXZhdGVcblx0XHQgKi9cblx0XHR2YXIgbG9vcEFuaW1hdGVTY3JvbGwgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHR0aW1lTGFwc2VkICs9IDE2O1xuXHRcdFx0cGVyY2VudGFnZSA9ICggdGltZUxhcHNlZCAvIHBhcnNlSW50KGFuaW1hdGVTZXR0aW5ncy5zcGVlZCwgMTApICk7XG5cdFx0XHRwZXJjZW50YWdlID0gKCBwZXJjZW50YWdlID4gMSApID8gMSA6IHBlcmNlbnRhZ2U7XG5cdFx0XHRwb3NpdGlvbiA9IHN0YXJ0TG9jYXRpb24gKyAoIGRpc3RhbmNlICogZWFzaW5nUGF0dGVybihhbmltYXRlU2V0dGluZ3MuZWFzaW5nLCBwZXJjZW50YWdlKSApO1xuXHRcdFx0cm9vdC5zY3JvbGxUbyggMCwgTWF0aC5mbG9vcihwb3NpdGlvbikgKTtcblx0XHRcdHN0b3BBbmltYXRlU2Nyb2xsKHBvc2l0aW9uLCBlbmRMb2NhdGlvbiwgYW5pbWF0aW9uSW50ZXJ2YWwpO1xuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBTZXQgaW50ZXJ2YWwgdGltZXJcblx0XHQgKiBAcHJpdmF0ZVxuXHRcdCAqL1xuXHRcdHZhciBzdGFydEFuaW1hdGVTY3JvbGwgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRjbGVhckludGVydmFsKGFuaW1hdGlvbkludGVydmFsKTtcblx0XHRcdGFuaW1hdGlvbkludGVydmFsID0gc2V0SW50ZXJ2YWwobG9vcEFuaW1hdGVTY3JvbGwsIDE2KTtcblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogUmVzZXQgcG9zaXRpb24gdG8gZml4IHdlaXJkIGlPUyBidWdcblx0XHQgKiBAbGluayBodHRwczovL2dpdGh1Yi5jb20vY2ZlcmRpbmFuZGkvc21vb3RoLXNjcm9sbC9pc3N1ZXMvNDVcblx0XHQgKi9cblx0XHRpZiAoIHJvb3QucGFnZVlPZmZzZXQgPT09IDAgKSB7XG5cdFx0XHRyb290LnNjcm9sbFRvKCAwLCAwICk7XG5cdFx0fVxuXG5cdFx0Ly8gU3RhcnQgc2Nyb2xsaW5nIGFuaW1hdGlvblxuXHRcdHN0YXJ0QW5pbWF0ZVNjcm9sbCgpO1xuXG5cdH07XG5cblx0LyoqXG5cdCAqIEhhbmRsZSBoYXMgY2hhbmdlIGV2ZW50XG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHR2YXIgaGFzaENoYW5nZUhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblxuXHRcdC8vIEdldCBoYXNoIGZyb20gVVJMXG5cdFx0dmFyIGhhc2ggPSByb290LmxvY2F0aW9uLmhhc2g7XG5cblx0XHQvLyBPbmx5IHJ1biBpZiB0aGVyZSdzIGFuIGFuY2hvciBlbGVtZW50IHRvIHNjcm9sbCB0b1xuXHRcdGlmICggIWFuY2hvciApIHJldHVybjtcblxuXHRcdC8vIFJlc2V0IHRoZSBhbmNob3IgZWxlbWVudCdzIElEXG5cdFx0YW5jaG9yLmlkID0gYW5jaG9yLmdldEF0dHJpYnV0ZSggJ2RhdGEtc2Nyb2xsLWlkJyApO1xuXG5cdFx0Ly8gU2Nyb2xsIHRvIHRoZSBhbmNob3JlZCBjb250ZW50XG5cdFx0c21vb3RoU2Nyb2xsLmFuaW1hdGVTY3JvbGwoIGFuY2hvciwgdG9nZ2xlICk7XG5cblx0XHQvLyBSZXNldCBhbmNob3IgYW5kIHRvZ2dsZVxuXHRcdGFuY2hvciA9IG51bGw7XG5cdFx0dG9nZ2xlID0gbnVsbDtcblxuXHR9O1xuXG5cdC8qKlxuXHQgKiBJZiBzbW9vdGggc2Nyb2xsIGVsZW1lbnQgY2xpY2tlZCwgYW5pbWF0ZSBzY3JvbGxcblx0ICogQHByaXZhdGVcblx0ICovXG5cdHZhciBjbGlja0hhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblxuXHRcdC8vIERvbid0IHJ1biBpZiByaWdodC1jbGljayBvciBjb21tYW5kL2NvbnRyb2wgKyBjbGlja1xuXHRcdGlmICggZXZlbnQuYnV0dG9uICE9PSAwIHx8IGV2ZW50Lm1ldGFLZXkgfHwgZXZlbnQuY3RybEtleSApIHJldHVybjtcblxuXHRcdC8vIENoZWNrIGlmIGEgc21vb3RoIHNjcm9sbCBsaW5rIHdhcyBjbGlja2VkXG5cdFx0dG9nZ2xlID0gZ2V0Q2xvc2VzdCggZXZlbnQudGFyZ2V0LCBzZXR0aW5ncy5zZWxlY3RvciApO1xuXHRcdGlmICggIXRvZ2dsZSB8fCB0b2dnbGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpICE9PSAnYScgKSByZXR1cm47XG5cblx0XHQvLyBPbmx5IHJ1biBpZiBsaW5rIGlzIGFuIGFuY2hvciBhbmQgcG9pbnRzIHRvIHRoZSBjdXJyZW50IHBhZ2Vcblx0XHRpZiAoIHRvZ2dsZS5ob3N0bmFtZSAhPT0gcm9vdC5sb2NhdGlvbi5ob3N0bmFtZSB8fCB0b2dnbGUucGF0aG5hbWUgIT09IHJvb3QubG9jYXRpb24ucGF0aG5hbWUgfHwgIS8jLy50ZXN0KHRvZ2dsZS5ocmVmKSApIHJldHVybjtcblxuXHRcdC8vIEdldCB0aGUgc2FuaXRpemVkIGhhc2hcblx0XHR2YXIgaGFzaCA9IGVzY2FwZUNoYXJhY3RlcnMoIHRvZ2dsZS5oYXNoICk7XG5cblx0XHQvLyBJZiB0aGUgaGFzaCBpcyBlbXB0eSwgc2Nyb2xsIHRvIHRoZSB0b3Agb2YgdGhlIHBhZ2Vcblx0XHRpZiAoIGhhc2ggPT09ICcjJyApIHtcblxuXHRcdFx0Ly8gUHJldmVudCBkZWZhdWx0IGxpbmsgYmVoYXZpb3Jcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdC8vIFNldCB0aGUgYW5jaG9yZWQgZWxlbWVudFxuXHRcdFx0YW5jaG9yID0gZG9jdW1lbnQuYm9keTtcblxuXHRcdFx0Ly8gU2F2ZSBvciBjcmVhdGUgdGhlIElEIGFzIGEgZGF0YSBhdHRyaWJ1dGUgYW5kIHJlbW92ZSBpdCAocHJldmVudHMgc2Nyb2xsIGp1bXApXG5cdFx0XHR2YXIgaWQgPSBhbmNob3IuaWQgPyBhbmNob3IuaWQgOiAnc21vb3RoLXNjcm9sbC10b3AnO1xuXHRcdFx0YW5jaG9yLnNldEF0dHJpYnV0ZSggJ2RhdGEtc2Nyb2xsLWlkJywgaWQgKTtcblx0XHRcdGFuY2hvci5pZCA9ICcnO1xuXG5cdFx0XHQvLyBJZiBubyBoYXNoIGNoYW5nZSBldmVudCB3aWxsIGhhcHBlbiwgZmlyZSBtYW51YWxseVxuXHRcdFx0Ly8gT3RoZXJ3aXNlLCB1cGRhdGUgdGhlIGhhc2hcblx0XHRcdGlmICggcm9vdC5sb2NhdGlvbi5oYXNoLnN1YnN0cmluZygxKSA9PT0gaWQgKSB7XG5cdFx0XHRcdGhhc2hDaGFuZ2VIYW5kbGVyKCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyb290LmxvY2F0aW9uLmhhc2ggPSBpZDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuO1xuXG5cdFx0fVxuXG5cdFx0Ly8gR2V0IHRoZSBhbmNob3JlZCBlbGVtZW50XG5cdFx0YW5jaG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciggaGFzaCApO1xuXG5cdFx0Ly8gSWYgYW5jaG9yZWQgZWxlbWVudCBleGlzdHMsIHNhdmUgdGhlIElEIGFzIGEgZGF0YSBhdHRyaWJ1dGUgYW5kIHJlbW92ZSBpdCAocHJldmVudHMgc2Nyb2xsIGp1bXApXG5cdFx0aWYgKCAhYW5jaG9yICkgcmV0dXJuO1xuXHRcdGFuY2hvci5zZXRBdHRyaWJ1dGUoICdkYXRhLXNjcm9sbC1pZCcsIGFuY2hvci5pZCApO1xuXHRcdGFuY2hvci5pZCA9ICcnO1xuXG5cdFx0Ly8gSWYgbm8gaGFzaCBjaGFuZ2UgZXZlbnQgd2lsbCBoYXBwZW4sIGZpcmUgbWFudWFsbHlcblx0XHRpZiAoIHRvZ2dsZS5oYXNoID09PSByb290LmxvY2F0aW9uLmhhc2ggKSB7XG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0aGFzaENoYW5nZUhhbmRsZXIoKTtcblx0XHR9XG5cblx0fTtcblxuXHQvKipcblx0ICogT24gd2luZG93IHNjcm9sbCBhbmQgcmVzaXplLCBvbmx5IHJ1biBldmVudHMgYXQgYSByYXRlIG9mIDE1ZnBzIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2Vcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtICB7RnVuY3Rpb259IGV2ZW50VGltZW91dCBUaW1lb3V0IGZ1bmN0aW9uXG5cdCAqIEBwYXJhbSAge09iamVjdH0gc2V0dGluZ3Ncblx0ICovXG5cdHZhciByZXNpemVUaHJvdHRsZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHRpZiAoICFldmVudFRpbWVvdXQgKSB7XG5cdFx0XHRldmVudFRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRldmVudFRpbWVvdXQgPSBudWxsOyAvLyBSZXNldCB0aW1lb3V0XG5cdFx0XHRcdGhlYWRlckhlaWdodCA9IGdldEhlYWRlckhlaWdodCggZml4ZWRIZWFkZXIgKTsgLy8gR2V0IHRoZSBoZWlnaHQgb2YgYSBmaXhlZCBoZWFkZXIgaWYgb25lIGV4aXN0c1xuXHRcdFx0fSwgNjYpO1xuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogRGVzdHJveSB0aGUgY3VycmVudCBpbml0aWFsaXphdGlvbi5cblx0ICogQHB1YmxpY1xuXHQgKi9cblx0c21vb3RoU2Nyb2xsLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG5cblx0XHQvLyBJZiBwbHVnaW4gaXNuJ3QgYWxyZWFkeSBpbml0aWFsaXplZCwgc3RvcFxuXHRcdGlmICggIXNldHRpbmdzICkgcmV0dXJuO1xuXG5cdFx0Ly8gUmVtb3ZlIGV2ZW50IGxpc3RlbmVyc1xuXHRcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoICdjbGljaycsIGNsaWNrSGFuZGxlciwgZmFsc2UgKTtcblx0XHRyb290LnJlbW92ZUV2ZW50TGlzdGVuZXIoICdyZXNpemUnLCByZXNpemVUaHJvdHRsZXIsIGZhbHNlICk7XG5cblx0XHQvLyBSZXNldCB2YXJhaWJsZXNcblx0XHRzZXR0aW5ncyA9IG51bGw7XG5cdFx0YW5jaG9yID0gbnVsbDtcblx0XHR0b2dnbGUgPSBudWxsO1xuXHRcdGZpeGVkSGVhZGVyID0gbnVsbDtcblx0XHRoZWFkZXJIZWlnaHQgPSBudWxsO1xuXHRcdGV2ZW50VGltZW91dCA9IG51bGw7XG5cdFx0YW5pbWF0aW9uSW50ZXJ2YWwgPSBudWxsO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBJbml0aWFsaXplIFNtb290aCBTY3JvbGxcblx0ICogQHB1YmxpY1xuXHQgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBVc2VyIHNldHRpbmdzXG5cdCAqL1xuXHRzbW9vdGhTY3JvbGwuaW5pdCA9IGZ1bmN0aW9uICggb3B0aW9ucyApIHtcblxuXHRcdC8vIGZlYXR1cmUgdGVzdFxuXHRcdGlmICggIXN1cHBvcnRzICkgcmV0dXJuO1xuXG5cdFx0Ly8gRGVzdHJveSBhbnkgZXhpc3RpbmcgaW5pdGlhbGl6YXRpb25zXG5cdFx0c21vb3RoU2Nyb2xsLmRlc3Ryb3koKTtcblxuXHRcdC8vIFNlbGVjdG9ycyBhbmQgdmFyaWFibGVzXG5cdFx0c2V0dGluZ3MgPSBleHRlbmQoIGRlZmF1bHRzLCBvcHRpb25zIHx8IHt9ICk7IC8vIE1lcmdlIHVzZXIgb3B0aW9ucyB3aXRoIGRlZmF1bHRzXG5cdFx0Zml4ZWRIZWFkZXIgPSBzZXR0aW5ncy5zZWxlY3RvckhlYWRlciA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIHNldHRpbmdzLnNlbGVjdG9ySGVhZGVyICkgOiBudWxsOyAvLyBHZXQgdGhlIGZpeGVkIGhlYWRlclxuXHRcdGhlYWRlckhlaWdodCA9IGdldEhlYWRlckhlaWdodCggZml4ZWRIZWFkZXIgKTtcblxuXHRcdC8vIFdoZW4gYSB0b2dnbGUgaXMgY2xpY2tlZCwgcnVuIHRoZSBjbGljayBoYW5kbGVyXG5cdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ2NsaWNrJywgY2xpY2tIYW5kbGVyLCBmYWxzZSApO1xuXG5cdFx0Ly8gTGlzdGVuIGZvciBoYXNoIGNoYW5nZXNcblx0XHRyb290LmFkZEV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCBoYXNoQ2hhbmdlSGFuZGxlciwgZmFsc2UpO1xuXG5cdFx0Ly8gSWYgd2luZG93IGlzIHJlc2l6ZWQgYW5kIHRoZXJlJ3MgYSBmaXhlZCBoZWFkZXIsIHJlY2FsY3VsYXRlIGl0cyBzaXplXG5cdFx0aWYgKCBmaXhlZEhlYWRlciApIHtcblx0XHRcdHJvb3QuYWRkRXZlbnRMaXN0ZW5lciggJ3Jlc2l6ZScsIHJlc2l6ZVRocm90dGxlciwgZmFsc2UgKTtcblx0XHR9XG5cblx0fTtcblxuXG5cdC8vXG5cdC8vIFB1YmxpYyBBUElzXG5cdC8vXG5cblx0cmV0dXJuIHNtb290aFNjcm9sbDtcblxufSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
