!function(t,e,i,s){function o(e,i){this.element=e,this.options=t.extend({},r,i),this._defaults=r,this._name=n,this.init()}var n="stellar",r={scrollProperty:"scroll",positionProperty:"position",horizontalScrolling:!0,verticalScrolling:!0,horizontalOffset:0,verticalOffset:0,responsive:!1,parallaxBackgrounds:!0,parallaxElements:!0,hideDistantElements:!0,hideElement:function(t){t.hide()},showElement:function(t){t.show()}},a={scroll:{getLeft:function(t){return t.scrollLeft()},setLeft:function(t,e){t.scrollLeft(e)},getTop:function(t){return t.scrollTop()},setTop:function(t,e){t.scrollTop(e)}},position:{getLeft:function(t){return parseInt(t.css("left"),10)*-1},getTop:function(t){return parseInt(t.css("top"),10)*-1}},margin:{getLeft:function(t){return parseInt(t.css("margin-left"),10)*-1},getTop:function(t){return parseInt(t.css("margin-top"),10)*-1}},transform:{getLeft:function(t){var e=getComputedStyle(t[0])[c];return"none"!==e?parseInt(e.match(/(-?[0-9]+)/g)[4],10)*-1:0},getTop:function(t){var e=getComputedStyle(t[0])[c];return"none"!==e?parseInt(e.match(/(-?[0-9]+)/g)[5],10)*-1:0}}},l={position:{setLeft:function(t,e){t.css("left",e)},setTop:function(t,e){t.css("top",e)}},transform:{setPosition:function(t,e,i,s,o){t[0].style[c]="translate3d("+(e-i)+"px, "+(s-o)+"px, 0)"}}},f=function(){var e,i=/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,s=t("script")[0].style,o="";for(e in s)if(i.test(e)){o=e.match(i)[0];break}return"WebkitOpacity"in s&&(o="Webkit"),"KhtmlOpacity"in s&&(o="Khtml"),function(t){return o+(o.length>0?t.charAt(0).toUpperCase()+t.slice(1):t)}}(),c=f("transform"),h=t("<div />",{style:"background:#fff"}).css("background-position-x")!==s,p=h?function(t,e,i){t.css({"background-position-x":e,"background-position-y":i})}:function(t,e,i){t.css("background-position",e+" "+i)},d=h?function(t){return[t.css("background-position-x"),t.css("background-position-y")]}:function(t){return t.css("background-position").split(" ")},u=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)};o.prototype={init:function(){this.options.name=n+"_"+Math.floor(1e9*Math.random()),this._defineElements(),this._defineGetters(),this._defineSetters(),this._handleWindowLoadAndResize(),this._detectViewport(),this.refresh({firstLoad:!0}),"scroll"===this.options.scrollProperty?this._handleScrollEvent():this._startAnimationLoop()},_defineElements:function(){this.element===i.body&&(this.element=e),this.$scrollElement=t(this.element),this.$element=this.element===e?t("body"):this.$scrollElement,this.$viewportElement=this.options.viewportElement!==s?t(this.options.viewportElement):this.$scrollElement[0]===e||"scroll"===this.options.scrollProperty?this.$scrollElement:this.$scrollElement.parent()},_defineGetters:function(){var t=this,e=a[t.options.scrollProperty];this._getScrollLeft=function(){return e.getLeft(t.$scrollElement)},this._getScrollTop=function(){return e.getTop(t.$scrollElement)}},_defineSetters:function(){var e=this,i=a[e.options.scrollProperty],s=l[e.options.positionProperty],o=i.setLeft,n=i.setTop;this._setScrollLeft="function"==typeof o?function(t){o(e.$scrollElement,t)}:t.noop,this._setScrollTop="function"==typeof n?function(t){n(e.$scrollElement,t)}:t.noop,this._setPosition=s.setPosition||function(t,i,o,n,r){e.options.horizontalScrolling&&s.setLeft(t,i,o),e.options.verticalScrolling&&s.setTop(t,n,r)}},_handleWindowLoadAndResize:function(){var i=this,s=t(e);i.options.responsive&&s.bind("load."+this.name,function(){i.refresh()}),s.bind("resize."+this.name,function(){i._detectViewport(),i.options.responsive&&i.refresh()})},refresh:function(i){var s=this,o=s._getScrollLeft(),n=s._getScrollTop();i&&i.firstLoad||this._reset(),this._setScrollLeft(0),this._setScrollTop(0),this._setOffsets(),this._findParticles(),this._findBackgrounds(),i&&i.firstLoad&&/WebKit/.test(navigator.userAgent)&&t(e).load(function(){var t=s._getScrollLeft(),e=s._getScrollTop();s._setScrollLeft(t+1),s._setScrollTop(e+1),s._setScrollLeft(t),s._setScrollTop(e)}),this._setScrollLeft(o),this._setScrollTop(n)},_detectViewport:function(){var t=this.$viewportElement.offset(),e=null!==t&&t!==s;this.viewportWidth=this.$viewportElement.width(),this.viewportHeight=this.$viewportElement.height(),this.viewportOffsetTop=e?t.top:0,this.viewportOffsetLeft=e?t.left:0},_findParticles:function(){var e=this;this._getScrollLeft(),this._getScrollTop();if(this.particles!==s)for(var i=this.particles.length-1;i>=0;i--)this.particles[i].$element.data("stellar-elementIsActive",s);this.particles=[],this.options.parallaxElements&&this.$element.find("[data-stellar-ratio]").each(function(i){var o,n,r,a,l,f,c,h,p,d=t(this),u=0,g=0,m=0,v=0;if(d.data("stellar-elementIsActive")){if(d.data("stellar-elementIsActive")!==this)return}else d.data("stellar-elementIsActive",this);e.options.showElement(d),d.data("stellar-startingLeft")?(d.css("left",d.data("stellar-startingLeft")),d.css("top",d.data("stellar-startingTop"))):(d.data("stellar-startingLeft",d.css("left")),d.data("stellar-startingTop",d.css("top"))),r=d.position().left,a=d.position().top,l="auto"===d.css("margin-left")?0:parseInt(d.css("margin-left"),10),f="auto"===d.css("margin-top")?0:parseInt(d.css("margin-top"),10),h=d.offset().left-l,p=d.offset().top-f,d.parents().each(function(){var e=t(this);return e.data("stellar-offset-parent")===!0?(u=m,g=v,c=e,!1):(m+=e.position().left,void(v+=e.position().top))}),o=d.data("stellar-horizontal-offset")!==s?d.data("stellar-horizontal-offset"):c!==s&&c.data("stellar-horizontal-offset")!==s?c.data("stellar-horizontal-offset"):e.horizontalOffset,n=d.data("stellar-vertical-offset")!==s?d.data("stellar-vertical-offset"):c!==s&&c.data("stellar-vertical-offset")!==s?c.data("stellar-vertical-offset"):e.verticalOffset,e.particles.push({$element:d,$offsetParent:c,isFixed:"fixed"===d.css("position"),horizontalOffset:o,verticalOffset:n,startingPositionLeft:r,startingPositionTop:a,startingOffsetLeft:h,startingOffsetTop:p,parentOffsetLeft:u,parentOffsetTop:g,stellarRatio:d.data("stellar-ratio")!==s?d.data("stellar-ratio"):1,width:d.outerWidth(!0),height:d.outerHeight(!0),isHidden:!1})})},_findBackgrounds:function(){var e,i=this,o=this._getScrollLeft(),n=this._getScrollTop();this.backgrounds=[],this.options.parallaxBackgrounds&&(e=this.$element.find("[data-stellar-background-ratio]"),this.$element.data("stellar-background-ratio")&&(e=e.add(this.$element)),e.each(function(){var e,r,a,l,f,c,h,u=t(this),g=d(u),m=0,v=0,L=0,_=0;if(u.data("stellar-backgroundIsActive")){if(u.data("stellar-backgroundIsActive")!==this)return}else u.data("stellar-backgroundIsActive",this);u.data("stellar-backgroundStartingLeft")?p(u,u.data("stellar-backgroundStartingLeft"),u.data("stellar-backgroundStartingTop")):(u.data("stellar-backgroundStartingLeft",g[0]),u.data("stellar-backgroundStartingTop",g[1])),a="auto"===u.css("margin-left")?0:parseInt(u.css("margin-left"),10),l="auto"===u.css("margin-top")?0:parseInt(u.css("margin-top"),10),f=u.offset().left-a-o,c=u.offset().top-l-n,u.parents().each(function(){var e=t(this);return e.data("stellar-offset-parent")===!0?(m=L,v=_,h=e,!1):(L+=e.position().left,void(_+=e.position().top))}),e=u.data("stellar-horizontal-offset")!==s?u.data("stellar-horizontal-offset"):h!==s&&h.data("stellar-horizontal-offset")!==s?h.data("stellar-horizontal-offset"):i.horizontalOffset,r=u.data("stellar-vertical-offset")!==s?u.data("stellar-vertical-offset"):h!==s&&h.data("stellar-vertical-offset")!==s?h.data("stellar-vertical-offset"):i.verticalOffset,i.backgrounds.push({$element:u,$offsetParent:h,isFixed:"fixed"===u.css("background-attachment"),horizontalOffset:e,verticalOffset:r,startingValueLeft:g[0],startingValueTop:g[1],startingBackgroundPositionLeft:isNaN(parseInt(g[0],10))?0:parseInt(g[0],10),startingBackgroundPositionTop:isNaN(parseInt(g[1],10))?0:parseInt(g[1],10),startingPositionLeft:u.position().left,startingPositionTop:u.position().top,startingOffsetLeft:f,startingOffsetTop:c,parentOffsetLeft:m,parentOffsetTop:v,stellarRatio:u.data("stellar-background-ratio")===s?1:u.data("stellar-background-ratio")})}))},_reset:function(){var t,e,i,s,o;for(o=this.particles.length-1;o>=0;o--)t=this.particles[o],e=t.$element.data("stellar-startingLeft"),i=t.$element.data("stellar-startingTop"),this._setPosition(t.$element,e,e,i,i),this.options.showElement(t.$element),t.$element.data("stellar-startingLeft",null).data("stellar-elementIsActive",null).data("stellar-backgroundIsActive",null);for(o=this.backgrounds.length-1;o>=0;o--)s=this.backgrounds[o],s.$element.data("stellar-backgroundStartingLeft",null).data("stellar-backgroundStartingTop",null),p(s.$element,s.startingValueLeft,s.startingValueTop)},destroy:function(){this._reset(),this.$scrollElement.unbind("resize."+this.name).unbind("scroll."+this.name),this._animationLoop=t.noop,t(e).unbind("load."+this.name).unbind("resize."+this.name)},_setOffsets:function(){var i=this,s=t(e);s.unbind("resize.horizontal-"+this.name).unbind("resize.vertical-"+this.name),"function"==typeof this.options.horizontalOffset?(this.horizontalOffset=this.options.horizontalOffset(),s.bind("resize.horizontal-"+this.name,function(){i.horizontalOffset=i.options.horizontalOffset()})):this.horizontalOffset=this.options.horizontalOffset,"function"==typeof this.options.verticalOffset?(this.verticalOffset=this.options.verticalOffset(),s.bind("resize.vertical-"+this.name,function(){i.verticalOffset=i.options.verticalOffset()})):this.verticalOffset=this.options.verticalOffset},_repositionElements:function(){var t,e,i,s,o,n,r,a,l,f,c=this._getScrollLeft(),h=this._getScrollTop(),d=!0,u=!0;if(this.currentScrollLeft!==c||this.currentScrollTop!==h||this.currentWidth!==this.viewportWidth||this.currentHeight!==this.viewportHeight){for(this.currentScrollLeft=c,this.currentScrollTop=h,this.currentWidth=this.viewportWidth,this.currentHeight=this.viewportHeight,f=this.particles.length-1;f>=0;f--)t=this.particles[f],e=t.isFixed?1:0,this.options.horizontalScrolling?(n=(c+t.horizontalOffset+this.viewportOffsetLeft+t.startingPositionLeft-t.startingOffsetLeft+t.parentOffsetLeft)*-(t.stellarRatio+e-1)+t.startingPositionLeft,a=n-t.startingPositionLeft+t.startingOffsetLeft):(n=t.startingPositionLeft,a=t.startingOffsetLeft),this.options.verticalScrolling?(r=(h+t.verticalOffset+this.viewportOffsetTop+t.startingPositionTop-t.startingOffsetTop+t.parentOffsetTop)*-(t.stellarRatio+e-1)+t.startingPositionTop,l=r-t.startingPositionTop+t.startingOffsetTop):(r=t.startingPositionTop,l=t.startingOffsetTop),this.options.hideDistantElements&&(u=!this.options.horizontalScrolling||a+t.width>(t.isFixed?0:c)&&a<(t.isFixed?0:c)+this.viewportWidth+this.viewportOffsetLeft,d=!this.options.verticalScrolling||l+t.height>(t.isFixed?0:h)&&l<(t.isFixed?0:h)+this.viewportHeight+this.viewportOffsetTop),u&&d?(t.isHidden&&(this.options.showElement(t.$element),t.isHidden=!1),this._setPosition(t.$element,n,t.startingPositionLeft,r,t.startingPositionTop)):t.isHidden||(this.options.hideElement(t.$element),t.isHidden=!0);for(f=this.backgrounds.length-1;f>=0;f--)i=this.backgrounds[f],e=i.isFixed?0:1,s=this.options.horizontalScrolling?(c+i.horizontalOffset-this.viewportOffsetLeft-i.startingOffsetLeft+i.parentOffsetLeft-i.startingBackgroundPositionLeft)*(e-i.stellarRatio)+"px":i.startingValueLeft,o=this.options.verticalScrolling?(h+i.verticalOffset-this.viewportOffsetTop-i.startingOffsetTop+i.parentOffsetTop-i.startingBackgroundPositionTop)*(e-i.stellarRatio)+"px":i.startingValueTop,p(i.$element,s,o)}},_handleScrollEvent:function(){var t=this,e=!1,i=function(){t._repositionElements(),e=!1},s=function(){e||(u(i),e=!0)};this.$scrollElement.bind("scroll."+this.name,s),s()},_startAnimationLoop:function(){var t=this;this._animationLoop=function(){u(t._animationLoop),t._repositionElements()},this._animationLoop()}},t.fn[n]=function(e){var i=arguments;return e===s||"object"==typeof e?this.each(function(){t.data(this,"plugin_"+n)||t.data(this,"plugin_"+n,new o(this,e))}):"string"==typeof e&&"_"!==e[0]&&"init"!==e?this.each(function(){var s=t.data(this,"plugin_"+n);s instanceof o&&"function"==typeof s[e]&&s[e].apply(s,Array.prototype.slice.call(i,1)),"destroy"===e&&t.data(this,"plugin_"+n,null)}):void 0},t[n]=function(i){var s=t(e);return s.stellar.apply(s,Array.prototype.slice.call(arguments,0))},t[n].scrollProperty=a,t[n].positionProperty=l,e.Stellar=o}(jQuery,this,document);
!function(e,t){"function"==typeof define&&define.amd?define([],t(e)):"object"==typeof exports?module.exports=t(e):e.smoothScroll=t(e)}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";var t,n,o,r,a,i,c,u={},l="querySelector"in document&&"addEventListener"in e,s={selector:"[data-scroll]",selectorHeader:null,speed:500,easing:"easeInOutCubic",offset:0,callback:function(){}},f=function(){var e={},t=!1,n=0,o=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],n++);for(var r=function(n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t&&"[object Object]"===Object.prototype.toString.call(n[o])?e[o]=f(!0,e[o],n[o]):e[o]=n[o])};n<o;n++){var a=arguments[n];r(a)}return e},d=function(e){return Math.max(e.scrollHeight,e.offsetHeight,e.clientHeight)},h=function(e,t){var n,o,r=t.charAt(0),a="classList"in document.documentElement;for("["===r&&(t=t.substr(1,t.length-2),n=t.split("="),n.length>1&&(o=!0,n[1]=n[1].replace(/"/g,"").replace(/'/g,"")));e&&e!==document&&1===e.nodeType;e=e.parentNode){if("."===r)if(a){if(e.classList.contains(t.substr(1)))return e}else if(new RegExp("(^|\\s)"+t.substr(1)+"(\\s|$)").test(e.className))return e;if("#"===r&&e.id===t.substr(1))return e;if("["===r&&e.hasAttribute(n[0])){if(!o)return e;if(e.getAttribute(n[0])===n[1])return e}if(e.tagName.toLowerCase()===t)return e}return null},m=function(e){"#"===e.charAt(0)&&(e=e.substr(1));for(var t,n=String(e),o=n.length,r=-1,a="",i=n.charCodeAt(0);++r<o;){if(t=n.charCodeAt(r),0===t)throw new InvalidCharacterError("Invalid character: the input contains U+0000.");a+=t>=1&&t<=31||127==t||0===r&&t>=48&&t<=57||1===r&&t>=48&&t<=57&&45===i?"\\"+t.toString(16)+" ":t>=128||45===t||95===t||t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122?n.charAt(r):"\\"+n.charAt(r)}return"#"+a},g=function(e,t){var n;return"easeInQuad"===e&&(n=t*t),"easeOutQuad"===e&&(n=t*(2-t)),"easeInOutQuad"===e&&(n=t<.5?2*t*t:-1+(4-2*t)*t),"easeInCubic"===e&&(n=t*t*t),"easeOutCubic"===e&&(n=--t*t*t+1),"easeInOutCubic"===e&&(n=t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1),"easeInQuart"===e&&(n=t*t*t*t),"easeOutQuart"===e&&(n=1- --t*t*t*t),"easeInOutQuart"===e&&(n=t<.5?8*t*t*t*t:1-8*--t*t*t*t),"easeInQuint"===e&&(n=t*t*t*t*t),"easeOutQuint"===e&&(n=1+--t*t*t*t*t),"easeInOutQuint"===e&&(n=t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t),n||t},p=function(e,t,n){var o=0;if(e.offsetParent)do o+=e.offsetTop,e=e.offsetParent;while(e);return o=Math.max(o-t-n,0),Math.min(o,v()-b())},b=function(){return Math.max(document.documentElement.clientHeight,e.innerHeight||0)},v=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)},y=function(e){return e&&"object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(e):{}},O=function(e){return e?d(e)+e.offsetTop:0},H=function(t,n,o){o||(t.focus(),document.activeElement.id!==t.id&&(t.setAttribute("tabindex","-1"),t.focus(),t.style.outline="none"),e.scrollTo(0,n))};u.animateScroll=function(n,o,i){var u=y(o?o.getAttribute("data-options"):null),l=f(t||s,i||{},u),d="[object Number]"===Object.prototype.toString.call(n),h=d||!n.tagName?null:n;if(d||h){var m=e.pageYOffset;l.selectorHeader&&!r&&(r=document.querySelector(l.selectorHeader)),a||(a=O(r));var b,I,S=d?n:p(h,a,parseInt(l.offset,10)),E=S-m,A=v(),j=0,L=function(t,r,a){var i=e.pageYOffset;(t==r||i==r||e.innerHeight+i>=A)&&(clearInterval(a),H(n,r,d),l.callback(n,o))},w=function(){j+=16,b=j/parseInt(l.speed,10),b=b>1?1:b,I=m+E*g(l.easing,b),e.scrollTo(0,Math.floor(I)),L(I,S,c)},C=function(){clearInterval(c),c=setInterval(w,16)};0===e.pageYOffset&&e.scrollTo(0,0),C()}};var I=function(t){e.location.hash;n&&(n.id=n.getAttribute("data-scroll-id"),u.animateScroll(n,o),n=null,o=null)},S=function(r){if(0===r.button&&!r.metaKey&&!r.ctrlKey&&(o=h(r.target,t.selector),o&&"a"===o.tagName.toLowerCase()&&o.hostname===e.location.hostname&&o.pathname===e.location.pathname&&/#/.test(o.href))){var a=m(o.hash);if("#"===a){r.preventDefault(),n=document.body;var i=n.id?n.id:"smooth-scroll-top";return n.setAttribute("data-scroll-id",i),n.id="",void(e.location.hash.substring(1)===i?I():e.location.hash=i)}n=document.querySelector(a),n&&(n.setAttribute("data-scroll-id",n.id),n.id="",o.hash===e.location.hash&&(r.preventDefault(),I()))}},E=function(e){i||(i=setTimeout(function(){i=null,a=O(r)},66))};return u.destroy=function(){t&&(document.removeEventListener("click",S,!1),e.removeEventListener("resize",E,!1),t=null,n=null,o=null,r=null,a=null,i=null,c=null)},u.init=function(n){l&&(u.destroy(),t=f(s,n||{}),r=t.selectorHeader?document.querySelector(t.selectorHeader):null,a=O(r),document.addEventListener("click",S,!1),e.addEventListener("hashchange",I,!1),r&&e.addEventListener("resize",E,!1))},u});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5zdGVsbGFyLmpzIiwic21vb3RoLXNjcm9sbC5qcyJdLCJuYW1lcyI6WyIkIiwid2luZG93IiwiZG9jdW1lbnQiLCJ1bmRlZmluZWQiLCJQbHVnaW4iLCJlbGVtZW50Iiwib3B0aW9ucyIsInRoaXMiLCJleHRlbmQiLCJkZWZhdWx0cyIsIl9kZWZhdWx0cyIsIl9uYW1lIiwicGx1Z2luTmFtZSIsImluaXQiLCJzY3JvbGxQcm9wZXJ0eSIsInBvc2l0aW9uUHJvcGVydHkiLCJob3Jpem9udGFsU2Nyb2xsaW5nIiwidmVydGljYWxTY3JvbGxpbmciLCJob3Jpem9udGFsT2Zmc2V0IiwidmVydGljYWxPZmZzZXQiLCJyZXNwb25zaXZlIiwicGFyYWxsYXhCYWNrZ3JvdW5kcyIsInBhcmFsbGF4RWxlbWVudHMiLCJoaWRlRGlzdGFudEVsZW1lbnRzIiwiaGlkZUVsZW1lbnQiLCIkZWxlbSIsImhpZGUiLCJzaG93RWxlbWVudCIsInNob3ciLCJzY3JvbGwiLCJnZXRMZWZ0Iiwic2Nyb2xsTGVmdCIsInNldExlZnQiLCJ2YWwiLCJnZXRUb3AiLCJzY3JvbGxUb3AiLCJzZXRUb3AiLCJwb3NpdGlvbiIsInBhcnNlSW50IiwiY3NzIiwibWFyZ2luIiwidHJhbnNmb3JtIiwiY29tcHV0ZWRUcmFuc2Zvcm0iLCJnZXRDb21wdXRlZFN0eWxlIiwicHJlZml4ZWRUcmFuc2Zvcm0iLCJtYXRjaCIsImxlZnQiLCJ0b3AiLCJzZXRQb3NpdGlvbiIsInN0YXJ0aW5nTGVmdCIsInN0YXJ0aW5nVG9wIiwic3R5bGUiLCJ2ZW5kb3JQcmVmaXgiLCJwcm9wIiwicHJlZml4ZXMiLCJwcmVmaXgiLCJ0ZXN0IiwicHJvcGVydHkiLCJsZW5ndGgiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwic3VwcG9ydHNCYWNrZ3JvdW5kUG9zaXRpb25YWSIsInNldEJhY2tncm91bmRQb3NpdGlvbiIsIngiLCJ5IiwiYmFja2dyb3VuZC1wb3NpdGlvbi14IiwiYmFja2dyb3VuZC1wb3NpdGlvbi15IiwiZ2V0QmFja2dyb3VuZFBvc2l0aW9uIiwic3BsaXQiLCJyZXF1ZXN0QW5pbUZyYW1lIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwid2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwib1JlcXVlc3RBbmltYXRpb25GcmFtZSIsIm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY2FsbGJhY2siLCJzZXRUaW1lb3V0IiwicHJvdG90eXBlIiwibmFtZSIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsIl9kZWZpbmVFbGVtZW50cyIsIl9kZWZpbmVHZXR0ZXJzIiwiX2RlZmluZVNldHRlcnMiLCJfaGFuZGxlV2luZG93TG9hZEFuZFJlc2l6ZSIsIl9kZXRlY3RWaWV3cG9ydCIsInJlZnJlc2giLCJmaXJzdExvYWQiLCJfaGFuZGxlU2Nyb2xsRXZlbnQiLCJfc3RhcnRBbmltYXRpb25Mb29wIiwiYm9keSIsIiRzY3JvbGxFbGVtZW50IiwiJGVsZW1lbnQiLCIkdmlld3BvcnRFbGVtZW50Iiwidmlld3BvcnRFbGVtZW50IiwicGFyZW50Iiwic2VsZiIsInNjcm9sbFByb3BlcnR5QWRhcHRlciIsIl9nZXRTY3JvbGxMZWZ0IiwiX2dldFNjcm9sbFRvcCIsInBvc2l0aW9uUHJvcGVydHlBZGFwdGVyIiwic2V0U2Nyb2xsTGVmdCIsInNldFNjcm9sbFRvcCIsIl9zZXRTY3JvbGxMZWZ0Iiwibm9vcCIsIl9zZXRTY3JvbGxUb3AiLCJfc2V0UG9zaXRpb24iLCIkd2luZG93IiwiYmluZCIsIm9sZExlZnQiLCJvbGRUb3AiLCJfcmVzZXQiLCJfc2V0T2Zmc2V0cyIsIl9maW5kUGFydGljbGVzIiwiX2ZpbmRCYWNrZ3JvdW5kcyIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImxvYWQiLCJ2aWV3cG9ydE9mZnNldHMiLCJvZmZzZXQiLCJoYXNPZmZzZXRzIiwidmlld3BvcnRXaWR0aCIsIndpZHRoIiwidmlld3BvcnRIZWlnaHQiLCJoZWlnaHQiLCJ2aWV3cG9ydE9mZnNldFRvcCIsInZpZXdwb3J0T2Zmc2V0TGVmdCIsInBhcnRpY2xlcyIsImkiLCJkYXRhIiwiZmluZCIsImVhY2giLCJwb3NpdGlvbkxlZnQiLCJwb3NpdGlvblRvcCIsIm1hcmdpbkxlZnQiLCJtYXJnaW5Ub3AiLCIkb2Zmc2V0UGFyZW50Iiwib2Zmc2V0TGVmdCIsIm9mZnNldFRvcCIsIiR0aGlzIiwicGFyZW50T2Zmc2V0TGVmdCIsInBhcmVudE9mZnNldFRvcCIsInRlbXBQYXJlbnRPZmZzZXRMZWZ0IiwidGVtcFBhcmVudE9mZnNldFRvcCIsInBhcmVudHMiLCJwdXNoIiwiaXNGaXhlZCIsInN0YXJ0aW5nUG9zaXRpb25MZWZ0Iiwic3RhcnRpbmdQb3NpdGlvblRvcCIsInN0YXJ0aW5nT2Zmc2V0TGVmdCIsInN0YXJ0aW5nT2Zmc2V0VG9wIiwic3RlbGxhclJhdGlvIiwib3V0ZXJXaWR0aCIsIm91dGVySGVpZ2h0IiwiaXNIaWRkZW4iLCIkYmFja2dyb3VuZEVsZW1lbnRzIiwiYmFja2dyb3VuZHMiLCJhZGQiLCJiYWNrZ3JvdW5kUG9zaXRpb24iLCJzdGFydGluZ1ZhbHVlTGVmdCIsInN0YXJ0aW5nVmFsdWVUb3AiLCJzdGFydGluZ0JhY2tncm91bmRQb3NpdGlvbkxlZnQiLCJpc05hTiIsInN0YXJ0aW5nQmFja2dyb3VuZFBvc2l0aW9uVG9wIiwicGFydGljbGUiLCJiYWNrZ3JvdW5kIiwiZGVzdHJveSIsInVuYmluZCIsIl9hbmltYXRpb25Mb29wIiwiX3JlcG9zaXRpb25FbGVtZW50cyIsImZpeGVkUmF0aW9PZmZzZXQiLCJiZ0xlZnQiLCJiZ1RvcCIsIm5ld1Bvc2l0aW9uTGVmdCIsIm5ld1Bvc2l0aW9uVG9wIiwibmV3T2Zmc2V0TGVmdCIsIm5ld09mZnNldFRvcCIsImlzVmlzaWJsZVZlcnRpY2FsIiwiaXNWaXNpYmxlSG9yaXpvbnRhbCIsImN1cnJlbnRTY3JvbGxMZWZ0IiwiY3VycmVudFNjcm9sbFRvcCIsImN1cnJlbnRXaWR0aCIsImN1cnJlbnRIZWlnaHQiLCJ0aWNraW5nIiwidXBkYXRlIiwicmVxdWVzdFRpY2siLCJmbiIsImFyZ3MiLCJhcmd1bWVudHMiLCJpbnN0YW5jZSIsImFwcGx5IiwiQXJyYXkiLCJjYWxsIiwic3RlbGxhciIsIlN0ZWxsYXIiLCJqUXVlcnkiLCJyb290IiwiZmFjdG9yeSIsImRlZmluZSIsImFtZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJzbW9vdGhTY3JvbGwiLCJnbG9iYWwiLCJzZXR0aW5ncyIsImFuY2hvciIsInRvZ2dsZSIsImZpeGVkSGVhZGVyIiwiaGVhZGVySGVpZ2h0IiwiZXZlbnRUaW1lb3V0IiwiYW5pbWF0aW9uSW50ZXJ2YWwiLCJzdXBwb3J0cyIsInNlbGVjdG9yIiwic2VsZWN0b3JIZWFkZXIiLCJzcGVlZCIsImVhc2luZyIsImV4dGVuZGVkIiwiZGVlcCIsIk9iamVjdCIsInRvU3RyaW5nIiwibWVyZ2UiLCJvYmoiLCJoYXNPd25Qcm9wZXJ0eSIsImdldEhlaWdodCIsImVsZW0iLCJtYXgiLCJzY3JvbGxIZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJnZXRDbG9zZXN0IiwiYXR0cmlidXRlIiwidmFsdWUiLCJmaXJzdENoYXIiLCJkb2N1bWVudEVsZW1lbnQiLCJzdWJzdHIiLCJyZXBsYWNlIiwibm9kZVR5cGUiLCJwYXJlbnROb2RlIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJSZWdFeHAiLCJjbGFzc05hbWUiLCJpZCIsImhhc0F0dHJpYnV0ZSIsImdldEF0dHJpYnV0ZSIsInRhZ05hbWUiLCJ0b0xvd2VyQ2FzZSIsImVzY2FwZUNoYXJhY3RlcnMiLCJjb2RlVW5pdCIsInN0cmluZyIsIlN0cmluZyIsImluZGV4IiwicmVzdWx0IiwiZmlyc3RDb2RlVW5pdCIsImNoYXJDb2RlQXQiLCJJbnZhbGlkQ2hhcmFjdGVyRXJyb3IiLCJlYXNpbmdQYXR0ZXJuIiwidHlwZSIsInRpbWUiLCJwYXR0ZXJuIiwiZ2V0RW5kTG9jYXRpb24iLCJsb2NhdGlvbiIsIm9mZnNldFBhcmVudCIsIm1pbiIsImdldERvY3VtZW50SGVpZ2h0IiwiZ2V0Vmlld3BvcnRIZWlnaHQiLCJpbm5lckhlaWdodCIsImdldERhdGFPcHRpb25zIiwiSlNPTiIsInBhcnNlIiwiZ2V0SGVhZGVySGVpZ2h0IiwiaGVhZGVyIiwiYWRqdXN0Rm9jdXMiLCJlbmRMb2NhdGlvbiIsImlzTnVtIiwiZm9jdXMiLCJhY3RpdmVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwib3V0bGluZSIsInNjcm9sbFRvIiwiYW5pbWF0ZVNjcm9sbCIsIm92ZXJyaWRlcyIsImFuaW1hdGVTZXR0aW5ncyIsImFuY2hvckVsZW0iLCJzdGFydExvY2F0aW9uIiwicGFnZVlPZmZzZXQiLCJxdWVyeVNlbGVjdG9yIiwicGVyY2VudGFnZSIsImRpc3RhbmNlIiwiZG9jdW1lbnRIZWlnaHQiLCJ0aW1lTGFwc2VkIiwic3RvcEFuaW1hdGVTY3JvbGwiLCJjdXJyZW50TG9jYXRpb24iLCJjbGVhckludGVydmFsIiwibG9vcEFuaW1hdGVTY3JvbGwiLCJzdGFydEFuaW1hdGVTY3JvbGwiLCJzZXRJbnRlcnZhbCIsImhhc2hDaGFuZ2VIYW5kbGVyIiwiZXZlbnQiLCJoYXNoIiwiY2xpY2tIYW5kbGVyIiwiYnV0dG9uIiwibWV0YUtleSIsImN0cmxLZXkiLCJ0YXJnZXQiLCJob3N0bmFtZSIsInBhdGhuYW1lIiwiaHJlZiIsInByZXZlbnREZWZhdWx0Iiwic3Vic3RyaW5nIiwicmVzaXplVGhyb3R0bGVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImFkZEV2ZW50TGlzdGVuZXIiXSwibWFwcGluZ3MiOiJDQVNFLFNBQVNBLEVBQUdDLEVBQVFDLEVBQVVDLEdBdUgvQixRQUFTQyxHQUFPQyxFQUFTQyxHQUN4QkMsS0FBS0YsUUFBVUEsRUFDZkUsS0FBS0QsUUFBVU4sRUFBRVEsVUFBV0MsRUFBVUgsR0FFdENDLEtBQUtHLFVBQVlELEVBQ2pCRixLQUFLSSxNQUFRQyxFQUViTCxLQUFLTSxPQTVITixHQUFJRCxHQUFhLFVBQ2hCSCxHQUNDSyxlQUFnQixTQUNoQkMsaUJB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QnpGLElBQ0xBLEVBQWV0SSxXQUFXLFdBQ3pCc0ksRUFBZSxLQUNmRCxFQUFlOEQsRUFBaUIvRCxJQUM3QixLQStETixPQXZEQUwsR0FBYXBDLFFBQVUsV0FHaEJzQyxJQUdONU0sU0FBU3VULG9CQUFxQixRQUFTWCxHQUFjLEdBQ3JEeEcsRUFBS21ILG9CQUFxQixTQUFVRCxHQUFpQixHQUdyRDFHLEVBQVcsS0FDWEMsRUFBUyxLQUNUQyxFQUFTLEtBQ1RDLEVBQWMsS0FDZEMsRUFBZSxLQUNmQyxFQUFlLEtBQ2ZDLEVBQW9CLE9BUXJCUixFQUFhL0wsS0FBTyxTQUFXUCxHQUd4QitNLElBR05ULEVBQWFwQyxVQUdic0MsRUFBV3RNLEVBQVFDLEVBQVVILE9BQzdCMk0sRUFBY0gsRUFBU1MsZUFBaUJyTixTQUFTOFIsY0FBZWxGLEVBQVNTLGdCQUFtQixLQUM1RkwsRUFBZThELEVBQWlCL0QsR0FHaEMvTSxTQUFTd1QsaUJBQWtCLFFBQVNaLEdBQWMsR0FHbER4RyxFQUFLb0gsaUJBQWlCLGFBQWNmLEdBQW1CLEdBR2xEMUYsR0FDSlgsRUFBS29ILGlCQUFrQixTQUFVRixHQUFpQixLQVU3QzVHIiwiZmlsZSI6InNrZWxldG9uLXZlbmRvci5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIFN0ZWxsYXIuanMgdjAuNi4yXG4gKiBodHRwOi8vbWFya2RhbGdsZWlzaC5jb20vcHJvamVjdHMvc3RlbGxhci5qc1xuICogXG4gKiBDb3B5cmlnaHQgMjAxMywgTWFyayBEYWxnbGVpc2hcbiAqIFRoaXMgY29udGVudCBpcyByZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcbiAqIGh0dHA6Ly9tYXJrZGFsZ2xlaXNoLm1pdC1saWNlbnNlLm9yZ1xuICovXG5cbjsoZnVuY3Rpb24oJCwgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cblx0dmFyIHBsdWdpbk5hbWUgPSAnc3RlbGxhcicsXG5cdFx0ZGVmYXVsdHMgPSB7XG5cdFx0XHRzY3JvbGxQcm9wZXJ0eTogJ3Njcm9sbCcsXG5cdFx0XHRwb3NpdGlvblByb3BlcnR5OiAncG9zaXRpb24nLFxuXHRcdFx0aG9yaXpvbnRhbFNjcm9sbGluZzogdHJ1ZSxcblx0XHRcdHZlcnRpY2FsU2Nyb2xsaW5nOiB0cnVlLFxuXHRcdFx0aG9yaXpvbnRhbE9mZnNldDogMCxcblx0XHRcdHZlcnRpY2FsT2Zmc2V0OiAwLFxuXHRcdFx0cmVzcG9uc2l2ZTogZmFsc2UsXG5cdFx0XHRwYXJhbGxheEJhY2tncm91bmRzOiB0cnVlLFxuXHRcdFx0cGFyYWxsYXhFbGVtZW50czogdHJ1ZSxcblx0XHRcdGhpZGVEaXN0YW50RWxlbWVudHM6IHRydWUsXG5cdFx0XHRoaWRlRWxlbWVudDogZnVuY3Rpb24oJGVsZW0pIHsgJGVsZW0uaGlkZSgpOyB9LFxuXHRcdFx0c2hvd0VsZW1lbnQ6IGZ1bmN0aW9uKCRlbGVtKSB7ICRlbGVtLnNob3coKTsgfVxuXHRcdH0sXG5cblx0XHRzY3JvbGxQcm9wZXJ0eSA9IHtcblx0XHRcdHNjcm9sbDoge1xuXHRcdFx0XHRnZXRMZWZ0OiBmdW5jdGlvbigkZWxlbSkgeyByZXR1cm4gJGVsZW0uc2Nyb2xsTGVmdCgpOyB9LFxuXHRcdFx0XHRzZXRMZWZ0OiBmdW5jdGlvbigkZWxlbSwgdmFsKSB7ICRlbGVtLnNjcm9sbExlZnQodmFsKTsgfSxcblxuXHRcdFx0XHRnZXRUb3A6IGZ1bmN0aW9uKCRlbGVtKSB7IHJldHVybiAkZWxlbS5zY3JvbGxUb3AoKTtcdH0sXG5cdFx0XHRcdHNldFRvcDogZnVuY3Rpb24oJGVsZW0sIHZhbCkgeyAkZWxlbS5zY3JvbGxUb3AodmFsKTsgfVxuXHRcdFx0fSxcblx0XHRcdHBvc2l0aW9uOiB7XG5cdFx0XHRcdGdldExlZnQ6IGZ1bmN0aW9uKCRlbGVtKSB7IHJldHVybiBwYXJzZUludCgkZWxlbS5jc3MoJ2xlZnQnKSwgMTApICogLTE7IH0sXG5cdFx0XHRcdGdldFRvcDogZnVuY3Rpb24oJGVsZW0pIHsgcmV0dXJuIHBhcnNlSW50KCRlbGVtLmNzcygndG9wJyksIDEwKSAqIC0xOyB9XG5cdFx0XHR9LFxuXHRcdFx0bWFyZ2luOiB7XG5cdFx0XHRcdGdldExlZnQ6IGZ1bmN0aW9uKCRlbGVtKSB7IHJldHVybiBwYXJzZUludCgkZWxlbS5jc3MoJ21hcmdpbi1sZWZ0JyksIDEwKSAqIC0xOyB9LFxuXHRcdFx0XHRnZXRUb3A6IGZ1bmN0aW9uKCRlbGVtKSB7IHJldHVybiBwYXJzZUludCgkZWxlbS5jc3MoJ21hcmdpbi10b3AnKSwgMTApICogLTE7IH1cblx0XHRcdH0sXG5cdFx0XHR0cmFuc2Zvcm06IHtcblx0XHRcdFx0Z2V0TGVmdDogZnVuY3Rpb24oJGVsZW0pIHtcblx0XHRcdFx0XHR2YXIgY29tcHV0ZWRUcmFuc2Zvcm0gPSBnZXRDb21wdXRlZFN0eWxlKCRlbGVtWzBdKVtwcmVmaXhlZFRyYW5zZm9ybV07XG5cdFx0XHRcdFx0cmV0dXJuIChjb21wdXRlZFRyYW5zZm9ybSAhPT0gJ25vbmUnID8gcGFyc2VJbnQoY29tcHV0ZWRUcmFuc2Zvcm0ubWF0Y2goLygtP1swLTldKykvZylbNF0sIDEwKSAqIC0xIDogMCk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGdldFRvcDogZnVuY3Rpb24oJGVsZW0pIHtcblx0XHRcdFx0XHR2YXIgY29tcHV0ZWRUcmFuc2Zvcm0gPSBnZXRDb21wdXRlZFN0eWxlKCRlbGVtWzBdKVtwcmVmaXhlZFRyYW5zZm9ybV07XG5cdFx0XHRcdFx0cmV0dXJuIChjb21wdXRlZFRyYW5zZm9ybSAhPT0gJ25vbmUnID8gcGFyc2VJbnQoY29tcHV0ZWRUcmFuc2Zvcm0ubWF0Y2goLygtP1swLTldKykvZylbNV0sIDEwKSAqIC0xIDogMCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0cG9zaXRpb25Qcm9wZXJ0eSA9IHtcblx0XHRcdHBvc2l0aW9uOiB7XG5cdFx0XHRcdHNldExlZnQ6IGZ1bmN0aW9uKCRlbGVtLCBsZWZ0KSB7ICRlbGVtLmNzcygnbGVmdCcsIGxlZnQpOyB9LFxuXHRcdFx0XHRzZXRUb3A6IGZ1bmN0aW9uKCRlbGVtLCB0b3ApIHsgJGVsZW0uY3NzKCd0b3AnLCB0b3ApOyB9XG5cdFx0XHR9LFxuXHRcdFx0dHJhbnNmb3JtOiB7XG5cdFx0XHRcdHNldFBvc2l0aW9uOiBmdW5jdGlvbigkZWxlbSwgbGVmdCwgc3RhcnRpbmdMZWZ0LCB0b3AsIHN0YXJ0aW5nVG9wKSB7XG5cdFx0XHRcdFx0JGVsZW1bMF0uc3R5bGVbcHJlZml4ZWRUcmFuc2Zvcm1dID0gJ3RyYW5zbGF0ZTNkKCcgKyAobGVmdCAtIHN0YXJ0aW5nTGVmdCkgKyAncHgsICcgKyAodG9wIC0gc3RhcnRpbmdUb3ApICsgJ3B4LCAwKSc7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0Ly8gUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIGFkZHMgYSB2ZW5kb3IgcHJlZml4IHRvIGFueSBDU1MgcHJvcGVydHkgbmFtZVxuXHRcdHZlbmRvclByZWZpeCA9IChmdW5jdGlvbigpIHtcblx0XHRcdHZhciBwcmVmaXhlcyA9IC9eKE1venxXZWJraXR8S2h0bWx8T3xtc3xJY2FiKSg/PVtBLVpdKS8sXG5cdFx0XHRcdHN0eWxlID0gJCgnc2NyaXB0JylbMF0uc3R5bGUsXG5cdFx0XHRcdHByZWZpeCA9ICcnLFxuXHRcdFx0XHRwcm9wO1xuXG5cdFx0XHRmb3IgKHByb3AgaW4gc3R5bGUpIHtcblx0XHRcdFx0aWYgKHByZWZpeGVzLnRlc3QocHJvcCkpIHtcblx0XHRcdFx0XHRwcmVmaXggPSBwcm9wLm1hdGNoKHByZWZpeGVzKVswXTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoJ1dlYmtpdE9wYWNpdHknIGluIHN0eWxlKSB7IHByZWZpeCA9ICdXZWJraXQnOyB9XG5cdFx0XHRpZiAoJ0todG1sT3BhY2l0eScgaW4gc3R5bGUpIHsgcHJlZml4ID0gJ0todG1sJzsgfVxuXG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24ocHJvcGVydHkpIHtcblx0XHRcdFx0cmV0dXJuIHByZWZpeCArIChwcmVmaXgubGVuZ3RoID4gMCA/IHByb3BlcnR5LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcHJvcGVydHkuc2xpY2UoMSkgOiBwcm9wZXJ0eSk7XG5cdFx0XHR9O1xuXHRcdH0oKSksXG5cblx0XHRwcmVmaXhlZFRyYW5zZm9ybSA9IHZlbmRvclByZWZpeCgndHJhbnNmb3JtJyksXG5cblx0XHRzdXBwb3J0c0JhY2tncm91bmRQb3NpdGlvblhZID0gJCgnPGRpdiAvPicsIHsgc3R5bGU6ICdiYWNrZ3JvdW5kOiNmZmYnIH0pLmNzcygnYmFja2dyb3VuZC1wb3NpdGlvbi14JykgIT09IHVuZGVmaW5lZCxcblxuXHRcdHNldEJhY2tncm91bmRQb3NpdGlvbiA9IChzdXBwb3J0c0JhY2tncm91bmRQb3NpdGlvblhZID9cblx0XHRcdGZ1bmN0aW9uKCRlbGVtLCB4LCB5KSB7XG5cdFx0XHRcdCRlbGVtLmNzcyh7XG5cdFx0XHRcdFx0J2JhY2tncm91bmQtcG9zaXRpb24teCc6IHgsXG5cdFx0XHRcdFx0J2JhY2tncm91bmQtcG9zaXRpb24teSc6IHlcblx0XHRcdFx0fSk7XG5cdFx0XHR9IDpcblx0XHRcdGZ1bmN0aW9uKCRlbGVtLCB4LCB5KSB7XG5cdFx0XHRcdCRlbGVtLmNzcygnYmFja2dyb3VuZC1wb3NpdGlvbicsIHggKyAnICcgKyB5KTtcblx0XHRcdH1cblx0XHQpLFxuXG5cdFx0Z2V0QmFja2dyb3VuZFBvc2l0aW9uID0gKHN1cHBvcnRzQmFja2dyb3VuZFBvc2l0aW9uWFkgP1xuXHRcdFx0ZnVuY3Rpb24oJGVsZW0pIHtcblx0XHRcdFx0cmV0dXJuIFtcblx0XHRcdFx0XHQkZWxlbS5jc3MoJ2JhY2tncm91bmQtcG9zaXRpb24teCcpLFxuXHRcdFx0XHRcdCRlbGVtLmNzcygnYmFja2dyb3VuZC1wb3NpdGlvbi15Jylcblx0XHRcdFx0XTtcblx0XHRcdH0gOlxuXHRcdFx0ZnVuY3Rpb24oJGVsZW0pIHtcblx0XHRcdFx0cmV0dXJuICRlbGVtLmNzcygnYmFja2dyb3VuZC1wb3NpdGlvbicpLnNwbGl0KCcgJyk7XG5cdFx0XHR9XG5cdFx0KSxcblxuXHRcdHJlcXVlc3RBbmltRnJhbWUgPSAoXG5cdFx0XHR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lICAgICAgIHx8XG5cdFx0XHR3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG5cdFx0XHR3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lICAgIHx8XG5cdFx0XHR3aW5kb3cub1JlcXVlc3RBbmltYXRpb25GcmFtZSAgICAgIHx8XG5cdFx0XHR3aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgICAgIHx8XG5cdFx0XHRmdW5jdGlvbihjYWxsYmFjaykge1xuXHRcdFx0XHRzZXRUaW1lb3V0KGNhbGxiYWNrLCAxMDAwIC8gNjApO1xuXHRcdFx0fVxuXHRcdCk7XG5cblx0ZnVuY3Rpb24gUGx1Z2luKGVsZW1lbnQsIG9wdGlvbnMpIHtcblx0XHR0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuXHRcdHRoaXMub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XG5cblx0XHR0aGlzLl9kZWZhdWx0cyA9IGRlZmF1bHRzO1xuXHRcdHRoaXMuX25hbWUgPSBwbHVnaW5OYW1lO1xuXG5cdFx0dGhpcy5pbml0KCk7XG5cdH1cblxuXHRQbHVnaW4ucHJvdG90eXBlID0ge1xuXHRcdGluaXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5vcHRpb25zLm5hbWUgPSBwbHVnaW5OYW1lICsgJ18nICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMWU5KTtcblxuXHRcdFx0dGhpcy5fZGVmaW5lRWxlbWVudHMoKTtcblx0XHRcdHRoaXMuX2RlZmluZUdldHRlcnMoKTtcblx0XHRcdHRoaXMuX2RlZmluZVNldHRlcnMoKTtcblx0XHRcdHRoaXMuX2hhbmRsZVdpbmRvd0xvYWRBbmRSZXNpemUoKTtcblx0XHRcdHRoaXMuX2RldGVjdFZpZXdwb3J0KCk7XG5cblx0XHRcdHRoaXMucmVmcmVzaCh7IGZpcnN0TG9hZDogdHJ1ZSB9KTtcblxuXHRcdFx0aWYgKHRoaXMub3B0aW9ucy5zY3JvbGxQcm9wZXJ0eSA9PT0gJ3Njcm9sbCcpIHtcblx0XHRcdFx0dGhpcy5faGFuZGxlU2Nyb2xsRXZlbnQoKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuX3N0YXJ0QW5pbWF0aW9uTG9vcCgpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0X2RlZmluZUVsZW1lbnRzOiBmdW5jdGlvbigpIHtcblx0XHRcdGlmICh0aGlzLmVsZW1lbnQgPT09IGRvY3VtZW50LmJvZHkpIHRoaXMuZWxlbWVudCA9IHdpbmRvdztcblx0XHRcdHRoaXMuJHNjcm9sbEVsZW1lbnQgPSAkKHRoaXMuZWxlbWVudCk7XG5cdFx0XHR0aGlzLiRlbGVtZW50ID0gKHRoaXMuZWxlbWVudCA9PT0gd2luZG93ID8gJCgnYm9keScpIDogdGhpcy4kc2Nyb2xsRWxlbWVudCk7XG5cdFx0XHR0aGlzLiR2aWV3cG9ydEVsZW1lbnQgPSAodGhpcy5vcHRpb25zLnZpZXdwb3J0RWxlbWVudCAhPT0gdW5kZWZpbmVkID8gJCh0aGlzLm9wdGlvbnMudmlld3BvcnRFbGVtZW50KSA6ICh0aGlzLiRzY3JvbGxFbGVtZW50WzBdID09PSB3aW5kb3cgfHwgdGhpcy5vcHRpb25zLnNjcm9sbFByb3BlcnR5ID09PSAnc2Nyb2xsJyA/IHRoaXMuJHNjcm9sbEVsZW1lbnQgOiB0aGlzLiRzY3JvbGxFbGVtZW50LnBhcmVudCgpKSApO1xuXHRcdH0sXG5cdFx0X2RlZmluZUdldHRlcnM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzLFxuXHRcdFx0XHRzY3JvbGxQcm9wZXJ0eUFkYXB0ZXIgPSBzY3JvbGxQcm9wZXJ0eVtzZWxmLm9wdGlvbnMuc2Nyb2xsUHJvcGVydHldO1xuXG5cdFx0XHR0aGlzLl9nZXRTY3JvbGxMZWZ0ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBzY3JvbGxQcm9wZXJ0eUFkYXB0ZXIuZ2V0TGVmdChzZWxmLiRzY3JvbGxFbGVtZW50KTtcblx0XHRcdH07XG5cblx0XHRcdHRoaXMuX2dldFNjcm9sbFRvcCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gc2Nyb2xsUHJvcGVydHlBZGFwdGVyLmdldFRvcChzZWxmLiRzY3JvbGxFbGVtZW50KTtcblx0XHRcdH07XG5cdFx0fSxcblx0XHRfZGVmaW5lU2V0dGVyczogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXMsXG5cdFx0XHRcdHNjcm9sbFByb3BlcnR5QWRhcHRlciA9IHNjcm9sbFByb3BlcnR5W3NlbGYub3B0aW9ucy5zY3JvbGxQcm9wZXJ0eV0sXG5cdFx0XHRcdHBvc2l0aW9uUHJvcGVydHlBZGFwdGVyID0gcG9zaXRpb25Qcm9wZXJ0eVtzZWxmLm9wdGlvbnMucG9zaXRpb25Qcm9wZXJ0eV0sXG5cdFx0XHRcdHNldFNjcm9sbExlZnQgPSBzY3JvbGxQcm9wZXJ0eUFkYXB0ZXIuc2V0TGVmdCxcblx0XHRcdFx0c2V0U2Nyb2xsVG9wID0gc2Nyb2xsUHJvcGVydHlBZGFwdGVyLnNldFRvcDtcblxuXHRcdFx0dGhpcy5fc2V0U2Nyb2xsTGVmdCA9ICh0eXBlb2Ygc2V0U2Nyb2xsTGVmdCA9PT0gJ2Z1bmN0aW9uJyA/IGZ1bmN0aW9uKHZhbCkge1xuXHRcdFx0XHRzZXRTY3JvbGxMZWZ0KHNlbGYuJHNjcm9sbEVsZW1lbnQsIHZhbCk7XG5cdFx0XHR9IDogJC5ub29wKTtcblxuXHRcdFx0dGhpcy5fc2V0U2Nyb2xsVG9wID0gKHR5cGVvZiBzZXRTY3JvbGxUb3AgPT09ICdmdW5jdGlvbicgPyBmdW5jdGlvbih2YWwpIHtcblx0XHRcdFx0c2V0U2Nyb2xsVG9wKHNlbGYuJHNjcm9sbEVsZW1lbnQsIHZhbCk7XG5cdFx0XHR9IDogJC5ub29wKTtcblxuXHRcdFx0dGhpcy5fc2V0UG9zaXRpb24gPSBwb3NpdGlvblByb3BlcnR5QWRhcHRlci5zZXRQb3NpdGlvbiB8fFxuXHRcdFx0XHRmdW5jdGlvbigkZWxlbSwgbGVmdCwgc3RhcnRpbmdMZWZ0LCB0b3AsIHN0YXJ0aW5nVG9wKSB7XG5cdFx0XHRcdFx0aWYgKHNlbGYub3B0aW9ucy5ob3Jpem9udGFsU2Nyb2xsaW5nKSB7XG5cdFx0XHRcdFx0XHRwb3NpdGlvblByb3BlcnR5QWRhcHRlci5zZXRMZWZ0KCRlbGVtLCBsZWZ0LCBzdGFydGluZ0xlZnQpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmIChzZWxmLm9wdGlvbnMudmVydGljYWxTY3JvbGxpbmcpIHtcblx0XHRcdFx0XHRcdHBvc2l0aW9uUHJvcGVydHlBZGFwdGVyLnNldFRvcCgkZWxlbSwgdG9wLCBzdGFydGluZ1RvcCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdH0sXG5cdFx0X2hhbmRsZVdpbmRvd0xvYWRBbmRSZXNpemU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzLFxuXHRcdFx0XHQkd2luZG93ID0gJCh3aW5kb3cpO1xuXG5cdFx0XHRpZiAoc2VsZi5vcHRpb25zLnJlc3BvbnNpdmUpIHtcblx0XHRcdFx0JHdpbmRvdy5iaW5kKCdsb2FkLicgKyB0aGlzLm5hbWUsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHNlbGYucmVmcmVzaCgpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0JHdpbmRvdy5iaW5kKCdyZXNpemUuJyArIHRoaXMubmFtZSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHNlbGYuX2RldGVjdFZpZXdwb3J0KCk7XG5cblx0XHRcdFx0aWYgKHNlbGYub3B0aW9ucy5yZXNwb25zaXZlKSB7XG5cdFx0XHRcdFx0c2VsZi5yZWZyZXNoKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0sXG5cdFx0cmVmcmVzaDogZnVuY3Rpb24ob3B0aW9ucykge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzLFxuXHRcdFx0XHRvbGRMZWZ0ID0gc2VsZi5fZ2V0U2Nyb2xsTGVmdCgpLFxuXHRcdFx0XHRvbGRUb3AgPSBzZWxmLl9nZXRTY3JvbGxUb3AoKTtcblxuXHRcdFx0aWYgKCFvcHRpb25zIHx8ICFvcHRpb25zLmZpcnN0TG9hZCkge1xuXHRcdFx0XHR0aGlzLl9yZXNldCgpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLl9zZXRTY3JvbGxMZWZ0KDApO1xuXHRcdFx0dGhpcy5fc2V0U2Nyb2xsVG9wKDApO1xuXG5cdFx0XHR0aGlzLl9zZXRPZmZzZXRzKCk7XG5cdFx0XHR0aGlzLl9maW5kUGFydGljbGVzKCk7XG5cdFx0XHR0aGlzLl9maW5kQmFja2dyb3VuZHMoKTtcblxuXHRcdFx0Ly8gRml4IGZvciBXZWJLaXQgYmFja2dyb3VuZCByZW5kZXJpbmcgYnVnXG5cdFx0XHRpZiAob3B0aW9ucyAmJiBvcHRpb25zLmZpcnN0TG9hZCAmJiAvV2ViS2l0Ly50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKSB7XG5cdFx0XHRcdCQod2luZG93KS5sb2FkKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHZhciBvbGRMZWZ0ID0gc2VsZi5fZ2V0U2Nyb2xsTGVmdCgpLFxuXHRcdFx0XHRcdFx0b2xkVG9wID0gc2VsZi5fZ2V0U2Nyb2xsVG9wKCk7XG5cblx0XHRcdFx0XHRzZWxmLl9zZXRTY3JvbGxMZWZ0KG9sZExlZnQgKyAxKTtcblx0XHRcdFx0XHRzZWxmLl9zZXRTY3JvbGxUb3Aob2xkVG9wICsgMSk7XG5cblx0XHRcdFx0XHRzZWxmLl9zZXRTY3JvbGxMZWZ0KG9sZExlZnQpO1xuXHRcdFx0XHRcdHNlbGYuX3NldFNjcm9sbFRvcChvbGRUb3ApO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5fc2V0U2Nyb2xsTGVmdChvbGRMZWZ0KTtcblx0XHRcdHRoaXMuX3NldFNjcm9sbFRvcChvbGRUb3ApO1xuXHRcdH0sXG5cdFx0X2RldGVjdFZpZXdwb3J0OiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciB2aWV3cG9ydE9mZnNldHMgPSB0aGlzLiR2aWV3cG9ydEVsZW1lbnQub2Zmc2V0KCksXG5cdFx0XHRcdGhhc09mZnNldHMgPSB2aWV3cG9ydE9mZnNldHMgIT09IG51bGwgJiYgdmlld3BvcnRPZmZzZXRzICE9PSB1bmRlZmluZWQ7XG5cblx0XHRcdHRoaXMudmlld3BvcnRXaWR0aCA9IHRoaXMuJHZpZXdwb3J0RWxlbWVudC53aWR0aCgpO1xuXHRcdFx0dGhpcy52aWV3cG9ydEhlaWdodCA9IHRoaXMuJHZpZXdwb3J0RWxlbWVudC5oZWlnaHQoKTtcblxuXHRcdFx0dGhpcy52aWV3cG9ydE9mZnNldFRvcCA9IChoYXNPZmZzZXRzID8gdmlld3BvcnRPZmZzZXRzLnRvcCA6IDApO1xuXHRcdFx0dGhpcy52aWV3cG9ydE9mZnNldExlZnQgPSAoaGFzT2Zmc2V0cyA/IHZpZXdwb3J0T2Zmc2V0cy5sZWZ0IDogMCk7XG5cdFx0fSxcblx0XHRfZmluZFBhcnRpY2xlczogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXMsXG5cdFx0XHRcdHNjcm9sbExlZnQgPSB0aGlzLl9nZXRTY3JvbGxMZWZ0KCksXG5cdFx0XHRcdHNjcm9sbFRvcCA9IHRoaXMuX2dldFNjcm9sbFRvcCgpO1xuXG5cdFx0XHRpZiAodGhpcy5wYXJ0aWNsZXMgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRmb3IgKHZhciBpID0gdGhpcy5wYXJ0aWNsZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHRcdFx0XHR0aGlzLnBhcnRpY2xlc1tpXS4kZWxlbWVudC5kYXRhKCdzdGVsbGFyLWVsZW1lbnRJc0FjdGl2ZScsIHVuZGVmaW5lZCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0dGhpcy5wYXJ0aWNsZXMgPSBbXTtcblxuXHRcdFx0aWYgKCF0aGlzLm9wdGlvbnMucGFyYWxsYXhFbGVtZW50cykgcmV0dXJuO1xuXG5cdFx0XHR0aGlzLiRlbGVtZW50LmZpbmQoJ1tkYXRhLXN0ZWxsYXItcmF0aW9dJykuZWFjaChmdW5jdGlvbihpKSB7XG5cdFx0XHRcdHZhciAkdGhpcyA9ICQodGhpcyksXG5cdFx0XHRcdFx0aG9yaXpvbnRhbE9mZnNldCxcblx0XHRcdFx0XHR2ZXJ0aWNhbE9mZnNldCxcblx0XHRcdFx0XHRwb3NpdGlvbkxlZnQsXG5cdFx0XHRcdFx0cG9zaXRpb25Ub3AsXG5cdFx0XHRcdFx0bWFyZ2luTGVmdCxcblx0XHRcdFx0XHRtYXJnaW5Ub3AsXG5cdFx0XHRcdFx0JG9mZnNldFBhcmVudCxcblx0XHRcdFx0XHRvZmZzZXRMZWZ0LFxuXHRcdFx0XHRcdG9mZnNldFRvcCxcblx0XHRcdFx0XHRwYXJlbnRPZmZzZXRMZWZ0ID0gMCxcblx0XHRcdFx0XHRwYXJlbnRPZmZzZXRUb3AgPSAwLFxuXHRcdFx0XHRcdHRlbXBQYXJlbnRPZmZzZXRMZWZ0ID0gMCxcblx0XHRcdFx0XHR0ZW1wUGFyZW50T2Zmc2V0VG9wID0gMDtcblxuXHRcdFx0XHQvLyBFbnN1cmUgdGhpcyBlbGVtZW50IGlzbid0IGFscmVhZHkgcGFydCBvZiBhbm90aGVyIHNjcm9sbGluZyBlbGVtZW50XG5cdFx0XHRcdGlmICghJHRoaXMuZGF0YSgnc3RlbGxhci1lbGVtZW50SXNBY3RpdmUnKSkge1xuXHRcdFx0XHRcdCR0aGlzLmRhdGEoJ3N0ZWxsYXItZWxlbWVudElzQWN0aXZlJywgdGhpcyk7XG5cdFx0XHRcdH0gZWxzZSBpZiAoJHRoaXMuZGF0YSgnc3RlbGxhci1lbGVtZW50SXNBY3RpdmUnKSAhPT0gdGhpcykge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHNlbGYub3B0aW9ucy5zaG93RWxlbWVudCgkdGhpcyk7XG5cblx0XHRcdFx0Ly8gU2F2ZS9yZXN0b3JlIHRoZSBvcmlnaW5hbCB0b3AgYW5kIGxlZnQgQ1NTIHZhbHVlcyBpbiBjYXNlIHdlIHJlZnJlc2ggdGhlIHBhcnRpY2xlcyBvciBkZXN0cm95IHRoZSBpbnN0YW5jZVxuXHRcdFx0XHRpZiAoISR0aGlzLmRhdGEoJ3N0ZWxsYXItc3RhcnRpbmdMZWZ0JykpIHtcblx0XHRcdFx0XHQkdGhpcy5kYXRhKCdzdGVsbGFyLXN0YXJ0aW5nTGVmdCcsICR0aGlzLmNzcygnbGVmdCcpKTtcblx0XHRcdFx0XHQkdGhpcy5kYXRhKCdzdGVsbGFyLXN0YXJ0aW5nVG9wJywgJHRoaXMuY3NzKCd0b3AnKSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0JHRoaXMuY3NzKCdsZWZ0JywgJHRoaXMuZGF0YSgnc3RlbGxhci1zdGFydGluZ0xlZnQnKSk7XG5cdFx0XHRcdFx0JHRoaXMuY3NzKCd0b3AnLCAkdGhpcy5kYXRhKCdzdGVsbGFyLXN0YXJ0aW5nVG9wJykpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cG9zaXRpb25MZWZ0ID0gJHRoaXMucG9zaXRpb24oKS5sZWZ0O1xuXHRcdFx0XHRwb3NpdGlvblRvcCA9ICR0aGlzLnBvc2l0aW9uKCkudG9wO1xuXG5cdFx0XHRcdC8vIENhdGNoLWFsbCBmb3IgbWFyZ2luIHRvcC9sZWZ0IHByb3BlcnRpZXMgKHRoZXNlIGV2YWx1YXRlIHRvICdhdXRvJyBpbiBJRTcgYW5kIElFOClcblx0XHRcdFx0bWFyZ2luTGVmdCA9ICgkdGhpcy5jc3MoJ21hcmdpbi1sZWZ0JykgPT09ICdhdXRvJykgPyAwIDogcGFyc2VJbnQoJHRoaXMuY3NzKCdtYXJnaW4tbGVmdCcpLCAxMCk7XG5cdFx0XHRcdG1hcmdpblRvcCA9ICgkdGhpcy5jc3MoJ21hcmdpbi10b3AnKSA9PT0gJ2F1dG8nKSA/IDAgOiBwYXJzZUludCgkdGhpcy5jc3MoJ21hcmdpbi10b3AnKSwgMTApO1xuXG5cdFx0XHRcdG9mZnNldExlZnQgPSAkdGhpcy5vZmZzZXQoKS5sZWZ0IC0gbWFyZ2luTGVmdDtcblx0XHRcdFx0b2Zmc2V0VG9wID0gJHRoaXMub2Zmc2V0KCkudG9wIC0gbWFyZ2luVG9wO1xuXG5cdFx0XHRcdC8vIENhbGN1bGF0ZSB0aGUgb2Zmc2V0IHBhcmVudFxuXHRcdFx0XHQkdGhpcy5wYXJlbnRzKCkuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHR2YXIgJHRoaXMgPSAkKHRoaXMpO1xuXG5cdFx0XHRcdFx0aWYgKCR0aGlzLmRhdGEoJ3N0ZWxsYXItb2Zmc2V0LXBhcmVudCcpID09PSB0cnVlKSB7XG5cdFx0XHRcdFx0XHRwYXJlbnRPZmZzZXRMZWZ0ID0gdGVtcFBhcmVudE9mZnNldExlZnQ7XG5cdFx0XHRcdFx0XHRwYXJlbnRPZmZzZXRUb3AgPSB0ZW1wUGFyZW50T2Zmc2V0VG9wO1xuXHRcdFx0XHRcdFx0JG9mZnNldFBhcmVudCA9ICR0aGlzO1xuXG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHRlbXBQYXJlbnRPZmZzZXRMZWZ0ICs9ICR0aGlzLnBvc2l0aW9uKCkubGVmdDtcblx0XHRcdFx0XHRcdHRlbXBQYXJlbnRPZmZzZXRUb3AgKz0gJHRoaXMucG9zaXRpb24oKS50b3A7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHQvLyBEZXRlY3QgdGhlIG9mZnNldHNcblx0XHRcdFx0aG9yaXpvbnRhbE9mZnNldCA9ICgkdGhpcy5kYXRhKCdzdGVsbGFyLWhvcml6b250YWwtb2Zmc2V0JykgIT09IHVuZGVmaW5lZCA/ICR0aGlzLmRhdGEoJ3N0ZWxsYXItaG9yaXpvbnRhbC1vZmZzZXQnKSA6ICgkb2Zmc2V0UGFyZW50ICE9PSB1bmRlZmluZWQgJiYgJG9mZnNldFBhcmVudC5kYXRhKCdzdGVsbGFyLWhvcml6b250YWwtb2Zmc2V0JykgIT09IHVuZGVmaW5lZCA/ICRvZmZzZXRQYXJlbnQuZGF0YSgnc3RlbGxhci1ob3Jpem9udGFsLW9mZnNldCcpIDogc2VsZi5ob3Jpem9udGFsT2Zmc2V0KSk7XG5cdFx0XHRcdHZlcnRpY2FsT2Zmc2V0ID0gKCR0aGlzLmRhdGEoJ3N0ZWxsYXItdmVydGljYWwtb2Zmc2V0JykgIT09IHVuZGVmaW5lZCA/ICR0aGlzLmRhdGEoJ3N0ZWxsYXItdmVydGljYWwtb2Zmc2V0JykgOiAoJG9mZnNldFBhcmVudCAhPT0gdW5kZWZpbmVkICYmICRvZmZzZXRQYXJlbnQuZGF0YSgnc3RlbGxhci12ZXJ0aWNhbC1vZmZzZXQnKSAhPT0gdW5kZWZpbmVkID8gJG9mZnNldFBhcmVudC5kYXRhKCdzdGVsbGFyLXZlcnRpY2FsLW9mZnNldCcpIDogc2VsZi52ZXJ0aWNhbE9mZnNldCkpO1xuXG5cdFx0XHRcdC8vIEFkZCBvdXIgb2JqZWN0IHRvIHRoZSBwYXJ0aWNsZXMgY29sbGVjdGlvblxuXHRcdFx0XHRzZWxmLnBhcnRpY2xlcy5wdXNoKHtcblx0XHRcdFx0XHQkZWxlbWVudDogJHRoaXMsXG5cdFx0XHRcdFx0JG9mZnNldFBhcmVudDogJG9mZnNldFBhcmVudCxcblx0XHRcdFx0XHRpc0ZpeGVkOiAkdGhpcy5jc3MoJ3Bvc2l0aW9uJykgPT09ICdmaXhlZCcsXG5cdFx0XHRcdFx0aG9yaXpvbnRhbE9mZnNldDogaG9yaXpvbnRhbE9mZnNldCxcblx0XHRcdFx0XHR2ZXJ0aWNhbE9mZnNldDogdmVydGljYWxPZmZzZXQsXG5cdFx0XHRcdFx0c3RhcnRpbmdQb3NpdGlvbkxlZnQ6IHBvc2l0aW9uTGVmdCxcblx0XHRcdFx0XHRzdGFydGluZ1Bvc2l0aW9uVG9wOiBwb3NpdGlvblRvcCxcblx0XHRcdFx0XHRzdGFydGluZ09mZnNldExlZnQ6IG9mZnNldExlZnQsXG5cdFx0XHRcdFx0c3RhcnRpbmdPZmZzZXRUb3A6IG9mZnNldFRvcCxcblx0XHRcdFx0XHRwYXJlbnRPZmZzZXRMZWZ0OiBwYXJlbnRPZmZzZXRMZWZ0LFxuXHRcdFx0XHRcdHBhcmVudE9mZnNldFRvcDogcGFyZW50T2Zmc2V0VG9wLFxuXHRcdFx0XHRcdHN0ZWxsYXJSYXRpbzogKCR0aGlzLmRhdGEoJ3N0ZWxsYXItcmF0aW8nKSAhPT0gdW5kZWZpbmVkID8gJHRoaXMuZGF0YSgnc3RlbGxhci1yYXRpbycpIDogMSksXG5cdFx0XHRcdFx0d2lkdGg6ICR0aGlzLm91dGVyV2lkdGgodHJ1ZSksXG5cdFx0XHRcdFx0aGVpZ2h0OiAkdGhpcy5vdXRlckhlaWdodCh0cnVlKSxcblx0XHRcdFx0XHRpc0hpZGRlbjogZmFsc2Vcblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXHRcdF9maW5kQmFja2dyb3VuZHM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzLFxuXHRcdFx0XHRzY3JvbGxMZWZ0ID0gdGhpcy5fZ2V0U2Nyb2xsTGVmdCgpLFxuXHRcdFx0XHRzY3JvbGxUb3AgPSB0aGlzLl9nZXRTY3JvbGxUb3AoKSxcblx0XHRcdFx0JGJhY2tncm91bmRFbGVtZW50cztcblxuXHRcdFx0dGhpcy5iYWNrZ3JvdW5kcyA9IFtdO1xuXG5cdFx0XHRpZiAoIXRoaXMub3B0aW9ucy5wYXJhbGxheEJhY2tncm91bmRzKSByZXR1cm47XG5cblx0XHRcdCRiYWNrZ3JvdW5kRWxlbWVudHMgPSB0aGlzLiRlbGVtZW50LmZpbmQoJ1tkYXRhLXN0ZWxsYXItYmFja2dyb3VuZC1yYXRpb10nKTtcblxuXHRcdFx0aWYgKHRoaXMuJGVsZW1lbnQuZGF0YSgnc3RlbGxhci1iYWNrZ3JvdW5kLXJhdGlvJykpIHtcbiAgICAgICAgICAgICAgICAkYmFja2dyb3VuZEVsZW1lbnRzID0gJGJhY2tncm91bmRFbGVtZW50cy5hZGQodGhpcy4kZWxlbWVudCk7XG5cdFx0XHR9XG5cblx0XHRcdCRiYWNrZ3JvdW5kRWxlbWVudHMuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyICR0aGlzID0gJCh0aGlzKSxcblx0XHRcdFx0XHRiYWNrZ3JvdW5kUG9zaXRpb24gPSBnZXRCYWNrZ3JvdW5kUG9zaXRpb24oJHRoaXMpLFxuXHRcdFx0XHRcdGhvcml6b250YWxPZmZzZXQsXG5cdFx0XHRcdFx0dmVydGljYWxPZmZzZXQsXG5cdFx0XHRcdFx0cG9zaXRpb25MZWZ0LFxuXHRcdFx0XHRcdHBvc2l0aW9uVG9wLFxuXHRcdFx0XHRcdG1hcmdpbkxlZnQsXG5cdFx0XHRcdFx0bWFyZ2luVG9wLFxuXHRcdFx0XHRcdG9mZnNldExlZnQsXG5cdFx0XHRcdFx0b2Zmc2V0VG9wLFxuXHRcdFx0XHRcdCRvZmZzZXRQYXJlbnQsXG5cdFx0XHRcdFx0cGFyZW50T2Zmc2V0TGVmdCA9IDAsXG5cdFx0XHRcdFx0cGFyZW50T2Zmc2V0VG9wID0gMCxcblx0XHRcdFx0XHR0ZW1wUGFyZW50T2Zmc2V0TGVmdCA9IDAsXG5cdFx0XHRcdFx0dGVtcFBhcmVudE9mZnNldFRvcCA9IDA7XG5cblx0XHRcdFx0Ly8gRW5zdXJlIHRoaXMgZWxlbWVudCBpc24ndCBhbHJlYWR5IHBhcnQgb2YgYW5vdGhlciBzY3JvbGxpbmcgZWxlbWVudFxuXHRcdFx0XHRpZiAoISR0aGlzLmRhdGEoJ3N0ZWxsYXItYmFja2dyb3VuZElzQWN0aXZlJykpIHtcblx0XHRcdFx0XHQkdGhpcy5kYXRhKCdzdGVsbGFyLWJhY2tncm91bmRJc0FjdGl2ZScsIHRoaXMpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKCR0aGlzLmRhdGEoJ3N0ZWxsYXItYmFja2dyb3VuZElzQWN0aXZlJykgIT09IHRoaXMpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBTYXZlL3Jlc3RvcmUgdGhlIG9yaWdpbmFsIHRvcCBhbmQgbGVmdCBDU1MgdmFsdWVzIGluIGNhc2Ugd2UgZGVzdHJveSB0aGUgaW5zdGFuY2Vcblx0XHRcdFx0aWYgKCEkdGhpcy5kYXRhKCdzdGVsbGFyLWJhY2tncm91bmRTdGFydGluZ0xlZnQnKSkge1xuXHRcdFx0XHRcdCR0aGlzLmRhdGEoJ3N0ZWxsYXItYmFja2dyb3VuZFN0YXJ0aW5nTGVmdCcsIGJhY2tncm91bmRQb3NpdGlvblswXSk7XG5cdFx0XHRcdFx0JHRoaXMuZGF0YSgnc3RlbGxhci1iYWNrZ3JvdW5kU3RhcnRpbmdUb3AnLCBiYWNrZ3JvdW5kUG9zaXRpb25bMV0pO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHNldEJhY2tncm91bmRQb3NpdGlvbigkdGhpcywgJHRoaXMuZGF0YSgnc3RlbGxhci1iYWNrZ3JvdW5kU3RhcnRpbmdMZWZ0JyksICR0aGlzLmRhdGEoJ3N0ZWxsYXItYmFja2dyb3VuZFN0YXJ0aW5nVG9wJykpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQ2F0Y2gtYWxsIGZvciBtYXJnaW4gdG9wL2xlZnQgcHJvcGVydGllcyAodGhlc2UgZXZhbHVhdGUgdG8gJ2F1dG8nIGluIElFNyBhbmQgSUU4KVxuXHRcdFx0XHRtYXJnaW5MZWZ0ID0gKCR0aGlzLmNzcygnbWFyZ2luLWxlZnQnKSA9PT0gJ2F1dG8nKSA/IDAgOiBwYXJzZUludCgkdGhpcy5jc3MoJ21hcmdpbi1sZWZ0JyksIDEwKTtcblx0XHRcdFx0bWFyZ2luVG9wID0gKCR0aGlzLmNzcygnbWFyZ2luLXRvcCcpID09PSAnYXV0bycpID8gMCA6IHBhcnNlSW50KCR0aGlzLmNzcygnbWFyZ2luLXRvcCcpLCAxMCk7XG5cblx0XHRcdFx0b2Zmc2V0TGVmdCA9ICR0aGlzLm9mZnNldCgpLmxlZnQgLSBtYXJnaW5MZWZ0IC0gc2Nyb2xsTGVmdDtcblx0XHRcdFx0b2Zmc2V0VG9wID0gJHRoaXMub2Zmc2V0KCkudG9wIC0gbWFyZ2luVG9wIC0gc2Nyb2xsVG9wO1xuXHRcdFx0XHRcblx0XHRcdFx0Ly8gQ2FsY3VsYXRlIHRoZSBvZmZzZXQgcGFyZW50XG5cdFx0XHRcdCR0aGlzLnBhcmVudHMoKS5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHZhciAkdGhpcyA9ICQodGhpcyk7XG5cblx0XHRcdFx0XHRpZiAoJHRoaXMuZGF0YSgnc3RlbGxhci1vZmZzZXQtcGFyZW50JykgPT09IHRydWUpIHtcblx0XHRcdFx0XHRcdHBhcmVudE9mZnNldExlZnQgPSB0ZW1wUGFyZW50T2Zmc2V0TGVmdDtcblx0XHRcdFx0XHRcdHBhcmVudE9mZnNldFRvcCA9IHRlbXBQYXJlbnRPZmZzZXRUb3A7XG5cdFx0XHRcdFx0XHQkb2Zmc2V0UGFyZW50ID0gJHRoaXM7XG5cblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0dGVtcFBhcmVudE9mZnNldExlZnQgKz0gJHRoaXMucG9zaXRpb24oKS5sZWZ0O1xuXHRcdFx0XHRcdFx0dGVtcFBhcmVudE9mZnNldFRvcCArPSAkdGhpcy5wb3NpdGlvbigpLnRvcDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdC8vIERldGVjdCB0aGUgb2Zmc2V0c1xuXHRcdFx0XHRob3Jpem9udGFsT2Zmc2V0ID0gKCR0aGlzLmRhdGEoJ3N0ZWxsYXItaG9yaXpvbnRhbC1vZmZzZXQnKSAhPT0gdW5kZWZpbmVkID8gJHRoaXMuZGF0YSgnc3RlbGxhci1ob3Jpem9udGFsLW9mZnNldCcpIDogKCRvZmZzZXRQYXJlbnQgIT09IHVuZGVmaW5lZCAmJiAkb2Zmc2V0UGFyZW50LmRhdGEoJ3N0ZWxsYXItaG9yaXpvbnRhbC1vZmZzZXQnKSAhPT0gdW5kZWZpbmVkID8gJG9mZnNldFBhcmVudC5kYXRhKCdzdGVsbGFyLWhvcml6b250YWwtb2Zmc2V0JykgOiBzZWxmLmhvcml6b250YWxPZmZzZXQpKTtcblx0XHRcdFx0dmVydGljYWxPZmZzZXQgPSAoJHRoaXMuZGF0YSgnc3RlbGxhci12ZXJ0aWNhbC1vZmZzZXQnKSAhPT0gdW5kZWZpbmVkID8gJHRoaXMuZGF0YSgnc3RlbGxhci12ZXJ0aWNhbC1vZmZzZXQnKSA6ICgkb2Zmc2V0UGFyZW50ICE9PSB1bmRlZmluZWQgJiYgJG9mZnNldFBhcmVudC5kYXRhKCdzdGVsbGFyLXZlcnRpY2FsLW9mZnNldCcpICE9PSB1bmRlZmluZWQgPyAkb2Zmc2V0UGFyZW50LmRhdGEoJ3N0ZWxsYXItdmVydGljYWwtb2Zmc2V0JykgOiBzZWxmLnZlcnRpY2FsT2Zmc2V0KSk7XG5cblx0XHRcdFx0c2VsZi5iYWNrZ3JvdW5kcy5wdXNoKHtcblx0XHRcdFx0XHQkZWxlbWVudDogJHRoaXMsXG5cdFx0XHRcdFx0JG9mZnNldFBhcmVudDogJG9mZnNldFBhcmVudCxcblx0XHRcdFx0XHRpc0ZpeGVkOiAkdGhpcy5jc3MoJ2JhY2tncm91bmQtYXR0YWNobWVudCcpID09PSAnZml4ZWQnLFxuXHRcdFx0XHRcdGhvcml6b250YWxPZmZzZXQ6IGhvcml6b250YWxPZmZzZXQsXG5cdFx0XHRcdFx0dmVydGljYWxPZmZzZXQ6IHZlcnRpY2FsT2Zmc2V0LFxuXHRcdFx0XHRcdHN0YXJ0aW5nVmFsdWVMZWZ0OiBiYWNrZ3JvdW5kUG9zaXRpb25bMF0sXG5cdFx0XHRcdFx0c3RhcnRpbmdWYWx1ZVRvcDogYmFja2dyb3VuZFBvc2l0aW9uWzFdLFxuXHRcdFx0XHRcdHN0YXJ0aW5nQmFja2dyb3VuZFBvc2l0aW9uTGVmdDogKGlzTmFOKHBhcnNlSW50KGJhY2tncm91bmRQb3NpdGlvblswXSwgMTApKSA/IDAgOiBwYXJzZUludChiYWNrZ3JvdW5kUG9zaXRpb25bMF0sIDEwKSksXG5cdFx0XHRcdFx0c3RhcnRpbmdCYWNrZ3JvdW5kUG9zaXRpb25Ub3A6IChpc05hTihwYXJzZUludChiYWNrZ3JvdW5kUG9zaXRpb25bMV0sIDEwKSkgPyAwIDogcGFyc2VJbnQoYmFja2dyb3VuZFBvc2l0aW9uWzFdLCAxMCkpLFxuXHRcdFx0XHRcdHN0YXJ0aW5nUG9zaXRpb25MZWZ0OiAkdGhpcy5wb3NpdGlvbigpLmxlZnQsXG5cdFx0XHRcdFx0c3RhcnRpbmdQb3NpdGlvblRvcDogJHRoaXMucG9zaXRpb24oKS50b3AsXG5cdFx0XHRcdFx0c3RhcnRpbmdPZmZzZXRMZWZ0OiBvZmZzZXRMZWZ0LFxuXHRcdFx0XHRcdHN0YXJ0aW5nT2Zmc2V0VG9wOiBvZmZzZXRUb3AsXG5cdFx0XHRcdFx0cGFyZW50T2Zmc2V0TGVmdDogcGFyZW50T2Zmc2V0TGVmdCxcblx0XHRcdFx0XHRwYXJlbnRPZmZzZXRUb3A6IHBhcmVudE9mZnNldFRvcCxcblx0XHRcdFx0XHRzdGVsbGFyUmF0aW86ICgkdGhpcy5kYXRhKCdzdGVsbGFyLWJhY2tncm91bmQtcmF0aW8nKSA9PT0gdW5kZWZpbmVkID8gMSA6ICR0aGlzLmRhdGEoJ3N0ZWxsYXItYmFja2dyb3VuZC1yYXRpbycpKVxuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cdFx0X3Jlc2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBwYXJ0aWNsZSxcblx0XHRcdFx0c3RhcnRpbmdQb3NpdGlvbkxlZnQsXG5cdFx0XHRcdHN0YXJ0aW5nUG9zaXRpb25Ub3AsXG5cdFx0XHRcdGJhY2tncm91bmQsXG5cdFx0XHRcdGk7XG5cblx0XHRcdGZvciAoaSA9IHRoaXMucGFydGljbGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0XHRcdHBhcnRpY2xlID0gdGhpcy5wYXJ0aWNsZXNbaV07XG5cdFx0XHRcdHN0YXJ0aW5nUG9zaXRpb25MZWZ0ID0gcGFydGljbGUuJGVsZW1lbnQuZGF0YSgnc3RlbGxhci1zdGFydGluZ0xlZnQnKTtcblx0XHRcdFx0c3RhcnRpbmdQb3NpdGlvblRvcCA9IHBhcnRpY2xlLiRlbGVtZW50LmRhdGEoJ3N0ZWxsYXItc3RhcnRpbmdUb3AnKTtcblxuXHRcdFx0XHR0aGlzLl9zZXRQb3NpdGlvbihwYXJ0aWNsZS4kZWxlbWVudCwgc3RhcnRpbmdQb3NpdGlvbkxlZnQsIHN0YXJ0aW5nUG9zaXRpb25MZWZ0LCBzdGFydGluZ1Bvc2l0aW9uVG9wLCBzdGFydGluZ1Bvc2l0aW9uVG9wKTtcblxuXHRcdFx0XHR0aGlzLm9wdGlvbnMuc2hvd0VsZW1lbnQocGFydGljbGUuJGVsZW1lbnQpO1xuXG5cdFx0XHRcdHBhcnRpY2xlLiRlbGVtZW50LmRhdGEoJ3N0ZWxsYXItc3RhcnRpbmdMZWZ0JywgbnVsbCkuZGF0YSgnc3RlbGxhci1lbGVtZW50SXNBY3RpdmUnLCBudWxsKS5kYXRhKCdzdGVsbGFyLWJhY2tncm91bmRJc0FjdGl2ZScsIG51bGwpO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3IgKGkgPSB0aGlzLmJhY2tncm91bmRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0XHRcdGJhY2tncm91bmQgPSB0aGlzLmJhY2tncm91bmRzW2ldO1xuXG5cdFx0XHRcdGJhY2tncm91bmQuJGVsZW1lbnQuZGF0YSgnc3RlbGxhci1iYWNrZ3JvdW5kU3RhcnRpbmdMZWZ0JywgbnVsbCkuZGF0YSgnc3RlbGxhci1iYWNrZ3JvdW5kU3RhcnRpbmdUb3AnLCBudWxsKTtcblxuXHRcdFx0XHRzZXRCYWNrZ3JvdW5kUG9zaXRpb24oYmFja2dyb3VuZC4kZWxlbWVudCwgYmFja2dyb3VuZC5zdGFydGluZ1ZhbHVlTGVmdCwgYmFja2dyb3VuZC5zdGFydGluZ1ZhbHVlVG9wKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5fcmVzZXQoKTtcblxuXHRcdFx0dGhpcy4kc2Nyb2xsRWxlbWVudC51bmJpbmQoJ3Jlc2l6ZS4nICsgdGhpcy5uYW1lKS51bmJpbmQoJ3Njcm9sbC4nICsgdGhpcy5uYW1lKTtcblx0XHRcdHRoaXMuX2FuaW1hdGlvbkxvb3AgPSAkLm5vb3A7XG5cblx0XHRcdCQod2luZG93KS51bmJpbmQoJ2xvYWQuJyArIHRoaXMubmFtZSkudW5iaW5kKCdyZXNpemUuJyArIHRoaXMubmFtZSk7XG5cdFx0fSxcblx0XHRfc2V0T2Zmc2V0czogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXMsXG5cdFx0XHRcdCR3aW5kb3cgPSAkKHdpbmRvdyk7XG5cblx0XHRcdCR3aW5kb3cudW5iaW5kKCdyZXNpemUuaG9yaXpvbnRhbC0nICsgdGhpcy5uYW1lKS51bmJpbmQoJ3Jlc2l6ZS52ZXJ0aWNhbC0nICsgdGhpcy5uYW1lKTtcblxuXHRcdFx0aWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMuaG9yaXpvbnRhbE9mZnNldCA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHR0aGlzLmhvcml6b250YWxPZmZzZXQgPSB0aGlzLm9wdGlvbnMuaG9yaXpvbnRhbE9mZnNldCgpO1xuXHRcdFx0XHQkd2luZG93LmJpbmQoJ3Jlc2l6ZS5ob3Jpem9udGFsLScgKyB0aGlzLm5hbWUsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHNlbGYuaG9yaXpvbnRhbE9mZnNldCA9IHNlbGYub3B0aW9ucy5ob3Jpem9udGFsT2Zmc2V0KCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5ob3Jpem9udGFsT2Zmc2V0ID0gdGhpcy5vcHRpb25zLmhvcml6b250YWxPZmZzZXQ7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLnZlcnRpY2FsT2Zmc2V0ID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdHRoaXMudmVydGljYWxPZmZzZXQgPSB0aGlzLm9wdGlvbnMudmVydGljYWxPZmZzZXQoKTtcblx0XHRcdFx0JHdpbmRvdy5iaW5kKCdyZXNpemUudmVydGljYWwtJyArIHRoaXMubmFtZSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0c2VsZi52ZXJ0aWNhbE9mZnNldCA9IHNlbGYub3B0aW9ucy52ZXJ0aWNhbE9mZnNldCgpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMudmVydGljYWxPZmZzZXQgPSB0aGlzLm9wdGlvbnMudmVydGljYWxPZmZzZXQ7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRfcmVwb3NpdGlvbkVsZW1lbnRzOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBzY3JvbGxMZWZ0ID0gdGhpcy5fZ2V0U2Nyb2xsTGVmdCgpLFxuXHRcdFx0XHRzY3JvbGxUb3AgPSB0aGlzLl9nZXRTY3JvbGxUb3AoKSxcblx0XHRcdFx0aG9yaXpvbnRhbE9mZnNldCxcblx0XHRcdFx0dmVydGljYWxPZmZzZXQsXG5cdFx0XHRcdHBhcnRpY2xlLFxuXHRcdFx0XHRmaXhlZFJhdGlvT2Zmc2V0LFxuXHRcdFx0XHRiYWNrZ3JvdW5kLFxuXHRcdFx0XHRiZ0xlZnQsXG5cdFx0XHRcdGJnVG9wLFxuXHRcdFx0XHRpc1Zpc2libGVWZXJ0aWNhbCA9IHRydWUsXG5cdFx0XHRcdGlzVmlzaWJsZUhvcml6b250YWwgPSB0cnVlLFxuXHRcdFx0XHRuZXdQb3NpdGlvbkxlZnQsXG5cdFx0XHRcdG5ld1Bvc2l0aW9uVG9wLFxuXHRcdFx0XHRuZXdPZmZzZXRMZWZ0LFxuXHRcdFx0XHRuZXdPZmZzZXRUb3AsXG5cdFx0XHRcdGk7XG5cblx0XHRcdC8vIEZpcnN0IGNoZWNrIHRoYXQgdGhlIHNjcm9sbCBwb3NpdGlvbiBvciBjb250YWluZXIgc2l6ZSBoYXMgY2hhbmdlZFxuXHRcdFx0aWYgKHRoaXMuY3VycmVudFNjcm9sbExlZnQgPT09IHNjcm9sbExlZnQgJiYgdGhpcy5jdXJyZW50U2Nyb2xsVG9wID09PSBzY3JvbGxUb3AgJiYgdGhpcy5jdXJyZW50V2lkdGggPT09IHRoaXMudmlld3BvcnRXaWR0aCAmJiB0aGlzLmN1cnJlbnRIZWlnaHQgPT09IHRoaXMudmlld3BvcnRIZWlnaHQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5jdXJyZW50U2Nyb2xsTGVmdCA9IHNjcm9sbExlZnQ7XG5cdFx0XHRcdHRoaXMuY3VycmVudFNjcm9sbFRvcCA9IHNjcm9sbFRvcDtcblx0XHRcdFx0dGhpcy5jdXJyZW50V2lkdGggPSB0aGlzLnZpZXdwb3J0V2lkdGg7XG5cdFx0XHRcdHRoaXMuY3VycmVudEhlaWdodCA9IHRoaXMudmlld3BvcnRIZWlnaHQ7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJlcG9zaXRpb24gZWxlbWVudHNcblx0XHRcdGZvciAoaSA9IHRoaXMucGFydGljbGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0XHRcdHBhcnRpY2xlID0gdGhpcy5wYXJ0aWNsZXNbaV07XG5cblx0XHRcdFx0Zml4ZWRSYXRpb09mZnNldCA9IChwYXJ0aWNsZS5pc0ZpeGVkID8gMSA6IDApO1xuXG5cdFx0XHRcdC8vIENhbGN1bGF0ZSBwb3NpdGlvbiwgdGhlbiBjYWxjdWxhdGUgd2hhdCB0aGUgcGFydGljbGUncyBuZXcgb2Zmc2V0IHdpbGwgYmUgKGZvciB2aXNpYmlsaXR5IGNoZWNrKVxuXHRcdFx0XHRpZiAodGhpcy5vcHRpb25zLmhvcml6b250YWxTY3JvbGxpbmcpIHtcblx0XHRcdFx0XHRuZXdQb3NpdGlvbkxlZnQgPSAoc2Nyb2xsTGVmdCArIHBhcnRpY2xlLmhvcml6b250YWxPZmZzZXQgKyB0aGlzLnZpZXdwb3J0T2Zmc2V0TGVmdCArIHBhcnRpY2xlLnN0YXJ0aW5nUG9zaXRpb25MZWZ0IC0gcGFydGljbGUuc3RhcnRpbmdPZmZzZXRMZWZ0ICsgcGFydGljbGUucGFyZW50T2Zmc2V0TGVmdCkgKiAtKHBhcnRpY2xlLnN0ZWxsYXJSYXRpbyArIGZpeGVkUmF0aW9PZmZzZXQgLSAxKSArIHBhcnRpY2xlLnN0YXJ0aW5nUG9zaXRpb25MZWZ0O1xuXHRcdFx0XHRcdG5ld09mZnNldExlZnQgPSBuZXdQb3NpdGlvbkxlZnQgLSBwYXJ0aWNsZS5zdGFydGluZ1Bvc2l0aW9uTGVmdCArIHBhcnRpY2xlLnN0YXJ0aW5nT2Zmc2V0TGVmdDtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRuZXdQb3NpdGlvbkxlZnQgPSBwYXJ0aWNsZS5zdGFydGluZ1Bvc2l0aW9uTGVmdDtcblx0XHRcdFx0XHRuZXdPZmZzZXRMZWZ0ID0gcGFydGljbGUuc3RhcnRpbmdPZmZzZXRMZWZ0O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHRoaXMub3B0aW9ucy52ZXJ0aWNhbFNjcm9sbGluZykge1xuXHRcdFx0XHRcdG5ld1Bvc2l0aW9uVG9wID0gKHNjcm9sbFRvcCArIHBhcnRpY2xlLnZlcnRpY2FsT2Zmc2V0ICsgdGhpcy52aWV3cG9ydE9mZnNldFRvcCArIHBhcnRpY2xlLnN0YXJ0aW5nUG9zaXRpb25Ub3AgLSBwYXJ0aWNsZS5zdGFydGluZ09mZnNldFRvcCArIHBhcnRpY2xlLnBhcmVudE9mZnNldFRvcCkgKiAtKHBhcnRpY2xlLnN0ZWxsYXJSYXRpbyArIGZpeGVkUmF0aW9PZmZzZXQgLSAxKSArIHBhcnRpY2xlLnN0YXJ0aW5nUG9zaXRpb25Ub3A7XG5cdFx0XHRcdFx0bmV3T2Zmc2V0VG9wID0gbmV3UG9zaXRpb25Ub3AgLSBwYXJ0aWNsZS5zdGFydGluZ1Bvc2l0aW9uVG9wICsgcGFydGljbGUuc3RhcnRpbmdPZmZzZXRUb3A7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bmV3UG9zaXRpb25Ub3AgPSBwYXJ0aWNsZS5zdGFydGluZ1Bvc2l0aW9uVG9wO1xuXHRcdFx0XHRcdG5ld09mZnNldFRvcCA9IHBhcnRpY2xlLnN0YXJ0aW5nT2Zmc2V0VG9wO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQ2hlY2sgdmlzaWJpbGl0eVxuXHRcdFx0XHRpZiAodGhpcy5vcHRpb25zLmhpZGVEaXN0YW50RWxlbWVudHMpIHtcblx0XHRcdFx0XHRpc1Zpc2libGVIb3Jpem9udGFsID0gIXRoaXMub3B0aW9ucy5ob3Jpem9udGFsU2Nyb2xsaW5nIHx8IG5ld09mZnNldExlZnQgKyBwYXJ0aWNsZS53aWR0aCA+IChwYXJ0aWNsZS5pc0ZpeGVkID8gMCA6IHNjcm9sbExlZnQpICYmIG5ld09mZnNldExlZnQgPCAocGFydGljbGUuaXNGaXhlZCA/IDAgOiBzY3JvbGxMZWZ0KSArIHRoaXMudmlld3BvcnRXaWR0aCArIHRoaXMudmlld3BvcnRPZmZzZXRMZWZ0O1xuXHRcdFx0XHRcdGlzVmlzaWJsZVZlcnRpY2FsID0gIXRoaXMub3B0aW9ucy52ZXJ0aWNhbFNjcm9sbGluZyB8fCBuZXdPZmZzZXRUb3AgKyBwYXJ0aWNsZS5oZWlnaHQgPiAocGFydGljbGUuaXNGaXhlZCA/IDAgOiBzY3JvbGxUb3ApICYmIG5ld09mZnNldFRvcCA8IChwYXJ0aWNsZS5pc0ZpeGVkID8gMCA6IHNjcm9sbFRvcCkgKyB0aGlzLnZpZXdwb3J0SGVpZ2h0ICsgdGhpcy52aWV3cG9ydE9mZnNldFRvcDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChpc1Zpc2libGVIb3Jpem9udGFsICYmIGlzVmlzaWJsZVZlcnRpY2FsKSB7XG5cdFx0XHRcdFx0aWYgKHBhcnRpY2xlLmlzSGlkZGVuKSB7XG5cdFx0XHRcdFx0XHR0aGlzLm9wdGlvbnMuc2hvd0VsZW1lbnQocGFydGljbGUuJGVsZW1lbnQpO1xuXHRcdFx0XHRcdFx0cGFydGljbGUuaXNIaWRkZW4gPSBmYWxzZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR0aGlzLl9zZXRQb3NpdGlvbihwYXJ0aWNsZS4kZWxlbWVudCwgbmV3UG9zaXRpb25MZWZ0LCBwYXJ0aWNsZS5zdGFydGluZ1Bvc2l0aW9uTGVmdCwgbmV3UG9zaXRpb25Ub3AsIHBhcnRpY2xlLnN0YXJ0aW5nUG9zaXRpb25Ub3ApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmICghcGFydGljbGUuaXNIaWRkZW4pIHtcblx0XHRcdFx0XHRcdHRoaXMub3B0aW9ucy5oaWRlRWxlbWVudChwYXJ0aWNsZS4kZWxlbWVudCk7XG5cdFx0XHRcdFx0XHRwYXJ0aWNsZS5pc0hpZGRlbiA9IHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJlcG9zaXRpb24gYmFja2dyb3VuZHNcblx0XHRcdGZvciAoaSA9IHRoaXMuYmFja2dyb3VuZHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHRcdFx0YmFja2dyb3VuZCA9IHRoaXMuYmFja2dyb3VuZHNbaV07XG5cblx0XHRcdFx0Zml4ZWRSYXRpb09mZnNldCA9IChiYWNrZ3JvdW5kLmlzRml4ZWQgPyAwIDogMSk7XG5cdFx0XHRcdGJnTGVmdCA9ICh0aGlzLm9wdGlvbnMuaG9yaXpvbnRhbFNjcm9sbGluZyA/IChzY3JvbGxMZWZ0ICsgYmFja2dyb3VuZC5ob3Jpem9udGFsT2Zmc2V0IC0gdGhpcy52aWV3cG9ydE9mZnNldExlZnQgLSBiYWNrZ3JvdW5kLnN0YXJ0aW5nT2Zmc2V0TGVmdCArIGJhY2tncm91bmQucGFyZW50T2Zmc2V0TGVmdCAtIGJhY2tncm91bmQuc3RhcnRpbmdCYWNrZ3JvdW5kUG9zaXRpb25MZWZ0KSAqIChmaXhlZFJhdGlvT2Zmc2V0IC0gYmFja2dyb3VuZC5zdGVsbGFyUmF0aW8pICsgJ3B4JyA6IGJhY2tncm91bmQuc3RhcnRpbmdWYWx1ZUxlZnQpO1xuXHRcdFx0XHRiZ1RvcCA9ICh0aGlzLm9wdGlvbnMudmVydGljYWxTY3JvbGxpbmcgPyAoc2Nyb2xsVG9wICsgYmFja2dyb3VuZC52ZXJ0aWNhbE9mZnNldCAtIHRoaXMudmlld3BvcnRPZmZzZXRUb3AgLSBiYWNrZ3JvdW5kLnN0YXJ0aW5nT2Zmc2V0VG9wICsgYmFja2dyb3VuZC5wYXJlbnRPZmZzZXRUb3AgLSBiYWNrZ3JvdW5kLnN0YXJ0aW5nQmFja2dyb3VuZFBvc2l0aW9uVG9wKSAqIChmaXhlZFJhdGlvT2Zmc2V0IC0gYmFja2dyb3VuZC5zdGVsbGFyUmF0aW8pICsgJ3B4JyA6IGJhY2tncm91bmQuc3RhcnRpbmdWYWx1ZVRvcCk7XG5cblx0XHRcdFx0c2V0QmFja2dyb3VuZFBvc2l0aW9uKGJhY2tncm91bmQuJGVsZW1lbnQsIGJnTGVmdCwgYmdUb3ApO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0X2hhbmRsZVNjcm9sbEV2ZW50OiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcyxcblx0XHRcdFx0dGlja2luZyA9IGZhbHNlO1xuXG5cdFx0XHR2YXIgdXBkYXRlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHNlbGYuX3JlcG9zaXRpb25FbGVtZW50cygpO1xuXHRcdFx0XHR0aWNraW5nID0gZmFsc2U7XG5cdFx0XHR9O1xuXG5cdFx0XHR2YXIgcmVxdWVzdFRpY2sgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCF0aWNraW5nKSB7XG5cdFx0XHRcdFx0cmVxdWVzdEFuaW1GcmFtZSh1cGRhdGUpO1xuXHRcdFx0XHRcdHRpY2tpbmcgPSB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdFx0XG5cdFx0XHR0aGlzLiRzY3JvbGxFbGVtZW50LmJpbmQoJ3Njcm9sbC4nICsgdGhpcy5uYW1lLCByZXF1ZXN0VGljayk7XG5cdFx0XHRyZXF1ZXN0VGljaygpO1xuXHRcdH0sXG5cdFx0X3N0YXJ0QW5pbWF0aW9uTG9vcDogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdHRoaXMuX2FuaW1hdGlvbkxvb3AgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmVxdWVzdEFuaW1GcmFtZShzZWxmLl9hbmltYXRpb25Mb29wKTtcblx0XHRcdFx0c2VsZi5fcmVwb3NpdGlvbkVsZW1lbnRzKCk7XG5cdFx0XHR9O1xuXHRcdFx0dGhpcy5fYW5pbWF0aW9uTG9vcCgpO1xuXHRcdH1cblx0fTtcblxuXHQkLmZuW3BsdWdpbk5hbWVdID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcblx0XHR2YXIgYXJncyA9IGFyZ3VtZW50cztcblx0XHRpZiAob3B0aW9ucyA9PT0gdW5kZWZpbmVkIHx8IHR5cGVvZiBvcHRpb25zID09PSAnb2JqZWN0Jykge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdGlmICghJC5kYXRhKHRoaXMsICdwbHVnaW5fJyArIHBsdWdpbk5hbWUpKSB7XG5cdFx0XHRcdFx0JC5kYXRhKHRoaXMsICdwbHVnaW5fJyArIHBsdWdpbk5hbWUsIG5ldyBQbHVnaW4odGhpcywgb3B0aW9ucykpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnc3RyaW5nJyAmJiBvcHRpb25zWzBdICE9PSAnXycgJiYgb3B0aW9ucyAhPT0gJ2luaXQnKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0dmFyIGluc3RhbmNlID0gJC5kYXRhKHRoaXMsICdwbHVnaW5fJyArIHBsdWdpbk5hbWUpO1xuXHRcdFx0XHRpZiAoaW5zdGFuY2UgaW5zdGFuY2VvZiBQbHVnaW4gJiYgdHlwZW9mIGluc3RhbmNlW29wdGlvbnNdID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0aW5zdGFuY2Vbb3B0aW9uc10uYXBwbHkoaW5zdGFuY2UsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3MsIDEpKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAob3B0aW9ucyA9PT0gJ2Rlc3Ryb3knKSB7XG5cdFx0XHRcdFx0JC5kYXRhKHRoaXMsICdwbHVnaW5fJyArIHBsdWdpbk5hbWUsIG51bGwpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cdH07XG5cblx0JFtwbHVnaW5OYW1lXSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0XHR2YXIgJHdpbmRvdyA9ICQod2luZG93KTtcblx0XHRyZXR1cm4gJHdpbmRvdy5zdGVsbGFyLmFwcGx5KCR3aW5kb3csIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCkpO1xuXHR9O1xuXG5cdC8vIEV4cG9zZSB0aGUgc2Nyb2xsIGFuZCBwb3NpdGlvbiBwcm9wZXJ0eSBmdW5jdGlvbiBoYXNoZXMgc28gdGhleSBjYW4gYmUgZXh0ZW5kZWRcblx0JFtwbHVnaW5OYW1lXS5zY3JvbGxQcm9wZXJ0eSA9IHNjcm9sbFByb3BlcnR5O1xuXHQkW3BsdWdpbk5hbWVdLnBvc2l0aW9uUHJvcGVydHkgPSBwb3NpdGlvblByb3BlcnR5O1xuXG5cdC8vIEV4cG9zZSB0aGUgcGx1Z2luIGNsYXNzIHNvIGl0IGNhbiBiZSBtb2RpZmllZFxuXHR3aW5kb3cuU3RlbGxhciA9IFBsdWdpbjtcbn0oalF1ZXJ5LCB0aGlzLCBkb2N1bWVudCkpOyIsIi8qIVxuICogc21vb3RoLXNjcm9sbCB2MTAuMS4wOiBBbmltYXRlIHNjcm9sbGluZyB0byBhbmNob3IgbGlua3NcbiAqIChjKSAyMDE2IENocmlzIEZlcmRpbmFuZGlcbiAqIE1JVCBMaWNlbnNlXG4gKiBodHRwOi8vZ2l0aHViLmNvbS9jZmVyZGluYW5kaS9zbW9vdGgtc2Nyb2xsXG4gKi9cblxuKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG5cdGlmICggdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kICkge1xuXHRcdGRlZmluZShbXSwgZmFjdG9yeShyb290KSk7XG5cdH0gZWxzZSBpZiAoIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyApIHtcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3Rvcnkocm9vdCk7XG5cdH0gZWxzZSB7XG5cdFx0cm9vdC5zbW9vdGhTY3JvbGwgPSBmYWN0b3J5KHJvb3QpO1xuXHR9XG59KSh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbCA6IHRoaXMud2luZG93IHx8IHRoaXMuZ2xvYmFsLCAoZnVuY3Rpb24gKHJvb3QpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0Ly9cblx0Ly8gVmFyaWFibGVzXG5cdC8vXG5cblx0dmFyIHNtb290aFNjcm9sbCA9IHt9OyAvLyBPYmplY3QgZm9yIHB1YmxpYyBBUElzXG5cdHZhciBzdXBwb3J0cyA9ICdxdWVyeVNlbGVjdG9yJyBpbiBkb2N1bWVudCAmJiAnYWRkRXZlbnRMaXN0ZW5lcicgaW4gcm9vdDsgLy8gRmVhdHVyZSB0ZXN0XG5cdHZhciBzZXR0aW5ncywgYW5jaG9yLCB0b2dnbGUsIGZpeGVkSGVhZGVyLCBoZWFkZXJIZWlnaHQsIGV2ZW50VGltZW91dCwgYW5pbWF0aW9uSW50ZXJ2YWw7XG5cblx0Ly8gRGVmYXVsdCBzZXR0aW5nc1xuXHR2YXIgZGVmYXVsdHMgPSB7XG5cdFx0c2VsZWN0b3I6ICdbZGF0YS1zY3JvbGxdJyxcblx0XHRzZWxlY3RvckhlYWRlcjogbnVsbCxcblx0XHRzcGVlZDogNTAwLFxuXHRcdGVhc2luZzogJ2Vhc2VJbk91dEN1YmljJyxcblx0XHRvZmZzZXQ6IDAsXG5cdFx0Y2FsbGJhY2s6IGZ1bmN0aW9uICgpIHt9XG5cdH07XG5cblxuXHQvL1xuXHQvLyBNZXRob2RzXG5cdC8vXG5cblx0LyoqXG5cdCAqIE1lcmdlIHR3byBvciBtb3JlIG9iamVjdHMuIFJldHVybnMgYSBuZXcgb2JqZWN0LlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59ICBkZWVwICAgICBJZiB0cnVlLCBkbyBhIGRlZXAgKG9yIHJlY3Vyc2l2ZSkgbWVyZ2UgW29wdGlvbmFsXVxuXHQgKiBAcGFyYW0ge09iamVjdH0gICBvYmplY3RzICBUaGUgb2JqZWN0cyB0byBtZXJnZSB0b2dldGhlclxuXHQgKiBAcmV0dXJucyB7T2JqZWN0fSAgICAgICAgICBNZXJnZWQgdmFsdWVzIG9mIGRlZmF1bHRzIGFuZCBvcHRpb25zXG5cdCAqL1xuXHR2YXIgZXh0ZW5kID0gZnVuY3Rpb24gKCkge1xuXG5cdFx0Ly8gVmFyaWFibGVzXG5cdFx0dmFyIGV4dGVuZGVkID0ge307XG5cdFx0dmFyIGRlZXAgPSBmYWxzZTtcblx0XHR2YXIgaSA9IDA7XG5cdFx0dmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG5cblx0XHQvLyBDaGVjayBpZiBhIGRlZXAgbWVyZ2Vcblx0XHRpZiAoIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCggYXJndW1lbnRzWzBdICkgPT09ICdbb2JqZWN0IEJvb2xlYW5dJyApIHtcblx0XHRcdGRlZXAgPSBhcmd1bWVudHNbMF07XG5cdFx0XHRpKys7XG5cdFx0fVxuXG5cdFx0Ly8gTWVyZ2UgdGhlIG9iamVjdCBpbnRvIHRoZSBleHRlbmRlZCBvYmplY3Rcblx0XHR2YXIgbWVyZ2UgPSBmdW5jdGlvbiAob2JqKSB7XG5cdFx0XHRmb3IgKCB2YXIgcHJvcCBpbiBvYmogKSB7XG5cdFx0XHRcdGlmICggT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKCBvYmosIHByb3AgKSApIHtcblx0XHRcdFx0XHQvLyBJZiBkZWVwIG1lcmdlIGFuZCBwcm9wZXJ0eSBpcyBhbiBvYmplY3QsIG1lcmdlIHByb3BlcnRpZXNcblx0XHRcdFx0XHRpZiAoIGRlZXAgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9ialtwcm9wXSkgPT09ICdbb2JqZWN0IE9iamVjdF0nICkge1xuXHRcdFx0XHRcdFx0ZXh0ZW5kZWRbcHJvcF0gPSBleHRlbmQoIHRydWUsIGV4dGVuZGVkW3Byb3BdLCBvYmpbcHJvcF0gKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0ZXh0ZW5kZWRbcHJvcF0gPSBvYmpbcHJvcF07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdC8vIExvb3AgdGhyb3VnaCBlYWNoIG9iamVjdCBhbmQgY29uZHVjdCBhIG1lcmdlXG5cdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG5cdFx0XHR2YXIgb2JqID0gYXJndW1lbnRzW2ldO1xuXHRcdFx0bWVyZ2Uob2JqKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZXh0ZW5kZWQ7XG5cblx0fTtcblxuXHQvKipcblx0ICogR2V0IHRoZSBoZWlnaHQgb2YgYW4gZWxlbWVudC5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtICB7Tm9kZX0gZWxlbSBUaGUgZWxlbWVudCB0byBnZXQgdGhlIGhlaWdodCBvZlxuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9ICAgIFRoZSBlbGVtZW50J3MgaGVpZ2h0IGluIHBpeGVsc1xuXHQgKi9cblx0dmFyIGdldEhlaWdodCA9IGZ1bmN0aW9uICggZWxlbSApIHtcblx0XHRyZXR1cm4gTWF0aC5tYXgoIGVsZW0uc2Nyb2xsSGVpZ2h0LCBlbGVtLm9mZnNldEhlaWdodCwgZWxlbS5jbGllbnRIZWlnaHQgKTtcblx0fTtcblxuXHQvKipcblx0ICogR2V0IHRoZSBjbG9zZXN0IG1hdGNoaW5nIGVsZW1lbnQgdXAgdGhlIERPTSB0cmVlLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0gIHtFbGVtZW50fSBlbGVtICAgICBTdGFydGluZyBlbGVtZW50XG5cdCAqIEBwYXJhbSAge1N0cmluZ30gIHNlbGVjdG9yIFNlbGVjdG9yIHRvIG1hdGNoIGFnYWluc3QgKGNsYXNzLCBJRCwgZGF0YSBhdHRyaWJ1dGUsIG9yIHRhZylcblx0ICogQHJldHVybiB7Qm9vbGVhbnxFbGVtZW50fSAgUmV0dXJucyBudWxsIGlmIG5vdCBtYXRjaCBmb3VuZFxuXHQgKi9cblx0dmFyIGdldENsb3Nlc3QgPSBmdW5jdGlvbiAoIGVsZW0sIHNlbGVjdG9yICkge1xuXG5cdFx0Ly8gVmFyaWFibGVzXG5cdFx0dmFyIGZpcnN0Q2hhciA9IHNlbGVjdG9yLmNoYXJBdCgwKTtcblx0XHR2YXIgc3VwcG9ydHMgPSAnY2xhc3NMaXN0JyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cdFx0dmFyIGF0dHJpYnV0ZSwgdmFsdWU7XG5cblx0XHQvLyBJZiBzZWxlY3RvciBpcyBhIGRhdGEgYXR0cmlidXRlLCBzcGxpdCBhdHRyaWJ1dGUgZnJvbSB2YWx1ZVxuXHRcdGlmICggZmlyc3RDaGFyID09PSAnWycgKSB7XG5cdFx0XHRzZWxlY3RvciA9IHNlbGVjdG9yLnN1YnN0cigxLCBzZWxlY3Rvci5sZW5ndGggLSAyKTtcblx0XHRcdGF0dHJpYnV0ZSA9IHNlbGVjdG9yLnNwbGl0KCAnPScgKTtcblxuXHRcdFx0aWYgKCBhdHRyaWJ1dGUubGVuZ3RoID4gMSApIHtcblx0XHRcdFx0dmFsdWUgPSB0cnVlO1xuXHRcdFx0XHRhdHRyaWJ1dGVbMV0gPSBhdHRyaWJ1dGVbMV0ucmVwbGFjZSggL1wiL2csICcnICkucmVwbGFjZSggLycvZywgJycgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBHZXQgY2xvc2VzdCBtYXRjaFxuXHRcdGZvciAoIDsgZWxlbSAmJiBlbGVtICE9PSBkb2N1bWVudCAmJiBlbGVtLm5vZGVUeXBlID09PSAxOyBlbGVtID0gZWxlbS5wYXJlbnROb2RlICkge1xuXG5cdFx0XHQvLyBJZiBzZWxlY3RvciBpcyBhIGNsYXNzXG5cdFx0XHRpZiAoIGZpcnN0Q2hhciA9PT0gJy4nICkge1xuXHRcdFx0XHRpZiAoIHN1cHBvcnRzICkge1xuXHRcdFx0XHRcdGlmICggZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoIHNlbGVjdG9yLnN1YnN0cigxKSApICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGVsZW07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmICggbmV3IFJlZ0V4cCgnKF58XFxcXHMpJyArIHNlbGVjdG9yLnN1YnN0cigxKSArICcoXFxcXHN8JCknKS50ZXN0KCBlbGVtLmNsYXNzTmFtZSApICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGVsZW07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIHNlbGVjdG9yIGlzIGFuIElEXG5cdFx0XHRpZiAoIGZpcnN0Q2hhciA9PT0gJyMnICkge1xuXHRcdFx0XHRpZiAoIGVsZW0uaWQgPT09IHNlbGVjdG9yLnN1YnN0cigxKSApIHtcblx0XHRcdFx0XHRyZXR1cm4gZWxlbTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiBzZWxlY3RvciBpcyBhIGRhdGEgYXR0cmlidXRlXG5cdFx0XHRpZiAoIGZpcnN0Q2hhciA9PT0gJ1snICkge1xuXHRcdFx0XHRpZiAoIGVsZW0uaGFzQXR0cmlidXRlKCBhdHRyaWJ1dGVbMF0gKSApIHtcblx0XHRcdFx0XHRpZiAoIHZhbHVlICkge1xuXHRcdFx0XHRcdFx0aWYgKCBlbGVtLmdldEF0dHJpYnV0ZSggYXR0cmlidXRlWzBdICkgPT09IGF0dHJpYnV0ZVsxXSApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGVsZW07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHJldHVybiBlbGVtO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiBzZWxlY3RvciBpcyBhIHRhZ1xuXHRcdFx0aWYgKCBlbGVtLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gc2VsZWN0b3IgKSB7XG5cdFx0XHRcdHJldHVybiBlbGVtO1xuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIG51bGw7XG5cblx0fTtcblxuXHQvKipcblx0ICogRXNjYXBlIHNwZWNpYWwgY2hhcmFjdGVycyBmb3IgdXNlIHdpdGggcXVlcnlTZWxlY3RvclxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaWQgVGhlIGFuY2hvciBJRCB0byBlc2NhcGVcblx0ICogQGF1dGhvciBNYXRoaWFzIEJ5bmVuc1xuXHQgKiBAbGluayBodHRwczovL2dpdGh1Yi5jb20vbWF0aGlhc2J5bmVucy9DU1MuZXNjYXBlXG5cdCAqL1xuXHR2YXIgZXNjYXBlQ2hhcmFjdGVycyA9IGZ1bmN0aW9uICggaWQgKSB7XG5cblx0XHQvLyBSZW1vdmUgbGVhZGluZyBoYXNoXG5cdFx0aWYgKCBpZC5jaGFyQXQoMCkgPT09ICcjJyApIHtcblx0XHRcdGlkID0gaWQuc3Vic3RyKDEpO1xuXHRcdH1cblxuXHRcdHZhciBzdHJpbmcgPSBTdHJpbmcoaWQpO1xuXHRcdHZhciBsZW5ndGggPSBzdHJpbmcubGVuZ3RoO1xuXHRcdHZhciBpbmRleCA9IC0xO1xuXHRcdHZhciBjb2RlVW5pdDtcblx0XHR2YXIgcmVzdWx0ID0gJyc7XG5cdFx0dmFyIGZpcnN0Q29kZVVuaXQgPSBzdHJpbmcuY2hhckNvZGVBdCgwKTtcblx0XHR3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuXHRcdFx0Y29kZVVuaXQgPSBzdHJpbmcuY2hhckNvZGVBdChpbmRleCk7XG5cdFx0XHQvLyBOb3RlOiB0aGVyZeKAmXMgbm8gbmVlZCB0byBzcGVjaWFsLWNhc2UgYXN0cmFsIHN5bWJvbHMsIHN1cnJvZ2F0ZVxuXHRcdFx0Ly8gcGFpcnMsIG9yIGxvbmUgc3Vycm9nYXRlcy5cblxuXHRcdFx0Ly8gSWYgdGhlIGNoYXJhY3RlciBpcyBOVUxMIChVKzAwMDApLCB0aGVuIHRocm93IGFuXG5cdFx0XHQvLyBgSW52YWxpZENoYXJhY3RlckVycm9yYCBleGNlcHRpb24gYW5kIHRlcm1pbmF0ZSB0aGVzZSBzdGVwcy5cblx0XHRcdGlmIChjb2RlVW5pdCA9PT0gMHgwMDAwKSB7XG5cdFx0XHRcdHRocm93IG5ldyBJbnZhbGlkQ2hhcmFjdGVyRXJyb3IoXG5cdFx0XHRcdFx0J0ludmFsaWQgY2hhcmFjdGVyOiB0aGUgaW5wdXQgY29udGFpbnMgVSswMDAwLidcblx0XHRcdFx0KTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKFxuXHRcdFx0XHQvLyBJZiB0aGUgY2hhcmFjdGVyIGlzIGluIHRoZSByYW5nZSBbXFwxLVxcMUZdIChVKzAwMDEgdG8gVSswMDFGKSBvciBpc1xuXHRcdFx0XHQvLyBVKzAwN0YsIFvigKZdXG5cdFx0XHRcdChjb2RlVW5pdCA+PSAweDAwMDEgJiYgY29kZVVuaXQgPD0gMHgwMDFGKSB8fCBjb2RlVW5pdCA9PSAweDAwN0YgfHxcblx0XHRcdFx0Ly8gSWYgdGhlIGNoYXJhY3RlciBpcyB0aGUgZmlyc3QgY2hhcmFjdGVyIGFuZCBpcyBpbiB0aGUgcmFuZ2UgWzAtOV1cblx0XHRcdFx0Ly8gKFUrMDAzMCB0byBVKzAwMzkpLCBb4oCmXVxuXHRcdFx0XHQoaW5kZXggPT09IDAgJiYgY29kZVVuaXQgPj0gMHgwMDMwICYmIGNvZGVVbml0IDw9IDB4MDAzOSkgfHxcblx0XHRcdFx0Ly8gSWYgdGhlIGNoYXJhY3RlciBpcyB0aGUgc2Vjb25kIGNoYXJhY3RlciBhbmQgaXMgaW4gdGhlIHJhbmdlIFswLTldXG5cdFx0XHRcdC8vIChVKzAwMzAgdG8gVSswMDM5KSBhbmQgdGhlIGZpcnN0IGNoYXJhY3RlciBpcyBhIGAtYCAoVSswMDJEKSwgW+KApl1cblx0XHRcdFx0KFxuXHRcdFx0XHRcdGluZGV4ID09PSAxICYmXG5cdFx0XHRcdFx0Y29kZVVuaXQgPj0gMHgwMDMwICYmIGNvZGVVbml0IDw9IDB4MDAzOSAmJlxuXHRcdFx0XHRcdGZpcnN0Q29kZVVuaXQgPT09IDB4MDAyRFxuXHRcdFx0XHQpXG5cdFx0XHQpIHtcblx0XHRcdFx0Ly8gaHR0cDovL2Rldi53My5vcmcvY3Nzd2cvY3Nzb20vI2VzY2FwZS1hLWNoYXJhY3Rlci1hcy1jb2RlLXBvaW50XG5cdFx0XHRcdHJlc3VsdCArPSAnXFxcXCcgKyBjb2RlVW5pdC50b1N0cmluZygxNikgKyAnICc7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiB0aGUgY2hhcmFjdGVyIGlzIG5vdCBoYW5kbGVkIGJ5IG9uZSBvZiB0aGUgYWJvdmUgcnVsZXMgYW5kIGlzXG5cdFx0XHQvLyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gVSswMDgwLCBpcyBgLWAgKFUrMDAyRCkgb3IgYF9gIChVKzAwNUYpLCBvclxuXHRcdFx0Ly8gaXMgaW4gb25lIG9mIHRoZSByYW5nZXMgWzAtOV0gKFUrMDAzMCB0byBVKzAwMzkpLCBbQS1aXSAoVSswMDQxIHRvXG5cdFx0XHQvLyBVKzAwNUEpLCBvciBbYS16XSAoVSswMDYxIHRvIFUrMDA3QSksIFvigKZdXG5cdFx0XHRpZiAoXG5cdFx0XHRcdGNvZGVVbml0ID49IDB4MDA4MCB8fFxuXHRcdFx0XHRjb2RlVW5pdCA9PT0gMHgwMDJEIHx8XG5cdFx0XHRcdGNvZGVVbml0ID09PSAweDAwNUYgfHxcblx0XHRcdFx0Y29kZVVuaXQgPj0gMHgwMDMwICYmIGNvZGVVbml0IDw9IDB4MDAzOSB8fFxuXHRcdFx0XHRjb2RlVW5pdCA+PSAweDAwNDEgJiYgY29kZVVuaXQgPD0gMHgwMDVBIHx8XG5cdFx0XHRcdGNvZGVVbml0ID49IDB4MDA2MSAmJiBjb2RlVW5pdCA8PSAweDAwN0Fcblx0XHRcdCkge1xuXHRcdFx0XHQvLyB0aGUgY2hhcmFjdGVyIGl0c2VsZlxuXHRcdFx0XHRyZXN1bHQgKz0gc3RyaW5nLmNoYXJBdChpbmRleCk7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBPdGhlcndpc2UsIHRoZSBlc2NhcGVkIGNoYXJhY3Rlci5cblx0XHRcdC8vIGh0dHA6Ly9kZXYudzMub3JnL2Nzc3dnL2Nzc29tLyNlc2NhcGUtYS1jaGFyYWN0ZXJcblx0XHRcdHJlc3VsdCArPSAnXFxcXCcgKyBzdHJpbmcuY2hhckF0KGluZGV4KTtcblxuXHRcdH1cblxuXHRcdHJldHVybiAnIycgKyByZXN1bHQ7XG5cblx0fTtcblxuXHQvKipcblx0ICogQ2FsY3VsYXRlIHRoZSBlYXNpbmcgcGF0dGVyblxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAbGluayBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9ncmUvMTY1MDI5NFxuXHQgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBFYXNpbmcgcGF0dGVyblxuXHQgKiBAcGFyYW0ge051bWJlcn0gdGltZSBUaW1lIGFuaW1hdGlvbiBzaG91bGQgdGFrZSB0byBjb21wbGV0ZVxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfVxuXHQgKi9cblx0dmFyIGVhc2luZ1BhdHRlcm4gPSBmdW5jdGlvbiAoIHR5cGUsIHRpbWUgKSB7XG5cdFx0dmFyIHBhdHRlcm47XG5cdFx0aWYgKCB0eXBlID09PSAnZWFzZUluUXVhZCcgKSBwYXR0ZXJuID0gdGltZSAqIHRpbWU7IC8vIGFjY2VsZXJhdGluZyBmcm9tIHplcm8gdmVsb2NpdHlcblx0XHRpZiAoIHR5cGUgPT09ICdlYXNlT3V0UXVhZCcgKSBwYXR0ZXJuID0gdGltZSAqICgyIC0gdGltZSk7IC8vIGRlY2VsZXJhdGluZyB0byB6ZXJvIHZlbG9jaXR5XG5cdFx0aWYgKCB0eXBlID09PSAnZWFzZUluT3V0UXVhZCcgKSBwYXR0ZXJuID0gdGltZSA8IDAuNSA/IDIgKiB0aW1lICogdGltZSA6IC0xICsgKDQgLSAyICogdGltZSkgKiB0aW1lOyAvLyBhY2NlbGVyYXRpb24gdW50aWwgaGFsZndheSwgdGhlbiBkZWNlbGVyYXRpb25cblx0XHRpZiAoIHR5cGUgPT09ICdlYXNlSW5DdWJpYycgKSBwYXR0ZXJuID0gdGltZSAqIHRpbWUgKiB0aW1lOyAvLyBhY2NlbGVyYXRpbmcgZnJvbSB6ZXJvIHZlbG9jaXR5XG5cdFx0aWYgKCB0eXBlID09PSAnZWFzZU91dEN1YmljJyApIHBhdHRlcm4gPSAoLS10aW1lKSAqIHRpbWUgKiB0aW1lICsgMTsgLy8gZGVjZWxlcmF0aW5nIHRvIHplcm8gdmVsb2NpdHlcblx0XHRpZiAoIHR5cGUgPT09ICdlYXNlSW5PdXRDdWJpYycgKSBwYXR0ZXJuID0gdGltZSA8IDAuNSA/IDQgKiB0aW1lICogdGltZSAqIHRpbWUgOiAodGltZSAtIDEpICogKDIgKiB0aW1lIC0gMikgKiAoMiAqIHRpbWUgLSAyKSArIDE7IC8vIGFjY2VsZXJhdGlvbiB1bnRpbCBoYWxmd2F5LCB0aGVuIGRlY2VsZXJhdGlvblxuXHRcdGlmICggdHlwZSA9PT0gJ2Vhc2VJblF1YXJ0JyApIHBhdHRlcm4gPSB0aW1lICogdGltZSAqIHRpbWUgKiB0aW1lOyAvLyBhY2NlbGVyYXRpbmcgZnJvbSB6ZXJvIHZlbG9jaXR5XG5cdFx0aWYgKCB0eXBlID09PSAnZWFzZU91dFF1YXJ0JyApIHBhdHRlcm4gPSAxIC0gKC0tdGltZSkgKiB0aW1lICogdGltZSAqIHRpbWU7IC8vIGRlY2VsZXJhdGluZyB0byB6ZXJvIHZlbG9jaXR5XG5cdFx0aWYgKCB0eXBlID09PSAnZWFzZUluT3V0UXVhcnQnICkgcGF0dGVybiA9IHRpbWUgPCAwLjUgPyA4ICogdGltZSAqIHRpbWUgKiB0aW1lICogdGltZSA6IDEgLSA4ICogKC0tdGltZSkgKiB0aW1lICogdGltZSAqIHRpbWU7IC8vIGFjY2VsZXJhdGlvbiB1bnRpbCBoYWxmd2F5LCB0aGVuIGRlY2VsZXJhdGlvblxuXHRcdGlmICggdHlwZSA9PT0gJ2Vhc2VJblF1aW50JyApIHBhdHRlcm4gPSB0aW1lICogdGltZSAqIHRpbWUgKiB0aW1lICogdGltZTsgLy8gYWNjZWxlcmF0aW5nIGZyb20gemVybyB2ZWxvY2l0eVxuXHRcdGlmICggdHlwZSA9PT0gJ2Vhc2VPdXRRdWludCcgKSBwYXR0ZXJuID0gMSArICgtLXRpbWUpICogdGltZSAqIHRpbWUgKiB0aW1lICogdGltZTsgLy8gZGVjZWxlcmF0aW5nIHRvIHplcm8gdmVsb2NpdHlcblx0XHRpZiAoIHR5cGUgPT09ICdlYXNlSW5PdXRRdWludCcgKSBwYXR0ZXJuID0gdGltZSA8IDAuNSA/IDE2ICogdGltZSAqIHRpbWUgKiB0aW1lICogdGltZSAqIHRpbWUgOiAxICsgMTYgKiAoLS10aW1lKSAqIHRpbWUgKiB0aW1lICogdGltZSAqIHRpbWU7IC8vIGFjY2VsZXJhdGlvbiB1bnRpbCBoYWxmd2F5LCB0aGVuIGRlY2VsZXJhdGlvblxuXHRcdHJldHVybiBwYXR0ZXJuIHx8IHRpbWU7IC8vIG5vIGVhc2luZywgbm8gYWNjZWxlcmF0aW9uXG5cdH07XG5cblx0LyoqXG5cdCAqIENhbGN1bGF0ZSBob3cgZmFyIHRvIHNjcm9sbFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge0VsZW1lbnR9IGFuY2hvciBUaGUgYW5jaG9yIGVsZW1lbnQgdG8gc2Nyb2xsIHRvXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBoZWFkZXJIZWlnaHQgSGVpZ2h0IG9mIGEgZml4ZWQgaGVhZGVyLCBpZiBhbnlcblx0ICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldCBOdW1iZXIgb2YgcGl4ZWxzIGJ5IHdoaWNoIHRvIG9mZnNldCBzY3JvbGxcblx0ICogQHJldHVybnMge051bWJlcn1cblx0ICovXG5cdHZhciBnZXRFbmRMb2NhdGlvbiA9IGZ1bmN0aW9uICggYW5jaG9yLCBoZWFkZXJIZWlnaHQsIG9mZnNldCApIHtcblx0XHR2YXIgbG9jYXRpb24gPSAwO1xuXHRcdGlmIChhbmNob3Iub2Zmc2V0UGFyZW50KSB7XG5cdFx0XHRkbyB7XG5cdFx0XHRcdGxvY2F0aW9uICs9IGFuY2hvci5vZmZzZXRUb3A7XG5cdFx0XHRcdGFuY2hvciA9IGFuY2hvci5vZmZzZXRQYXJlbnQ7XG5cdFx0XHR9IHdoaWxlIChhbmNob3IpO1xuXHRcdH1cblx0XHRsb2NhdGlvbiA9IE1hdGgubWF4KGxvY2F0aW9uIC0gaGVhZGVySGVpZ2h0IC0gb2Zmc2V0LCAwKTtcblx0XHRyZXR1cm4gTWF0aC5taW4obG9jYXRpb24sIGdldERvY3VtZW50SGVpZ2h0KCkgLSBnZXRWaWV3cG9ydEhlaWdodCgpKTtcblx0fTtcblxuXHQvKipcblx0ICogRGV0ZXJtaW5lIHRoZSB2aWV3cG9ydCdzIGhlaWdodFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfVxuXHQgKi9cblx0dmFyIGdldFZpZXdwb3J0SGVpZ2h0ID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIE1hdGgubWF4KCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0LCByb290LmlubmVySGVpZ2h0IHx8IDAgKTtcblx0fTtcblxuXHQvKipcblx0ICogRGV0ZXJtaW5lIHRoZSBkb2N1bWVudCdzIGhlaWdodFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfVxuXHQgKi9cblx0dmFyIGdldERvY3VtZW50SGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiBNYXRoLm1heChcblx0XHRcdGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0LCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0LFxuXHRcdFx0ZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQsIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vZmZzZXRIZWlnaHQsXG5cdFx0XHRkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodFxuXHRcdCk7XG5cdH07XG5cblx0LyoqXG5cdCAqIENvbnZlcnQgZGF0YS1vcHRpb25zIGF0dHJpYnV0ZSBpbnRvIGFuIG9iamVjdCBvZiBrZXkvdmFsdWUgcGFpcnNcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IG9wdGlvbnMgTGluay1zcGVjaWZpYyBvcHRpb25zIGFzIGEgZGF0YSBhdHRyaWJ1dGUgc3RyaW5nXG5cdCAqIEByZXR1cm5zIHtPYmplY3R9XG5cdCAqL1xuXHR2YXIgZ2V0RGF0YU9wdGlvbnMgPSBmdW5jdGlvbiAoIG9wdGlvbnMgKSB7XG5cdFx0cmV0dXJuICFvcHRpb25zIHx8ICEodHlwZW9mIEpTT04gPT09ICdvYmplY3QnICYmIHR5cGVvZiBKU09OLnBhcnNlID09PSAnZnVuY3Rpb24nKSA/IHt9IDogSlNPTi5wYXJzZSggb3B0aW9ucyApO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBHZXQgdGhlIGhlaWdodCBvZiB0aGUgZml4ZWQgaGVhZGVyXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSAge05vZGV9ICAgaGVhZGVyIFRoZSBoZWFkZXJcblx0ICogQHJldHVybiB7TnVtYmVyfSAgICAgICAgVGhlIGhlaWdodCBvZiB0aGUgaGVhZGVyXG5cdCAqL1xuXHR2YXIgZ2V0SGVhZGVySGVpZ2h0ID0gZnVuY3Rpb24gKCBoZWFkZXIgKSB7XG5cdFx0cmV0dXJuICFoZWFkZXIgPyAwIDogKCBnZXRIZWlnaHQoIGhlYWRlciApICsgaGVhZGVyLm9mZnNldFRvcCApO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBCcmluZyB0aGUgYW5jaG9yZWQgZWxlbWVudCBpbnRvIGZvY3VzXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHR2YXIgYWRqdXN0Rm9jdXMgPSBmdW5jdGlvbiAoIGFuY2hvciwgZW5kTG9jYXRpb24sIGlzTnVtICkge1xuXG5cdFx0Ly8gRG9uJ3QgcnVuIGlmIHNjcm9sbGluZyB0byBhIG51bWJlciBvbiB0aGUgcGFnZVxuXHRcdGlmICggaXNOdW0gKSByZXR1cm47XG5cblx0XHQvLyBPdGhlcndpc2UsIGJyaW5nIGFuY2hvciBlbGVtZW50IGludG8gZm9jdXNcblx0XHRhbmNob3IuZm9jdXMoKTtcblx0XHRpZiAoIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuaWQgIT09IGFuY2hvci5pZCApIHtcblx0XHRcdGFuY2hvci5zZXRBdHRyaWJ1dGUoICd0YWJpbmRleCcsICctMScgKTtcblx0XHRcdGFuY2hvci5mb2N1cygpO1xuXHRcdFx0YW5jaG9yLnN0eWxlLm91dGxpbmUgPSAnbm9uZSc7XG5cdFx0fVxuXHRcdHJvb3Quc2Nyb2xsVG8oIDAgLCBlbmRMb2NhdGlvbiApO1xuXG5cdH07XG5cblx0LyoqXG5cdCAqIFN0YXJ0L3N0b3AgdGhlIHNjcm9sbGluZyBhbmltYXRpb25cblx0ICogQHB1YmxpY1xuXHQgKiBAcGFyYW0ge05vZGV8TnVtYmVyfSBhbmNob3IgIFRoZSBlbGVtZW50IG9yIHBvc2l0aW9uIHRvIHNjcm9sbCB0b1xuXHQgKiBAcGFyYW0ge0VsZW1lbnR9ICAgICB0b2dnbGUgIFRoZSBlbGVtZW50IHRoYXQgdG9nZ2xlZCB0aGUgc2Nyb2xsIGV2ZW50XG5cdCAqIEBwYXJhbSB7T2JqZWN0fSAgICAgIG9wdGlvbnNcblx0ICovXG5cdHNtb290aFNjcm9sbC5hbmltYXRlU2Nyb2xsID0gZnVuY3Rpb24gKCBhbmNob3IsIHRvZ2dsZSwgb3B0aW9ucyApIHtcblxuXHRcdC8vIE9wdGlvbnMgYW5kIG92ZXJyaWRlc1xuXHRcdHZhciBvdmVycmlkZXMgPSBnZXREYXRhT3B0aW9ucyggdG9nZ2xlID8gdG9nZ2xlLmdldEF0dHJpYnV0ZSgnZGF0YS1vcHRpb25zJykgOiBudWxsICk7XG5cdFx0dmFyIGFuaW1hdGVTZXR0aW5ncyA9IGV4dGVuZCggc2V0dGluZ3MgfHwgZGVmYXVsdHMsIG9wdGlvbnMgfHwge30sIG92ZXJyaWRlcyApOyAvLyBNZXJnZSB1c2VyIG9wdGlvbnMgd2l0aCBkZWZhdWx0c1xuXG5cdFx0Ly8gU2VsZWN0b3JzIGFuZCB2YXJpYWJsZXNcblx0XHR2YXIgaXNOdW0gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoIGFuY2hvciApID09PSAnW29iamVjdCBOdW1iZXJdJyA/IHRydWUgOiBmYWxzZTtcblx0XHR2YXIgYW5jaG9yRWxlbSA9IGlzTnVtIHx8ICFhbmNob3IudGFnTmFtZSA/IG51bGwgOiBhbmNob3I7XG5cdFx0aWYgKCAhaXNOdW0gJiYgIWFuY2hvckVsZW0gKSByZXR1cm47XG5cdFx0dmFyIHN0YXJ0TG9jYXRpb24gPSByb290LnBhZ2VZT2Zmc2V0OyAvLyBDdXJyZW50IGxvY2F0aW9uIG9uIHRoZSBwYWdlXG5cdFx0aWYgKCBhbmltYXRlU2V0dGluZ3Muc2VsZWN0b3JIZWFkZXIgJiYgIWZpeGVkSGVhZGVyICkge1xuXHRcdFx0Ly8gR2V0IHRoZSBmaXhlZCBoZWFkZXIgaWYgbm90IGFscmVhZHkgc2V0XG5cdFx0XHRmaXhlZEhlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIGFuaW1hdGVTZXR0aW5ncy5zZWxlY3RvckhlYWRlciApO1xuXHRcdH1cblx0XHRpZiAoICFoZWFkZXJIZWlnaHQgKSB7XG5cdFx0XHQvLyBHZXQgdGhlIGhlaWdodCBvZiBhIGZpeGVkIGhlYWRlciBpZiBvbmUgZXhpc3RzIGFuZCBub3QgYWxyZWFkeSBzZXRcblx0XHRcdGhlYWRlckhlaWdodCA9IGdldEhlYWRlckhlaWdodCggZml4ZWRIZWFkZXIgKTtcblx0XHR9XG5cdFx0dmFyIGVuZExvY2F0aW9uID0gaXNOdW0gPyBhbmNob3IgOiBnZXRFbmRMb2NhdGlvbiggYW5jaG9yRWxlbSwgaGVhZGVySGVpZ2h0LCBwYXJzZUludChhbmltYXRlU2V0dGluZ3Mub2Zmc2V0LCAxMCkgKTsgLy8gTG9jYXRpb24gdG8gc2Nyb2xsIHRvXG5cdFx0dmFyIGRpc3RhbmNlID0gZW5kTG9jYXRpb24gLSBzdGFydExvY2F0aW9uOyAvLyBkaXN0YW5jZSB0byB0cmF2ZWxcblx0XHR2YXIgZG9jdW1lbnRIZWlnaHQgPSBnZXREb2N1bWVudEhlaWdodCgpO1xuXHRcdHZhciB0aW1lTGFwc2VkID0gMDtcblx0XHR2YXIgcGVyY2VudGFnZSwgcG9zaXRpb247XG5cblx0XHQvKipcblx0XHQgKiBTdG9wIHRoZSBzY3JvbGwgYW5pbWF0aW9uIHdoZW4gaXQgcmVhY2hlcyBpdHMgdGFyZ2V0IChvciB0aGUgYm90dG9tL3RvcCBvZiBwYWdlKVxuXHRcdCAqIEBwcml2YXRlXG5cdFx0ICogQHBhcmFtIHtOdW1iZXJ9IHBvc2l0aW9uIEN1cnJlbnQgcG9zaXRpb24gb24gdGhlIHBhZ2Vcblx0XHQgKiBAcGFyYW0ge051bWJlcn0gZW5kTG9jYXRpb24gU2Nyb2xsIHRvIGxvY2F0aW9uXG5cdFx0ICogQHBhcmFtIHtOdW1iZXJ9IGFuaW1hdGlvbkludGVydmFsIEhvdyBtdWNoIHRvIHNjcm9sbCBvbiB0aGlzIGxvb3Bcblx0XHQgKi9cblx0XHR2YXIgc3RvcEFuaW1hdGVTY3JvbGwgPSBmdW5jdGlvbiAoIHBvc2l0aW9uLCBlbmRMb2NhdGlvbiwgYW5pbWF0aW9uSW50ZXJ2YWwgKSB7XG5cdFx0XHR2YXIgY3VycmVudExvY2F0aW9uID0gcm9vdC5wYWdlWU9mZnNldDtcblx0XHRcdGlmICggcG9zaXRpb24gPT0gZW5kTG9jYXRpb24gfHwgY3VycmVudExvY2F0aW9uID09IGVuZExvY2F0aW9uIHx8ICggKHJvb3QuaW5uZXJIZWlnaHQgKyBjdXJyZW50TG9jYXRpb24pID49IGRvY3VtZW50SGVpZ2h0ICkgKSB7XG5cblx0XHRcdFx0Ly8gQ2xlYXIgdGhlIGFuaW1hdGlvbiB0aW1lclxuXHRcdFx0XHRjbGVhckludGVydmFsKGFuaW1hdGlvbkludGVydmFsKTtcblxuXHRcdFx0XHQvLyBCcmluZyB0aGUgYW5jaG9yZWQgZWxlbWVudCBpbnRvIGZvY3VzXG5cdFx0XHRcdGFkanVzdEZvY3VzKCBhbmNob3IsIGVuZExvY2F0aW9uLCBpc051bSApO1xuXG5cdFx0XHRcdC8vIFJ1biBjYWxsYmFjayBhZnRlciBhbmltYXRpb24gY29tcGxldGVcblx0XHRcdFx0YW5pbWF0ZVNldHRpbmdzLmNhbGxiYWNrKCBhbmNob3IsIHRvZ2dsZSApO1xuXG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIExvb3Agc2Nyb2xsaW5nIGFuaW1hdGlvblxuXHRcdCAqIEBwcml2YXRlXG5cdFx0ICovXG5cdFx0dmFyIGxvb3BBbmltYXRlU2Nyb2xsID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0dGltZUxhcHNlZCArPSAxNjtcblx0XHRcdHBlcmNlbnRhZ2UgPSAoIHRpbWVMYXBzZWQgLyBwYXJzZUludChhbmltYXRlU2V0dGluZ3Muc3BlZWQsIDEwKSApO1xuXHRcdFx0cGVyY2VudGFnZSA9ICggcGVyY2VudGFnZSA+IDEgKSA/IDEgOiBwZXJjZW50YWdlO1xuXHRcdFx0cG9zaXRpb24gPSBzdGFydExvY2F0aW9uICsgKCBkaXN0YW5jZSAqIGVhc2luZ1BhdHRlcm4oYW5pbWF0ZVNldHRpbmdzLmVhc2luZywgcGVyY2VudGFnZSkgKTtcblx0XHRcdHJvb3Quc2Nyb2xsVG8oIDAsIE1hdGguZmxvb3IocG9zaXRpb24pICk7XG5cdFx0XHRzdG9wQW5pbWF0ZVNjcm9sbChwb3NpdGlvbiwgZW5kTG9jYXRpb24sIGFuaW1hdGlvbkludGVydmFsKTtcblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogU2V0IGludGVydmFsIHRpbWVyXG5cdFx0ICogQHByaXZhdGVcblx0XHQgKi9cblx0XHR2YXIgc3RhcnRBbmltYXRlU2Nyb2xsID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0Y2xlYXJJbnRlcnZhbChhbmltYXRpb25JbnRlcnZhbCk7XG5cdFx0XHRhbmltYXRpb25JbnRlcnZhbCA9IHNldEludGVydmFsKGxvb3BBbmltYXRlU2Nyb2xsLCAxNik7XG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIFJlc2V0IHBvc2l0aW9uIHRvIGZpeCB3ZWlyZCBpT1MgYnVnXG5cdFx0ICogQGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2NmZXJkaW5hbmRpL3Ntb290aC1zY3JvbGwvaXNzdWVzLzQ1XG5cdFx0ICovXG5cdFx0aWYgKCByb290LnBhZ2VZT2Zmc2V0ID09PSAwICkge1xuXHRcdFx0cm9vdC5zY3JvbGxUbyggMCwgMCApO1xuXHRcdH1cblxuXHRcdC8vIFN0YXJ0IHNjcm9sbGluZyBhbmltYXRpb25cblx0XHRzdGFydEFuaW1hdGVTY3JvbGwoKTtcblxuXHR9O1xuXG5cdC8qKlxuXHQgKiBIYW5kbGUgaGFzIGNoYW5nZSBldmVudFxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0dmFyIGhhc2hDaGFuZ2VIYW5kbGVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XG5cblx0XHQvLyBHZXQgaGFzaCBmcm9tIFVSTFxuXHRcdHZhciBoYXNoID0gcm9vdC5sb2NhdGlvbi5oYXNoO1xuXG5cdFx0Ly8gT25seSBydW4gaWYgdGhlcmUncyBhbiBhbmNob3IgZWxlbWVudCB0byBzY3JvbGwgdG9cblx0XHRpZiAoICFhbmNob3IgKSByZXR1cm47XG5cblx0XHQvLyBSZXNldCB0aGUgYW5jaG9yIGVsZW1lbnQncyBJRFxuXHRcdGFuY2hvci5pZCA9IGFuY2hvci5nZXRBdHRyaWJ1dGUoICdkYXRhLXNjcm9sbC1pZCcgKTtcblxuXHRcdC8vIFNjcm9sbCB0byB0aGUgYW5jaG9yZWQgY29udGVudFxuXHRcdHNtb290aFNjcm9sbC5hbmltYXRlU2Nyb2xsKCBhbmNob3IsIHRvZ2dsZSApO1xuXG5cdFx0Ly8gUmVzZXQgYW5jaG9yIGFuZCB0b2dnbGVcblx0XHRhbmNob3IgPSBudWxsO1xuXHRcdHRvZ2dsZSA9IG51bGw7XG5cblx0fTtcblxuXHQvKipcblx0ICogSWYgc21vb3RoIHNjcm9sbCBlbGVtZW50IGNsaWNrZWQsIGFuaW1hdGUgc2Nyb2xsXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHR2YXIgY2xpY2tIYW5kbGVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XG5cblx0XHQvLyBEb24ndCBydW4gaWYgcmlnaHQtY2xpY2sgb3IgY29tbWFuZC9jb250cm9sICsgY2xpY2tcblx0XHRpZiAoIGV2ZW50LmJ1dHRvbiAhPT0gMCB8fCBldmVudC5tZXRhS2V5IHx8IGV2ZW50LmN0cmxLZXkgKSByZXR1cm47XG5cblx0XHQvLyBDaGVjayBpZiBhIHNtb290aCBzY3JvbGwgbGluayB3YXMgY2xpY2tlZFxuXHRcdHRvZ2dsZSA9IGdldENsb3Nlc3QoIGV2ZW50LnRhcmdldCwgc2V0dGluZ3Muc2VsZWN0b3IgKTtcblx0XHRpZiAoICF0b2dnbGUgfHwgdG9nZ2xlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSAhPT0gJ2EnICkgcmV0dXJuO1xuXG5cdFx0Ly8gT25seSBydW4gaWYgbGluayBpcyBhbiBhbmNob3IgYW5kIHBvaW50cyB0byB0aGUgY3VycmVudCBwYWdlXG5cdFx0aWYgKCB0b2dnbGUuaG9zdG5hbWUgIT09IHJvb3QubG9jYXRpb24uaG9zdG5hbWUgfHwgdG9nZ2xlLnBhdGhuYW1lICE9PSByb290LmxvY2F0aW9uLnBhdGhuYW1lIHx8ICEvIy8udGVzdCh0b2dnbGUuaHJlZikgKSByZXR1cm47XG5cblx0XHQvLyBHZXQgdGhlIHNhbml0aXplZCBoYXNoXG5cdFx0dmFyIGhhc2ggPSBlc2NhcGVDaGFyYWN0ZXJzKCB0b2dnbGUuaGFzaCApO1xuXG5cdFx0Ly8gSWYgdGhlIGhhc2ggaXMgZW1wdHksIHNjcm9sbCB0byB0aGUgdG9wIG9mIHRoZSBwYWdlXG5cdFx0aWYgKCBoYXNoID09PSAnIycgKSB7XG5cblx0XHRcdC8vIFByZXZlbnQgZGVmYXVsdCBsaW5rIGJlaGF2aW9yXG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHQvLyBTZXQgdGhlIGFuY2hvcmVkIGVsZW1lbnRcblx0XHRcdGFuY2hvciA9IGRvY3VtZW50LmJvZHk7XG5cblx0XHRcdC8vIFNhdmUgb3IgY3JlYXRlIHRoZSBJRCBhcyBhIGRhdGEgYXR0cmlidXRlIGFuZCByZW1vdmUgaXQgKHByZXZlbnRzIHNjcm9sbCBqdW1wKVxuXHRcdFx0dmFyIGlkID0gYW5jaG9yLmlkID8gYW5jaG9yLmlkIDogJ3Ntb290aC1zY3JvbGwtdG9wJztcblx0XHRcdGFuY2hvci5zZXRBdHRyaWJ1dGUoICdkYXRhLXNjcm9sbC1pZCcsIGlkICk7XG5cdFx0XHRhbmNob3IuaWQgPSAnJztcblxuXHRcdFx0Ly8gSWYgbm8gaGFzaCBjaGFuZ2UgZXZlbnQgd2lsbCBoYXBwZW4sIGZpcmUgbWFudWFsbHlcblx0XHRcdC8vIE90aGVyd2lzZSwgdXBkYXRlIHRoZSBoYXNoXG5cdFx0XHRpZiAoIHJvb3QubG9jYXRpb24uaGFzaC5zdWJzdHJpbmcoMSkgPT09IGlkICkge1xuXHRcdFx0XHRoYXNoQ2hhbmdlSGFuZGxlcigpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cm9vdC5sb2NhdGlvbi5oYXNoID0gaWQ7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybjtcblxuXHRcdH1cblxuXHRcdC8vIEdldCB0aGUgYW5jaG9yZWQgZWxlbWVudFxuXHRcdGFuY2hvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIGhhc2ggKTtcblxuXHRcdC8vIElmIGFuY2hvcmVkIGVsZW1lbnQgZXhpc3RzLCBzYXZlIHRoZSBJRCBhcyBhIGRhdGEgYXR0cmlidXRlIGFuZCByZW1vdmUgaXQgKHByZXZlbnRzIHNjcm9sbCBqdW1wKVxuXHRcdGlmICggIWFuY2hvciApIHJldHVybjtcblx0XHRhbmNob3Iuc2V0QXR0cmlidXRlKCAnZGF0YS1zY3JvbGwtaWQnLCBhbmNob3IuaWQgKTtcblx0XHRhbmNob3IuaWQgPSAnJztcblxuXHRcdC8vIElmIG5vIGhhc2ggY2hhbmdlIGV2ZW50IHdpbGwgaGFwcGVuLCBmaXJlIG1hbnVhbGx5XG5cdFx0aWYgKCB0b2dnbGUuaGFzaCA9PT0gcm9vdC5sb2NhdGlvbi5oYXNoICkge1xuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdGhhc2hDaGFuZ2VIYW5kbGVyKCk7XG5cdFx0fVxuXG5cdH07XG5cblx0LyoqXG5cdCAqIE9uIHdpbmRvdyBzY3JvbGwgYW5kIHJlc2l6ZSwgb25seSBydW4gZXZlbnRzIGF0IGEgcmF0ZSBvZiAxNWZwcyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSAge0Z1bmN0aW9ufSBldmVudFRpbWVvdXQgVGltZW91dCBmdW5jdGlvblxuXHQgKiBAcGFyYW0gIHtPYmplY3R9IHNldHRpbmdzXG5cdCAqL1xuXHR2YXIgcmVzaXplVGhyb3R0bGVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0aWYgKCAhZXZlbnRUaW1lb3V0ICkge1xuXHRcdFx0ZXZlbnRUaW1lb3V0ID0gc2V0VGltZW91dCgoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGV2ZW50VGltZW91dCA9IG51bGw7IC8vIFJlc2V0IHRpbWVvdXRcblx0XHRcdFx0aGVhZGVySGVpZ2h0ID0gZ2V0SGVhZGVySGVpZ2h0KCBmaXhlZEhlYWRlciApOyAvLyBHZXQgdGhlIGhlaWdodCBvZiBhIGZpeGVkIGhlYWRlciBpZiBvbmUgZXhpc3RzXG5cdFx0XHR9KSwgNjYpO1xuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogRGVzdHJveSB0aGUgY3VycmVudCBpbml0aWFsaXphdGlvbi5cblx0ICogQHB1YmxpY1xuXHQgKi9cblx0c21vb3RoU2Nyb2xsLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG5cblx0XHQvLyBJZiBwbHVnaW4gaXNuJ3QgYWxyZWFkeSBpbml0aWFsaXplZCwgc3RvcFxuXHRcdGlmICggIXNldHRpbmdzICkgcmV0dXJuO1xuXG5cdFx0Ly8gUmVtb3ZlIGV2ZW50IGxpc3RlbmVyc1xuXHRcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoICdjbGljaycsIGNsaWNrSGFuZGxlciwgZmFsc2UgKTtcblx0XHRyb290LnJlbW92ZUV2ZW50TGlzdGVuZXIoICdyZXNpemUnLCByZXNpemVUaHJvdHRsZXIsIGZhbHNlICk7XG5cblx0XHQvLyBSZXNldCB2YXJhaWJsZXNcblx0XHRzZXR0aW5ncyA9IG51bGw7XG5cdFx0YW5jaG9yID0gbnVsbDtcblx0XHR0b2dnbGUgPSBudWxsO1xuXHRcdGZpeGVkSGVhZGVyID0gbnVsbDtcblx0XHRoZWFkZXJIZWlnaHQgPSBudWxsO1xuXHRcdGV2ZW50VGltZW91dCA9IG51bGw7XG5cdFx0YW5pbWF0aW9uSW50ZXJ2YWwgPSBudWxsO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBJbml0aWFsaXplIFNtb290aCBTY3JvbGxcblx0ICogQHB1YmxpY1xuXHQgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBVc2VyIHNldHRpbmdzXG5cdCAqL1xuXHRzbW9vdGhTY3JvbGwuaW5pdCA9IGZ1bmN0aW9uICggb3B0aW9ucyApIHtcblxuXHRcdC8vIGZlYXR1cmUgdGVzdFxuXHRcdGlmICggIXN1cHBvcnRzICkgcmV0dXJuO1xuXG5cdFx0Ly8gRGVzdHJveSBhbnkgZXhpc3RpbmcgaW5pdGlhbGl6YXRpb25zXG5cdFx0c21vb3RoU2Nyb2xsLmRlc3Ryb3koKTtcblxuXHRcdC8vIFNlbGVjdG9ycyBhbmQgdmFyaWFibGVzXG5cdFx0c2V0dGluZ3MgPSBleHRlbmQoIGRlZmF1bHRzLCBvcHRpb25zIHx8IHt9ICk7IC8vIE1lcmdlIHVzZXIgb3B0aW9ucyB3aXRoIGRlZmF1bHRzXG5cdFx0Zml4ZWRIZWFkZXIgPSBzZXR0aW5ncy5zZWxlY3RvckhlYWRlciA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIHNldHRpbmdzLnNlbGVjdG9ySGVhZGVyICkgOiBudWxsOyAvLyBHZXQgdGhlIGZpeGVkIGhlYWRlclxuXHRcdGhlYWRlckhlaWdodCA9IGdldEhlYWRlckhlaWdodCggZml4ZWRIZWFkZXIgKTtcblxuXHRcdC8vIFdoZW4gYSB0b2dnbGUgaXMgY2xpY2tlZCwgcnVuIHRoZSBjbGljayBoYW5kbGVyXG5cdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ2NsaWNrJywgY2xpY2tIYW5kbGVyLCBmYWxzZSApO1xuXG5cdFx0Ly8gTGlzdGVuIGZvciBoYXNoIGNoYW5nZXNcblx0XHRyb290LmFkZEV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCBoYXNoQ2hhbmdlSGFuZGxlciwgZmFsc2UpO1xuXG5cdFx0Ly8gSWYgd2luZG93IGlzIHJlc2l6ZWQgYW5kIHRoZXJlJ3MgYSBmaXhlZCBoZWFkZXIsIHJlY2FsY3VsYXRlIGl0cyBzaXplXG5cdFx0aWYgKCBmaXhlZEhlYWRlciApIHtcblx0XHRcdHJvb3QuYWRkRXZlbnRMaXN0ZW5lciggJ3Jlc2l6ZScsIHJlc2l6ZVRocm90dGxlciwgZmFsc2UgKTtcblx0XHR9XG5cblx0fTtcblxuXG5cdC8vXG5cdC8vIFB1YmxpYyBBUElzXG5cdC8vXG5cblx0cmV0dXJuIHNtb290aFNjcm9sbDtcblxufSkpOyJdfQ==
